{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 17:44:40:4440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 17:44:42:4442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 17:44:42:4442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 17:44:42:4442"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 17:44:42:4442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 17:44:42:4442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 17:44:42:4442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 17:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 17:44:44:4444"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:14:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 521440f1-6e13-488b-9696-3eb45ec45800 Correlation ID: a0b94af9-27fd-448f-a810-29b6cbab02b5 Timestamp: 2025-09-17 12:14:49Z - Correlation ID: a0b94af9-27fd-448f-a810-29b6cbab02b5 - Trace ID: 521440f1-6e13-488b-9696-3eb45ec45800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:14:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 521440f1-6e13-488b-9696-3eb45ec45800 Correlation ID: a0b94af9-27fd-448f-a810-29b6cbab02b5 Timestamp: 2025-09-17 12:14:49Z - Correlation ID: a0b94af9-27fd-448f-a810-29b6cbab02b5 - Trace ID: 521440f1-6e13-488b-9696-3eb45ec45800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: pool.request(...).query is not a function\u001b[39m","stack":"TypeError: pool.request(...).query is not a function\n    at ConfigurationManager.loadConfigurationsFromDatabase (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:59:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConfigurationManager.initialize (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:43:7)\n    at async startServer (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\index.ts:105:5)","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: pool.request(...).query is not a function\u001b[39m","stack":"TypeError: pool.request(...).query is not a function\n    at ConfigurationManager.loadConfigurationsFromDatabase (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:59:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConfigurationManager.initialize (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:43:7)\n    at async startServer (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\index.ts:105:5)","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database service ready\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 17:44:49:4449"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 17:53:06:536"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 17:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 17:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 17:53:07:537"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 17:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 17:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 17:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 17:53:08:538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 17:53:09:539"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:23:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0c61ec37-b765-42c0-b2e1-0db275ef0f01 Correlation ID: 23cc6fd3-c885-4652-8fde-6079203d5002 Timestamp: 2025-09-17 12:23:14Z - Correlation ID: 23cc6fd3-c885-4652-8fde-6079203d5002 - Trace ID: 0c61ec37-b765-42c0-b2e1-0db275ef0f01\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:23:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0c61ec37-b765-42c0-b2e1-0db275ef0f01 Correlation ID: 23cc6fd3-c885-4652-8fde-6079203d5002 Timestamp: 2025-09-17 12:23:14Z - Correlation ID: 23cc6fd3-c885-4652-8fde-6079203d5002 - Trace ID: 0c61ec37-b765-42c0-b2e1-0db275ef0f01\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 17:53:14:5314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 17:53:14:5314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 17:53:14:5314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 17:53:14:5314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 17:53:18:5318"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":3,"message":"\u001b[31m‚ùå Failed to initialize database schema: Could not create constraint or index. See previous errors.\u001b[39m","name":"RequestError","number":1750,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Could not create constraint or index. See previous errors.","name":"ERROR","number":1750,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":16,"code":"EREQUEST","lineNumber":3,"name":"RequestError","number":1785,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Introducing FOREIGN KEY constraint 'FK__Chats__workspace__70DDC3D8' on table 'Chats' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.","name":"ERROR","number":1785,"procName":"","serverName":"aivaserver","state":0}},"procName":"","serverName":"aivaserver"}],"procName":"","serverName":"aivaserver","stack":"RequestError: Could not create constraint or index. See previous errors.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 17:53:26:5326"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":3,"message":"\u001b[31m‚ùå Database connection failed: Could not create constraint or index. See previous errors.\u001b[39m","name":"RequestError","number":1750,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Could not create constraint or index. See previous errors.","name":"ERROR","number":1750,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":16,"code":"EREQUEST","lineNumber":3,"name":"RequestError","number":1785,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Introducing FOREIGN KEY constraint 'FK__Chats__workspace__70DDC3D8' on table 'Chats' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.","name":"ERROR","number":1785,"procName":"","serverName":"aivaserver","state":0}},"procName":"","serverName":"aivaserver"}],"procName":"","serverName":"aivaserver","stack":"RequestError: Could not create constraint or index. See previous errors.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 17:53:26:5326"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":3,"message":"\u001b[31mFailed to load configurations from database: Could not create constraint or index. See previous errors.\u001b[39m","name":"RequestError","number":1750,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Could not create constraint or index. See previous errors.","name":"ERROR","number":1750,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":16,"code":"EREQUEST","lineNumber":3,"name":"RequestError","number":1785,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Introducing FOREIGN KEY constraint 'FK__Chats__workspace__70DDC3D8' on table 'Chats' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.","name":"ERROR","number":1785,"procName":"","serverName":"aivaserver","state":0}},"procName":"","serverName":"aivaserver"}],"procName":"","serverName":"aivaserver","stack":"RequestError: Could not create constraint or index. See previous errors.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 17:53:26:5326"}
{"class":16,"code":"EREQUEST","level":"\u001b[33mwarn\u001b[39m","lineNumber":3,"message":"\u001b[33mFailed to load configurations from database, using environment variables: Could not create constraint or index. See previous errors.\u001b[39m","name":"RequestError","number":1750,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Could not create constraint or index. See previous errors.","name":"ERROR","number":1750,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":16,"code":"EREQUEST","lineNumber":3,"name":"RequestError","number":1785,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Introducing FOREIGN KEY constraint 'FK__Chats__workspace__70DDC3D8' on table 'Chats' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.","name":"ERROR","number":1785,"procName":"","serverName":"aivaserver","state":0}},"procName":"","serverName":"aivaserver"}],"procName":"","serverName":"aivaserver","stack":"RequestError: Could not create constraint or index. See previous errors.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 17:53:26:5326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-17 17:53:26:5326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 17:53:26:5326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 17:53:26:5326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 17:53:30:5330"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":3,"message":"\u001b[31m‚ùå Failed to initialize database schema: Could not create constraint or index. See previous errors.\u001b[39m","name":"RequestError","number":1750,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Could not create constraint or index. See previous errors.","name":"ERROR","number":1750,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":16,"code":"EREQUEST","lineNumber":3,"name":"RequestError","number":1785,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":3,"message":"Introducing FOREIGN KEY constraint 'FK__Chats__workspace__787EE5A0' on table 'Chats' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.","name":"ERROR","number":1785,"procName":"","serverName":"aivaserver","state":0}},"procName":"","serverName":"aivaserver"}],"procName":"","serverName":"aivaserver","stack":"RequestError: Could not create constraint or index. See previous errors.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 17:53:37:5337"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 18:00:19:019"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 18:00:22:022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 18:00:22:022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 18:00:23:023"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 18:00:23:023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 18:00:23:023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 18:00:23:023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 18:00:25:025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 18:00:26:026"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:30:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 689121bb-f65b-4730-816c-e94cfaf49200 Correlation ID: 214e1eba-cac8-4c08-baad-571d9f4ae31b Timestamp: 2025-09-17 12:30:44Z - Correlation ID: 214e1eba-cac8-4c08-baad-571d9f4ae31b - Trace ID: 689121bb-f65b-4730-816c-e94cfaf49200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:30:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 689121bb-f65b-4730-816c-e94cfaf49200 Correlation ID: 214e1eba-cac8-4c08-baad-571d9f4ae31b Timestamp: 2025-09-17 12:30:44Z - Correlation ID: 214e1eba-cac8-4c08-baad-571d9f4ae31b - Trace ID: 689121bb-f65b-4730-816c-e94cfaf49200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 18:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 18:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 18:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 18:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 18:00:49:049"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":18,"message":"\u001b[31m‚ùå Failed to initialize database schema: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 18:01:04:14"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":18,"message":"\u001b[31m‚ùå Database connection failed: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 18:01:04:14"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":18,"message":"\u001b[31mFailed to load configurations from database: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 18:01:04:14"}
{"class":15,"code":"EREQUEST","level":"\u001b[33mwarn\u001b[39m","lineNumber":18,"message":"\u001b[33mFailed to load configurations from database, using environment variables: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 18:01:04:14"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-17 18:01:04:14"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 18:01:04:14"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 18:01:04:14"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 18:01:07:17"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":18,"message":"\u001b[31m‚ùå Failed to initialize database schema: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-17 18:01:19:119"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 18:04:50:450"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 18:04:51:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 18:04:51:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 18:04:51:451"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 18:04:51:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 18:04:51:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 18:04:51:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 18:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 18:04:54:454"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:34:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 551f1e2c-dc51-4e99-9003-3b83d5f32800 Correlation ID: e14af4ee-b6e3-47d1-a079-b4bd4146d04c Timestamp: 2025-09-17 12:34:59Z - Correlation ID: e14af4ee-b6e3-47d1-a079-b4bd4146d04c - Trace ID: 551f1e2c-dc51-4e99-9003-3b83d5f32800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 12:34:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 551f1e2c-dc51-4e99-9003-3b83d5f32800 Correlation ID: e14af4ee-b6e3-47d1-a079-b4bd4146d04c Timestamp: 2025-09-17 12:34:59Z - Correlation ID: e14af4ee-b6e3-47d1-a079-b4bd4146d04c - Trace ID: 551f1e2c-dc51-4e99-9003-3b83d5f32800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 18:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 18:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 18:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 18:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 18:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 18:05:38:538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database service ready\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 18:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 19:01:23:123"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 19:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 19:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 19:01:24:124"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 19:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 19:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 19:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 19:01:25:125"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 19:01:26:126"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 13:31:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ba503f0c-9e23-4cd8-af84-71d8e037c800 Correlation ID: 6e89f7b4-e5b8-4c07-abec-443122be2c5d Timestamp: 2025-09-17 13:31:32Z - Correlation ID: 6e89f7b4-e5b8-4c07-abec-443122be2c5d - Trace ID: ba503f0c-9e23-4cd8-af84-71d8e037c800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 13:31:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ba503f0c-9e23-4cd8-af84-71d8e037c800 Correlation ID: 6e89f7b4-e5b8-4c07-abec-443122be2c5d Timestamp: 2025-09-17 13:31:32Z - Correlation ID: 6e89f7b4-e5b8-4c07-abec-443122be2c5d - Trace ID: ba503f0c-9e23-4cd8-af84-71d8e037c800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 19:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 19:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 19:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 19:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 19:01:36:136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 19:02:11:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database service ready\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 19:02:13:213"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 20:15:14:1514"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:15:15:1515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:15:15:1515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:15:15:1515"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:15:15:1515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:15:15:1515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:15:15:1515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:15:16:1516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:15:17:1517"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:45:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a9d6feb7-54c1-49f5-b636-a23d040bb901 Correlation ID: a1cbcf06-a05f-4488-b015-19a04d0aaa0b Timestamp: 2025-09-17 14:45:23Z - Correlation ID: a1cbcf06-a05f-4488-b015-19a04d0aaa0b - Trace ID: a9d6feb7-54c1-49f5-b636-a23d040bb901\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:45:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a9d6feb7-54c1-49f5-b636-a23d040bb901 Correlation ID: a1cbcf06-a05f-4488-b015-19a04d0aaa0b Timestamp: 2025-09-17 14:45:23Z - Correlation ID: a1cbcf06-a05f-4488-b015-19a04d0aaa0b - Trace ID: a9d6feb7-54c1-49f5-b636-a23d040bb901\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:15:23:1523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:15:23:1523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:15:23:1523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:15:23:1523"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-17 20:15:25:1525"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-17 20:15:25:1525"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-17 20:15:25:1525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-17 20:15:25:1525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 20:15:25:1525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:15:25:1525"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.154' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-17 20:15:26:1526"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 20:16:47:1647"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:16:52:1652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:16:59:1659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:17:00:170"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:47:05Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f069af75-8886-4aa2-b9e0-815265276200 Correlation ID: bf78cac2-4d69-41bf-8a15-7eb5ec49d154 Timestamp: 2025-09-17 14:47:05Z - Correlation ID: bf78cac2-4d69-41bf-8a15-7eb5ec49d154 - Trace ID: f069af75-8886-4aa2-b9e0-815265276200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:47:05Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f069af75-8886-4aa2-b9e0-815265276200 Correlation ID: bf78cac2-4d69-41bf-8a15-7eb5ec49d154 Timestamp: 2025-09-17 14:47:05Z - Correlation ID: bf78cac2-4d69-41bf-8a15-7eb5ec49d154 - Trace ID: f069af75-8886-4aa2-b9e0-815265276200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:17:05:175"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:17:05:175"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:17:05:175"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:17:05:175"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:17:08:178"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:17:34:1734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database service ready\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 20:17:35:1735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 20:19:04:194"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:19:05:195"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:19:05:195"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:19:05:195"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:19:05:195"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:19:05:195"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:19:05:195"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:19:07:197"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:19:07:197"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:49:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 521440f1-6e13-488b-9696-3eb4165f5e00 Correlation ID: ad272d7a-2e92-4710-8460-f5554e8af091 Timestamp: 2025-09-17 14:49:11Z - Correlation ID: ad272d7a-2e92-4710-8460-f5554e8af091 - Trace ID: 521440f1-6e13-488b-9696-3eb4165f5e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:49:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 521440f1-6e13-488b-9696-3eb4165f5e00 Correlation ID: ad272d7a-2e92-4710-8460-f5554e8af091 Timestamp: 2025-09-17 14:49:11Z - Correlation ID: ad272d7a-2e92-4710-8460-f5554e8af091 - Trace ID: 521440f1-6e13-488b-9696-3eb4165f5e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:19:45:1945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database service ready\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 20:19:47:1947"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-17 20:27:44:2744"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:27:50:2750"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:28:02:282"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:28:06:286"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:58:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 5af5cfe8-9717-444f-ac16-300108f85900 Correlation ID: 6e98e6c1-dd22-4ad0-bd70-3b7b50c6700a Timestamp: 2025-09-17 14:58:11Z - Correlation ID: 6e98e6c1-dd22-4ad0-bd70-3b7b50c6700a - Trace ID: 5af5cfe8-9717-444f-ac16-300108f85900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:58:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 5af5cfe8-9717-444f-ac16-300108f85900 Correlation ID: 6e98e6c1-dd22-4ad0-bd70-3b7b50c6700a Timestamp: 2025-09-17 14:58:11Z - Correlation ID: 6e98e6c1-dd22-4ad0-bd70-3b7b50c6700a - Trace ID: 5af5cfe8-9717-444f-ac16-300108f85900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:28:14:2814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:28:42:2842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database service ready\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 20:28:43:2843"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:29:48:2948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:29:48:2948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:29:48:2948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:29:48:2948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:29:49:2949"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:29:50:2950"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:59:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1fb24712-6dc5-42f6-b5b5-99ac70165000 Correlation ID: 7aace470-bb44-4a80-bca0-7f5be98ee1c5 Timestamp: 2025-09-17 14:59:55Z - Correlation ID: 7aace470-bb44-4a80-bca0-7f5be98ee1c5 - Trace ID: 1fb24712-6dc5-42f6-b5b5-99ac70165000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 14:59:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1fb24712-6dc5-42f6-b5b5-99ac70165000 Correlation ID: 7aace470-bb44-4a80-bca0-7f5be98ee1c5 Timestamp: 2025-09-17 14:59:55Z - Correlation ID: 7aace470-bb44-4a80-bca0-7f5be98ee1c5 - Trace ID: 1fb24712-6dc5-42f6-b5b5-99ac70165000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:29:55:2955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:29:56:2956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:29:56:2956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:29:56:2956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:29:59:2959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:30:27:3027"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:31:00:310"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:31:00:310"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:31:00:310"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:31:00:310"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:31:01:311"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:31:02:312"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:01:07Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b1124d83-efe0-41e0-973a-9e1c59762c00 Correlation ID: 6d90215a-202c-4978-977b-b6a5ae32323f Timestamp: 2025-09-17 15:01:07Z - Correlation ID: 6d90215a-202c-4978-977b-b6a5ae32323f - Trace ID: b1124d83-efe0-41e0-973a-9e1c59762c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:01:07Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b1124d83-efe0-41e0-973a-9e1c59762c00 Correlation ID: 6d90215a-202c-4978-977b-b6a5ae32323f Timestamp: 2025-09-17 15:01:07Z - Correlation ID: 6d90215a-202c-4978-977b-b6a5ae32323f - Trace ID: b1124d83-efe0-41e0-973a-9e1c59762c00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:31:07:317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:31:07:317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:31:07:317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:31:07:317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:31:10:3110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:31:38:3138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:31:39:3139"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:32:45:3245"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:32:45:3245"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:32:45:3245"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:32:45:3245"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:32:46:3246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:32:46:3246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:32:46:3246"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:32:46:3246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:32:46:3246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:32:46:3246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 20:32:48:3248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 20:32:58:3258"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to create tables: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-17 20:33:10:3310"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:33:10:3310"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:03:19Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ea02d601-ad45-4722-b4f3-fdf947553d00 Correlation ID: 6ebf8c8c-e300-4951-afb4-fb657ca7780b Timestamp: 2025-09-17 15:03:19Z - Correlation ID: 6ebf8c8c-e300-4951-afb4-fb657ca7780b - Trace ID: ea02d601-ad45-4722-b4f3-fdf947553d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:03:19Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ea02d601-ad45-4722-b4f3-fdf947553d00 Correlation ID: 6ebf8c8c-e300-4951-afb4-fb657ca7780b Timestamp: 2025-09-17 15:03:19Z - Correlation ID: 6ebf8c8c-e300-4951-afb4-fb657ca7780b - Trace ID: ea02d601-ad45-4722-b4f3-fdf947553d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:33:20:3320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:33:20:3320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:33:20:3320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:33:20:3320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:33:23:3323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:34:07:347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:34:08:348"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:35:28:3528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:35:31:3531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 20:35:31:3531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 20:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:35:45:3545"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:05:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e75a9a61-ca83-457f-addb-698f4eab2700 Correlation ID: b174fda7-5a11-461f-8d0b-dc7fa1fdbb0e Timestamp: 2025-09-17 15:05:50Z - Correlation ID: b174fda7-5a11-461f-8d0b-dc7fa1fdbb0e - Trace ID: e75a9a61-ca83-457f-addb-698f4eab2700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:05:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e75a9a61-ca83-457f-addb-698f4eab2700 Correlation ID: b174fda7-5a11-461f-8d0b-dc7fa1fdbb0e Timestamp: 2025-09-17 15:05:50Z - Correlation ID: b174fda7-5a11-461f-8d0b-dc7fa1fdbb0e - Trace ID: e75a9a61-ca83-457f-addb-698f4eab2700\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:35:50:3550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:35:50:3550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:35:50:3550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:35:50:3550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:35:52:3552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:36:18:3618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:36:19:3619"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:38:31:3831"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:38:31:3831"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:38:31:3831"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:38:31:3831"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:38:32:3832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:38:32:3832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:38:32:3832"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:38:32:3832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:38:32:3832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:38:32:3832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:38:33:3833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 20:38:33:3833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 20:38:36:3836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:38:45:3845"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:08:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3f5b2b1d-316d-4913-b311-36fef9e92800 Correlation ID: cd9479a9-cc99-4283-9c37-137fa21a92c5 Timestamp: 2025-09-17 15:08:49Z - Correlation ID: cd9479a9-cc99-4283-9c37-137fa21a92c5 - Trace ID: 3f5b2b1d-316d-4913-b311-36fef9e92800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:08:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3f5b2b1d-316d-4913-b311-36fef9e92800 Correlation ID: cd9479a9-cc99-4283-9c37-137fa21a92c5 Timestamp: 2025-09-17 15:08:49Z - Correlation ID: cd9479a9-cc99-4283-9c37-137fa21a92c5 - Trace ID: 3f5b2b1d-316d-4913-b311-36fef9e92800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:38:49:3849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:38:49:3849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:38:49:3849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:38:49:3849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:38:52:3852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:39:19:3919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 20:39:20:3920"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:49:22:4922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:49:22:4922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:49:22:4922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:49:22:4922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:49:23:4923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:49:23:4923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:49:23:4923"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:49:23:4923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:49:23:4923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:49:23:4923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:49:25:4925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 20:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 20:49:28:4928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:49:37:4937"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:19:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 5c657ea8-d4ef-4b81-ae07-868099b47d01 Correlation ID: ccbff17a-55e2-4d0a-a8df-334f3da90e5f Timestamp: 2025-09-17 15:19:40Z - Correlation ID: ccbff17a-55e2-4d0a-a8df-334f3da90e5f - Trace ID: 5c657ea8-d4ef-4b81-ae07-868099b47d01\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:19:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 5c657ea8-d4ef-4b81-ae07-868099b47d01 Correlation ID: ccbff17a-55e2-4d0a-a8df-334f3da90e5f Timestamp: 2025-09-17 15:19:40Z - Correlation ID: ccbff17a-55e2-4d0a-a8df-334f3da90e5f - Trace ID: 5c657ea8-d4ef-4b81-ae07-868099b47d01\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:49:41:4941"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:49:41:4941"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:49:41:4941"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:49:41:4941"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:49:43:4943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:50:09:509"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:50:10:5010"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 20:52:41:5241"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 20:52:41:5241"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 20:52:41:5241"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 20:52:41:5241"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 20:52:42:5242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 20:52:42:5242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 20:52:42:5242"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 20:52:42:5242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 20:52:42:5242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 20:52:42:5242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 20:52:44:5244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 20:52:45:5245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 20:52:47:5247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 20:52:56:5256"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:23:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c18a9cf1-7446-4064-951a-2fa449b70500 Correlation ID: 61f7b822-2ba8-402d-8ef1-a5a4de75e07f Timestamp: 2025-09-17 15:23:01Z - Correlation ID: 61f7b822-2ba8-402d-8ef1-a5a4de75e07f - Trace ID: c18a9cf1-7446-4064-951a-2fa449b70500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:23:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c18a9cf1-7446-4064-951a-2fa449b70500 Correlation ID: 61f7b822-2ba8-402d-8ef1-a5a4de75e07f Timestamp: 2025-09-17 15:23:01Z - Correlation ID: 61f7b822-2ba8-402d-8ef1-a5a4de75e07f - Trace ID: c18a9cf1-7446-4064-951a-2fa449b70500\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 20:53:01:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 20:53:01:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 20:53:01:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 20:53:01:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 20:53:04:534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 20:53:31:5331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 20:53:32:5332"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 20:58:38:5838"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 20:58:59:5859"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 20:59:00:590"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 20:59:00:590"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 20:59:00:590"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 20:59:13:5913"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:23:24:2324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:23:24:2324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:23:26:2326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 21:23:35:2335"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:53:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 449e138f-f897-4b3f-986b-291070758901 Correlation ID: 52163a79-b5e1-464e-99a5-1c568c744680 Timestamp: 2025-09-17 15:53:39Z - Correlation ID: 52163a79-b5e1-464e-99a5-1c568c744680 - Trace ID: 449e138f-f897-4b3f-986b-291070758901\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:53:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 449e138f-f897-4b3f-986b-291070758901 Correlation ID: 52163a79-b5e1-464e-99a5-1c568c744680 Timestamp: 2025-09-17 15:53:39Z - Correlation ID: 52163a79-b5e1-464e-99a5-1c568c744680 - Trace ID: 449e138f-f897-4b3f-986b-291070758901\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-17 21:23:39:2339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 21:23:39:2339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 21:23:39:2339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:23:39:2339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:23:42:2342"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 21:24:10:2410"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:24:50:2450"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:24:50:2450"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:24:50:2450"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:24:50:2450"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:02:252"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:02:252"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:02:252"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:02:252"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:15:2515"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:15:2515"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:15:2515"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:15:2515"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:37:2537"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:37:2537"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:37:2537"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:37:2537"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:25)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-09-17 21:25:54:2554"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:26:56:2656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:26:59:2659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 21:27:08:278"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:57:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 2b1afb0e-94d5-431a-919a-97319cda7e01 Correlation ID: 719db190-e60c-4bc1-896d-c20aabe4a69d Timestamp: 2025-09-17 15:57:12Z - Correlation ID: 719db190-e60c-4bc1-896d-c20aabe4a69d - Trace ID: 2b1afb0e-94d5-431a-919a-97319cda7e01\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:57:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 2b1afb0e-94d5-431a-919a-97319cda7e01 Correlation ID: 719db190-e60c-4bc1-896d-c20aabe4a69d Timestamp: 2025-09-17 15:57:12Z - Correlation ID: 719db190-e60c-4bc1-896d-c20aabe4a69d - Trace ID: 2b1afb0e-94d5-431a-919a-97319cda7e01\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-17 21:27:12:2712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 21:27:12:2712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 21:27:12:2712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:27:12:2712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:27:15:2715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:27:41:2741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 21:27:42:2742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 21:27:42:2742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 21:27:42:2742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 21:27:42:2742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 21:27:42:2742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3002\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3002/health\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3002/api\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 21:27:43:2743"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:29:24:2924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:29:24:2924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:29:24:2924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:29:24:2924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:29:25:2925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:29:26:2926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:29:29:2929"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:29:37:2937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 21:29:38:2938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 21:29:38:2938"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:59:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 00af5c92-40a4-4d41-98f3-c9206c827701 Correlation ID: c3a147f8-84f0-425d-bb7b-4f8579160970 Timestamp: 2025-09-17 15:59:43Z - Correlation ID: c3a147f8-84f0-425d-bb7b-4f8579160970 - Trace ID: 00af5c92-40a4-4d41-98f3-c9206c827701\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 15:59:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 00af5c92-40a4-4d41-98f3-c9206c827701 Correlation ID: c3a147f8-84f0-425d-bb7b-4f8579160970 Timestamp: 2025-09-17 15:59:43Z - Correlation ID: c3a147f8-84f0-425d-bb7b-4f8579160970 - Trace ID: 00af5c92-40a4-4d41-98f3-c9206c827701\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-17 21:29:43:2943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 21:29:43:2943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 21:29:43:2943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:29:43:2943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:29:45:2945"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:33:09:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:33:12:3312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 21:33:21:3321"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:03:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 693ce4ab-2c41-44c2-8629-4f790e694a00 Correlation ID: 2a6c5db2-62a4-4daf-9294-ff0dcce93426 Timestamp: 2025-09-17 16:03:25Z - Correlation ID: 2a6c5db2-62a4-4daf-9294-ff0dcce93426 - Trace ID: 693ce4ab-2c41-44c2-8629-4f790e694a00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:03:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 693ce4ab-2c41-44c2-8629-4f790e694a00 Correlation ID: 2a6c5db2-62a4-4daf-9294-ff0dcce93426 Timestamp: 2025-09-17 16:03:25Z - Correlation ID: 2a6c5db2-62a4-4daf-9294-ff0dcce93426 - Trace ID: 693ce4ab-2c41-44c2-8629-4f790e694a00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-17 21:33:25:3325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 21:33:25:3325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 21:33:25:3325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:33:25:3325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:33:28:3328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:33:55:3355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3002\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3002/health\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3002/api\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 21:33:56:3356"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting AIVA Backend with Azure SQL Database...\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:45:41:4541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:45:52:4552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connection verified\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müíæ Azure SQL Database: Connected and Ready\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîó Frontend should connect to: http://localhost:3001\u001b[39m","timestamp":"2025-09-17 21:46:18:4618"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting AIVA Backend with Azure SQL Database...\u001b[39m","timestamp":"2025-09-17 21:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:49:12:4912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:49:21:4921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:49:23:4923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:49:51:4951"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting AIVA Backend with Azure SQL Database...\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:50:18:5018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:50:27:5027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:50:29:5029"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:50:57:5057"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting AIVA Backend with Azure SQL Database...\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 21:51:39:5139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 21:51:42:5142"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure SQL Database initialized\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 21:51:50:5150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 21:51:53:5153"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connection verified\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3005\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3005/health\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3005/api\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müíæ Azure SQL Database: Connected and Ready\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîó Frontend should connect to: http://localhost:3005\u001b[39m","timestamp":"2025-09-17 21:52:20:5220"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","timestamp":"2025-09-17 21:57:01:571"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","timestamp":"2025-09-17 21:57:46:5746"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 22:06:45:645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 22:06:45:645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 22:06:45:645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 22:06:45:645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 22:06:46:646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 22:06:46:646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 22:06:46:646"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 22:06:46:646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 22:06:46:646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 22:06:46:646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 22:06:47:647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 22:06:48:648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 22:06:50:650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 22:07:00:70"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:37:05Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d782e132-b714-4798-98a5-271d5a2dab00 Correlation ID: df3b245b-2626-4213-9f93-3a4e57d9c44b Timestamp: 2025-09-17 16:37:05Z - Correlation ID: df3b245b-2626-4213-9f93-3a4e57d9c44b - Trace ID: d782e132-b714-4798-98a5-271d5a2dab00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:37:05Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d782e132-b714-4798-98a5-271d5a2dab00 Correlation ID: df3b245b-2626-4213-9f93-3a4e57d9c44b Timestamp: 2025-09-17 16:37:05Z - Correlation ID: df3b245b-2626-4213-9f93-3a4e57d9c44b - Trace ID: d782e132-b714-4798-98a5-271d5a2dab00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 22:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 22:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 22:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 22:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 22:07:08:78"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 22:07:36:736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 22:07:37:737"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 22:09:48:948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 22:09:48:948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 22:09:48:948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 22:09:48:948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 22:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 22:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 22:09:49:949"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 22:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 22:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 22:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 22:09:50:950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting AIVA Backend with Azure SQL Database...\u001b[39m","timestamp":"2025-09-17 22:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 22:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 22:09:53:953"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 22:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 22:10:03:103"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connection verified\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müíæ Azure SQL Database: Connected and Ready\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîó Frontend should connect to: http://localhost:3000\u001b[39m","timestamp":"2025-09-17 22:10:31:1031"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-17 22:11:05:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser registered: test@example.com\u001b[39m","timestamp":"2025-09-17 22:11:51:1151"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Chats__userId__7F2BE32F\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-17 22:12:13:1213"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 22:13:01:131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 22:13:01:131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 22:13:01:131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 22:13:01:131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 22:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 22:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 22:13:03:133"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 22:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 22:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 22:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 22:13:04:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting AIVA Backend with Azure SQL Database...\u001b[39m","timestamp":"2025-09-17 22:13:05:135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 22:13:05:135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 22:13:08:138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 22:13:17:1317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 22:13:19:1319"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 22:14:52:1452"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 22:14:52:1452"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 22:14:52:1452"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 22:14:52:1452"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 22:14:53:1453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 22:14:53:1453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 22:14:53:1453"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 22:14:53:1453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 22:14:53:1453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 22:14:53:1453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 22:14:54:1454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 22:14:55:1455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 22:14:57:1457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 22:15:07:157"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:45:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cfe06072-d50f-4e2d-b503-2f95ee03c301 Correlation ID: 082703d4-987c-461b-87ed-a827aee9f277 Timestamp: 2025-09-17 16:45:12Z - Correlation ID: 082703d4-987c-461b-87ed-a827aee9f277 - Trace ID: cfe06072-d50f-4e2d-b503-2f95ee03c301\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:45:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cfe06072-d50f-4e2d-b503-2f95ee03c301 Correlation ID: 082703d4-987c-461b-87ed-a827aee9f277 Timestamp: 2025-09-17 16:45:12Z - Correlation ID: 082703d4-987c-461b-87ed-a827aee9f277 - Trace ID: cfe06072-d50f-4e2d-b503-2f95ee03c301\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 22:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 22:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 22:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 22:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 22:15:14:1514"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 22:15:41:1541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 22:15:42:1542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for chat: bb400d52-e08a-4a32-8db9-a17cda2a5db1\u001b[39m","timestamp":"2025-09-17 22:17:25:1725"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-17 22:20:05:205"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-17 22:20:05:205"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-17 22:20:05:205"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-17 22:20:05:205"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-17 22:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-17 22:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-17 22:20:07:207"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-17 22:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-17 22:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-17 22:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-17 22:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-17 22:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-17 22:20:11:2011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-17 22:20:20:2020"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:50:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e323df67-09d8-4e51-894e-40b4a2142500 Correlation ID: d9a61a9c-1b43-44d6-8287-3e461854c6f1 Timestamp: 2025-09-17 16:50:24Z - Correlation ID: d9a61a9c-1b43-44d6-8287-3e461854c6f1 - Trace ID: e323df67-09d8-4e51-894e-40b4a2142500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-17 16:50:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e323df67-09d8-4e51-894e-40b4a2142500 Correlation ID: d9a61a9c-1b43-44d6-8287-3e461854c6f1 Timestamp: 2025-09-17 16:50:24Z - Correlation ID: d9a61a9c-1b43-44d6-8287-3e461854c6f1 - Trace ID: e323df67-09d8-4e51-894e-40b4a2142500\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-17 22:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-17 22:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-17 22:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-17 22:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-17 22:20:26:2026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-17 22:20:53:2053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-17 22:20:54:2054"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-17 22:21:28:2128","url":"/message"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-17 22:21:36:2136","url":"/message"}
{"errors":["Body: \"useDataAgent\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-17 22:23:57:2357","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 08:22:43:2243"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 08:22:43:2243"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 08:22:43:2243"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 08:22:43:2243"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 08:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 08:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 08:22:44:2244"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 08:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 08:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 08:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 08:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 08:22:46:2246"}
{"code":"ETIMEOUT","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\u001b[39m","name":"ConnectionError","originalError":{"code":"ETIMEOUT"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.connectTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2173:10)\n    at Timeout._onTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2118:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-09-18 08:23:01:231"}
{"code":"ETIMEOUT","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\u001b[39m","name":"ConnectionError","originalError":{"code":"ETIMEOUT"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.connectTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2173:10)\n    at Timeout._onTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2118:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 08:23:16:2316"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 02:53:22Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0d87a4900 Correlation ID: dbe3f4a4-6e5e-4461-9207-c3091737044e Timestamp: 2025-09-18 02:53:22Z - Correlation ID: dbe3f4a4-6e5e-4461-9207-c3091737044e - Trace ID: d9f34b73-3436-469a-be4f-ead0d87a4900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 02:53:22Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0d87a4900 Correlation ID: dbe3f4a4-6e5e-4461-9207-c3091737044e Timestamp: 2025-09-18 02:53:22Z - Correlation ID: dbe3f4a4-6e5e-4461-9207-c3091737044e - Trace ID: d9f34b73-3436-469a-be4f-ead0d87a4900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 08:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 08:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 08:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 08:23:23:2323"}
{"code":"ETIMEOUT","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\u001b[39m","name":"ConnectionError","originalError":{"code":"ETIMEOUT"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.connectTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2173:10)\n    at Timeout._onTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2118:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-09-18 08:23:38:2338"}
{"code":"ETIMEOUT","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\u001b[39m","name":"ConnectionError","originalError":{"code":"ETIMEOUT"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.connectTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2173:10)\n    at Timeout._onTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2118:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-09-18 08:23:38:2338"}
{"code":"ETIMEOUT","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\u001b[39m","name":"ConnectionError","originalError":{"code":"ETIMEOUT"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.connectTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2173:10)\n    at Timeout._onTimeout (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2118:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 08:23:38:2338"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 13:26:02:262"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 13:26:02:262"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 13:26:02:262"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 13:26:02:262"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 13:26:03:263"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 13:26:03:263"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 13:26:03:263"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 13:26:03:263"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 13:26:03:263"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 13:26:03:263"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 13:26:04:264"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 13:26:05:265"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 13:26:08:268"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 13:26:12:2612"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 07:56:17Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec2e4b9c-d8f9-4034-bb33-c41e18201600 Correlation ID: daeac9e0-86ff-4545-9be5-9ae5af787d04 Timestamp: 2025-09-18 07:56:17Z - Correlation ID: daeac9e0-86ff-4545-9be5-9ae5af787d04 - Trace ID: ec2e4b9c-d8f9-4034-bb33-c41e18201600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 07:56:17Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec2e4b9c-d8f9-4034-bb33-c41e18201600 Correlation ID: daeac9e0-86ff-4545-9be5-9ae5af787d04 Timestamp: 2025-09-18 07:56:17Z - Correlation ID: daeac9e0-86ff-4545-9be5-9ae5af787d04 - Trace ID: ec2e4b9c-d8f9-4034-bb33-c41e18201600\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 13:26:18:2618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 13:26:18:2618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 13:26:18:2618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 13:26:18:2618"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 13:26:21:2621"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 13:26:21:2621"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.199.19' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 13:26:21:2621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 13:31:11:3111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 13:31:11:3111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 13:31:11:3111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 13:31:11:3111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 13:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 13:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 13:31:13:3113"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 13:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 13:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 13:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 13:31:18:3118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 13:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 13:31:29:3129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 13:31:47:3147"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 08:01:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 437f4672-bfeb-4221-96cc-373c93841600 Correlation ID: 7c79eb12-d4e2-43de-997c-e77d70a7529a Timestamp: 2025-09-18 08:01:58Z - Correlation ID: 7c79eb12-d4e2-43de-997c-e77d70a7529a - Trace ID: 437f4672-bfeb-4221-96cc-373c93841600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 08:01:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 437f4672-bfeb-4221-96cc-373c93841600 Correlation ID: 7c79eb12-d4e2-43de-997c-e77d70a7529a Timestamp: 2025-09-18 08:01:58Z - Correlation ID: 7c79eb12-d4e2-43de-997c-e77d70a7529a - Trace ID: 437f4672-bfeb-4221-96cc-373c93841600\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 13:31:59:3159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 13:31:59:3159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 13:31:59:3159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 13:31:59:3159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 13:32:03:323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 13:32:45:3245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 13:32:47:3247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 13:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 13:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 13:45:47:4547"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 13:46:34:4634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 13:46:34:4634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 13:46:34:4634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 13:46:34:4634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 13:46:37:4637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 13:46:37:4637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 13:46:37:4637"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 13:46:37:4637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 13:46:37:4637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 13:46:37:4637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 13:46:38:4638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 13:46:42:4642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 13:46:57:4657"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 08:17:02Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b176f1900 Correlation ID: 07107b2a-9072-4a66-8e47-813640bda3c4 Timestamp: 2025-09-18 08:17:02Z - Correlation ID: 07107b2a-9072-4a66-8e47-813640bda3c4 - Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b176f1900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 08:17:02Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b176f1900 Correlation ID: 07107b2a-9072-4a66-8e47-813640bda3c4 Timestamp: 2025-09-18 08:17:02Z - Correlation ID: 07107b2a-9072-4a66-8e47-813640bda3c4 - Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b176f1900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 13:47:04:474"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 13:47:04:474"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 13:47:04:474"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 13:47:04:474"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 13:47:07:477"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 13:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 13:47:56:4756"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 13:55:06:556","url":"/message"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 13:55:08:558","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:28:5528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:30:5530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:31:5531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:31:5531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: test@example.com, message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf\u001b[39m","timestamp":"2025-09-18 13:55:31:5531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:31:5531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: test@example.com, message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf\u001b[39m","timestamp":"2025-09-18 13:55:31:5531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:55:32:5532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: test@example.com, message: 96b3d2a6-f27c-4aee-a673-fc6e6a6501cf\u001b[39m","timestamp":"2025-09-18 13:55:32:5532"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (96b3d2a6-f27c-4aee-a673-fc6e6a6501cf, test@example.com, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (96b3d2a6-f27c-4aee-a673-fc6e6a6501cf, test@example.com, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (96b3d2a6-f27c-4aee-a673-fc6e6a6501cf, test@example.com, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-18 13:55:33:5533"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (96b3d2a6-f27c-4aee-a673-fc6e6a6501cf, test@example.com, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (96b3d2a6-f27c-4aee-a673-fc6e6a6501cf, test@example.com, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (96b3d2a6-f27c-4aee-a673-fc6e6a6501cf, test@example.com, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-18 13:55:33:5533"}
{"errors":["Body: \"useDataAgent\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 13:55:50:5550","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: error-1758183950196 user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:56:12:5612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: error-1758183950196 user: test@example.com\u001b[39m","timestamp":"2025-09-18 13:56:13:5613"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 13:56:14:5614"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 13:56:14:5614"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 13:56:15:5615"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 13:56:15:5615"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:34:37:3437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:34:37:3437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:34:37:3437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:34:37:3437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:34:39:3439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:34:39:3439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:34:39:3439"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:34:39:3439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:34:39:3439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:34:39:3439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:34:42:3442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:34:42:3442"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 14:34:45:3445"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:34:48:3448"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:04:52Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a2c779a8-e01e-4408-b121-6768019f1e00 Correlation ID: 9ba99a10-d240-4a3c-a393-fd1c7f596290 Timestamp: 2025-09-18 09:04:52Z - Correlation ID: 9ba99a10-d240-4a3c-a393-fd1c7f596290 - Trace ID: a2c779a8-e01e-4408-b121-6768019f1e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:04:52Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a2c779a8-e01e-4408-b121-6768019f1e00 Correlation ID: 9ba99a10-d240-4a3c-a393-fd1c7f596290 Timestamp: 2025-09-18 09:04:52Z - Correlation ID: 9ba99a10-d240-4a3c-a393-fd1c7f596290 - Trace ID: a2c779a8-e01e-4408-b121-6768019f1e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 14:34:52:3452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 14:34:52:3452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 14:34:52:3452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 14:34:52:3452"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 14:34:54:3454"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 14:34:54:3454"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.232.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 14:34:54:3454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:42:22:4222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:42:22:4222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:42:22:4222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:42:22:4222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:42:22:4222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:42:22:4222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:42:24:4224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:42:25:4225"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:12:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ae60a203-6ca7-4826-821b-6054abb91f00 Correlation ID: ea9b304c-f5a7-4da4-88a3-ccab7ef31159 Timestamp: 2025-09-18 09:12:29Z - Correlation ID: ea9b304c-f5a7-4da4-88a3-ccab7ef31159 - Trace ID: ae60a203-6ca7-4826-821b-6054abb91f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:12:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ae60a203-6ca7-4826-821b-6054abb91f00 Correlation ID: ea9b304c-f5a7-4da4-88a3-ccab7ef31159 Timestamp: 2025-09-18 09:12:29Z - Correlation ID: ea9b304c-f5a7-4da4-88a3-ccab7ef31159 - Trace ID: ae60a203-6ca7-4826-821b-6054abb91f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 14:42:30:4230"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:50:38:5038"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:50:38:5038"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:50:38:5038"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:50:38:5038"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:50:39:5039"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:20:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c43014bf-2732-4bef-9c48-6676d7001c00 Correlation ID: 45f5c24e-c072-407c-a48f-7469f5d6d746 Timestamp: 2025-09-18 09:20:43Z - Correlation ID: 45f5c24e-c072-407c-a48f-7469f5d6d746 - Trace ID: c43014bf-2732-4bef-9c48-6676d7001c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:20:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c43014bf-2732-4bef-9c48-6676d7001c00 Correlation ID: 45f5c24e-c072-407c-a48f-7469f5d6d746 Timestamp: 2025-09-18 09:20:43Z - Correlation ID: 45f5c24e-c072-407c-a48f-7469f5d6d746 - Trace ID: c43014bf-2732-4bef-9c48-6676d7001c00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 14:50:43:5043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 14:50:43:5043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 14:50:43:5043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 14:50:43:5043"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: pool.request(...).query is not a function\u001b[39m","stack":"TypeError: pool.request(...).query is not a function\n    at ConfigurationManager.loadConfigurationsFromDatabase (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\services\\configurationManager.js:44:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConfigurationManager.initialize (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\services\\configurationManager.js:29:13)\n    at async startServer (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\index.js:108:9)","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: pool.request(...).query is not a function\u001b[39m","stack":"TypeError: pool.request(...).query is not a function\n    at ConfigurationManager.loadConfigurationsFromDatabase (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\services\\configurationManager.js:44:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConfigurationManager.initialize (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\services\\configurationManager.js:29:13)\n    at async startServer (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\index.js:108:9)","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 14:50:44:5044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: pool.request(...).input(...).query is not a function\u001b[39m","stack":"TypeError: pool.request(...).input(...).query is not a function\n    at getUserByEmail (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\auth.js:75:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\auth.js:210:22","timestamp":"2025-09-18 14:52:43:5243"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: pool.request(...).input(...).query is not a function\u001b[39m","stack":"TypeError: pool.request(...).input(...).query is not a function\n    at getUserByEmail (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\auth.js:75:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\auth.js:210:22","timestamp":"2025-09-18 14:52:43:5243"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:53:31:5331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:53:31:5331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:53:31:5331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:53:31:5331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:53:32:5332"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:23:37Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c198ef55-8697-424d-8aaf-712d0c4a5f00 Correlation ID: 041dcced-a4a9-418f-8065-d9f71b5eacf2 Timestamp: 2025-09-18 09:23:37Z - Correlation ID: 041dcced-a4a9-418f-8065-d9f71b5eacf2 - Trace ID: c198ef55-8697-424d-8aaf-712d0c4a5f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:23:37Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c198ef55-8697-424d-8aaf-712d0c4a5f00 Correlation ID: 041dcced-a4a9-418f-8065-d9f71b5eacf2 Timestamp: 2025-09-18 09:23:37Z - Correlation ID: 041dcced-a4a9-418f-8065-d9f71b5eacf2 - Trace ID: c198ef55-8697-424d-8aaf-712d0c4a5f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 14:53:37:5337"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:54:01:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:54:02:542"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:24:06Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8dfaf546-4791-44c4-80d8-153cd7021d00 Correlation ID: c64756fa-8b48-4d8c-9463-9e22af46bec0 Timestamp: 2025-09-18 09:24:06Z - Correlation ID: c64756fa-8b48-4d8c-9463-9e22af46bec0 - Trace ID: 8dfaf546-4791-44c4-80d8-153cd7021d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:24:06Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8dfaf546-4791-44c4-80d8-153cd7021d00 Correlation ID: c64756fa-8b48-4d8c-9463-9e22af46bec0 Timestamp: 2025-09-18 09:24:06Z - Correlation ID: c64756fa-8b48-4d8c-9463-9e22af46bec0 - Trace ID: 8dfaf546-4791-44c4-80d8-153cd7021d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 14:54:06:546"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:55:05:555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:55:06:556"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:25:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-92639cfb6000 Correlation ID: f7991245-99c8-4562-9d8e-1f706bf18c09 Timestamp: 2025-09-18 09:25:10Z - Correlation ID: f7991245-99c8-4562-9d8e-1f706bf18c09 - Trace ID: 0dd4b1ee-8549-46c2-b9c5-92639cfb6000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:25:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-92639cfb6000 Correlation ID: f7991245-99c8-4562-9d8e-1f706bf18c09 Timestamp: 2025-09-18 09:25:10Z - Correlation ID: f7991245-99c8-4562-9d8e-1f706bf18c09 - Trace ID: 0dd4b1ee-8549-46c2-b9c5-92639cfb6000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 14:55:10:5510"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 14:59:24:5924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 14:59:24:5924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 14:59:24:5924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 14:59:24:5924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 14:59:25:5925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 14:59:25:5925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 14:59:25:5925"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 14:59:25:5925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 14:59:25:5925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 14:59:25:5925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 14:59:27:5927"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:29:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 84f9cda6-e76d-4656-962e-87e376481a00 Correlation ID: 8d1fd2c2-db4f-4956-82a6-03ec3671fb90 Timestamp: 2025-09-18 09:29:32Z - Correlation ID: 8d1fd2c2-db4f-4956-82a6-03ec3671fb90 - Trace ID: 84f9cda6-e76d-4656-962e-87e376481a00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:29:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 84f9cda6-e76d-4656-962e-87e376481a00 Correlation ID: 8d1fd2c2-db4f-4956-82a6-03ec3671fb90 Timestamp: 2025-09-18 09:29:32Z - Correlation ID: 8d1fd2c2-db4f-4956-82a6-03ec3671fb90 - Trace ID: 84f9cda6-e76d-4656-962e-87e376481a00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 14:59:32:5932"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 15:01:10:110","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:21:31:2131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:21:31:2131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:21:31:2131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:21:31:2131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:21:32:2132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:21:32:2132"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:21:32:2132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:21:32:2132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:21:32:2132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:21:33:2133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:21:33:2133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:21:35:2135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:21:46:2146"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:51:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a1ce3165-c7f2-4a64-9009-61d7bffc1b00 Correlation ID: 09735c19-618b-43d1-8d94-912be2d655ad Timestamp: 2025-09-18 09:51:49Z - Correlation ID: 09735c19-618b-43d1-8d94-912be2d655ad - Trace ID: a1ce3165-c7f2-4a64-9009-61d7bffc1b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:51:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a1ce3165-c7f2-4a64-9009-61d7bffc1b00 Correlation ID: 09735c19-618b-43d1-8d94-912be2d655ad Timestamp: 2025-09-18 09:51:49Z - Correlation ID: 09735c19-618b-43d1-8d94-912be2d655ad - Trace ID: a1ce3165-c7f2-4a64-9009-61d7bffc1b00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:21:50:2150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:21:50:2150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:21:50:2150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:21:50:2150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 15:22:23:2223"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:26:51:2651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:26:52:2652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:26:52:2652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:26:55:2655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:27:06:276"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:57:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea2e2be1f00 Correlation ID: 8f8f3b74-a7a6-4741-8398-4b456a3e4160 Timestamp: 2025-09-18 09:57:11Z - Correlation ID: 8f8f3b74-a7a6-4741-8398-4b456a3e4160 - Trace ID: cf59a05b-667a-4e3d-8981-4ea2e2be1f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:57:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea2e2be1f00 Correlation ID: 8f8f3b74-a7a6-4741-8398-4b456a3e4160 Timestamp: 2025-09-18 09:57:11Z - Correlation ID: 8f8f3b74-a7a6-4741-8398-4b456a3e4160 - Trace ID: cf59a05b-667a-4e3d-8981-4ea2e2be1f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:27:11:2711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:27:11:2711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:27:11:2711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:27:11:2711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:27:13:2713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:27:47:2747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 15:27:48:2748"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:29:29:2929"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:29:29:2929"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:29:29:2929"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:29:29:2929"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:29:30:2930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:29:30:2930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:29:30:2930"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:29:30:2930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:29:30:2930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:29:30:2930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:29:32:2932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:29:32:2932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:29:35:2935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:29:47:2947"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:59:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 50cd9e71-28fa-4a07-ab4d-e59a54971f00 Correlation ID: 3b3e3a71-5ab4-4fab-a372-98781ade2392 Timestamp: 2025-09-18 09:59:51Z - Correlation ID: 3b3e3a71-5ab4-4fab-a372-98781ade2392 - Trace ID: 50cd9e71-28fa-4a07-ab4d-e59a54971f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 09:59:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 50cd9e71-28fa-4a07-ab4d-e59a54971f00 Correlation ID: 3b3e3a71-5ab4-4fab-a372-98781ade2392 Timestamp: 2025-09-18 09:59:51Z - Correlation ID: 3b3e3a71-5ab4-4fab-a372-98781ade2392 - Trace ID: 50cd9e71-28fa-4a07-ab4d-e59a54971f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 15:29:51:2951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:29:51:2951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:29:51:2951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:29:51:2951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:29:54:2954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:30:30:3030"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:30:31:3031"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:31:29:3129"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:31:29:3129"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:31:29:3129"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:31:29:3129"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:31:30:3130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:31:30:3130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:31:30:3130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:31:30:3130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:31:30:3130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:31:30:3130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:31:32:3132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:31:32:3132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:31:35:3135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:31:46:3146"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:01:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 94a99f77-3deb-4b78-843d-60af2d831e00 Correlation ID: b8e2131e-b58a-4726-b6b9-56ff1ef8e58c Timestamp: 2025-09-18 10:01:50Z - Correlation ID: b8e2131e-b58a-4726-b6b9-56ff1ef8e58c - Trace ID: 94a99f77-3deb-4b78-843d-60af2d831e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:01:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 94a99f77-3deb-4b78-843d-60af2d831e00 Correlation ID: b8e2131e-b58a-4726-b6b9-56ff1ef8e58c Timestamp: 2025-09-18 10:01:50Z - Correlation ID: b8e2131e-b58a-4726-b6b9-56ff1ef8e58c - Trace ID: 94a99f77-3deb-4b78-843d-60af2d831e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 15:31:51:3151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:31:51:3151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:31:51:3151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:31:51:3151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:31:53:3153"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:32:28:3228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 15:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mNew Microsoft user created: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-18 15:33:23:3323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft OAuth login successful: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-18 15:33:23:3323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:46:45:4645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:46:45:4645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:46:45:4645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:46:45:4645"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:46:47:4647"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:46:49:4649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:47:05:475"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:17:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 480e917d-b1a4-45a7-b1ab-fa858f432000 Correlation ID: fb5945d1-4e26-420e-be75-724feb575a2f Timestamp: 2025-09-18 10:17:10Z - Correlation ID: fb5945d1-4e26-420e-be75-724feb575a2f - Trace ID: 480e917d-b1a4-45a7-b1ab-fa858f432000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:17:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 480e917d-b1a4-45a7-b1ab-fa858f432000 Correlation ID: fb5945d1-4e26-420e-be75-724feb575a2f Timestamp: 2025-09-18 10:17:10Z - Correlation ID: fb5945d1-4e26-420e-be75-724feb575a2f - Trace ID: 480e917d-b1a4-45a7-b1ab-fa858f432000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 15:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:47:52:4752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 15:47:54:4754"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:51:56:5156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:51:57:5157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:51:57:5157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:52:13:5213"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:22:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3faffd44-bcff-4fd5-b6ff-108d70a45e00 Correlation ID: 675e2cae-88f3-4fdf-b648-1909a081ba6a Timestamp: 2025-09-18 10:22:18Z - Correlation ID: 675e2cae-88f3-4fdf-b648-1909a081ba6a - Trace ID: 3faffd44-bcff-4fd5-b6ff-108d70a45e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:22:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3faffd44-bcff-4fd5-b6ff-108d70a45e00 Correlation ID: 675e2cae-88f3-4fdf-b648-1909a081ba6a Timestamp: 2025-09-18 10:22:18Z - Correlation ID: 675e2cae-88f3-4fdf-b648-1909a081ba6a - Trace ID: 3faffd44-bcff-4fd5-b6ff-108d70a45e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:52:19:5219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:52:19:5219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:52:19:5219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:52:19:5219"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:52:35:5235"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:52:35:5235"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:52:35:5235"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:52:35:5235"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:52:36:5236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:52:36:5236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:52:36:5236"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:52:36:5236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:52:36:5236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:52:36:5236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:52:37:5237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:52:37:5237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:52:42:5242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:52:54:5254"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:22:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd4f32e0-7bc5-4b81-a1ac-797cd2506600 Correlation ID: ff2d2b68-7e9c-4bfa-804b-4ba315436b0d Timestamp: 2025-09-18 10:22:58Z - Correlation ID: ff2d2b68-7e9c-4bfa-804b-4ba315436b0d - Trace ID: cd4f32e0-7bc5-4b81-a1ac-797cd2506600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:22:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd4f32e0-7bc5-4b81-a1ac-797cd2506600 Correlation ID: ff2d2b68-7e9c-4bfa-804b-4ba315436b0d Timestamp: 2025-09-18 10:22:58Z - Correlation ID: ff2d2b68-7e9c-4bfa-804b-4ba315436b0d - Trace ID: cd4f32e0-7bc5-4b81-a1ac-797cd2506600\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:52:59:5259"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:52:59:5259"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:52:59:5259"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:52:59:5259"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:53:02:532"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:53:18:5318"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:53:18:5318"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:53:18:5318"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:53:18:5318"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:53:19:5319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:53:22:5322"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:53:34:5334"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:23:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 480e917d-b1a4-45a7-b1ab-fa8573962000 Correlation ID: 7b210fe0-6074-4128-82cf-1c7438488582 Timestamp: 2025-09-18 10:23:38Z - Correlation ID: 7b210fe0-6074-4128-82cf-1c7438488582 - Trace ID: 480e917d-b1a4-45a7-b1ab-fa8573962000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:23:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 480e917d-b1a4-45a7-b1ab-fa8573962000 Correlation ID: 7b210fe0-6074-4128-82cf-1c7438488582 Timestamp: 2025-09-18 10:23:38Z - Correlation ID: 7b210fe0-6074-4128-82cf-1c7438488582 - Trace ID: 480e917d-b1a4-45a7-b1ab-fa8573962000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:53:39:5339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:53:39:5339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:53:39:5339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:53:39:5339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:53:40:5340"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 15:53:41:5341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 15:53:42:5342"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 15:53:42:5342"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 15:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 1\u001b[39m","timestamp":"2025-09-18 15:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: ID=test@example.com, Email=test@example.com, Provider=local\u001b[39m","timestamp":"2025-09-18 15:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin attempt for email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:54:14:5414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock SQL setting: false\u001b[39m","timestamp":"2025-09-18 15:54:14:5414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock Database setting: false\u001b[39m","timestamp":"2025-09-18 15:54:14:5414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:54:14:5414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 15:54:14:5414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 1\u001b[39m","timestamp":"2025-09-18 15:54:15:5415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: ID=test@example.com, Email=test@example.com, Provider=local\u001b[39m","timestamp":"2025-09-18 15:54:15:5415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: YES\u001b[39m","timestamp":"2025-09-18 15:54:15:5415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found with password hash: YES\u001b[39m","timestamp":"2025-09-18 15:54:15:5415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPassword validation result: false\u001b[39m","timestamp":"2025-09-18 15:54:16:5416"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid password for email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:54:16:5416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:54:18:5418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:54:22:5422"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:56:33:5633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:56:33:5633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:56:33:5633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:56:33:5633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:56:50:5650"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:26:54Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 16760815-604a-4329-8a85-f933e15a2700 Correlation ID: 2ae9767a-1334-487c-a7b3-5e909d4f462f Timestamp: 2025-09-18 10:26:54Z - Correlation ID: 2ae9767a-1334-487c-a7b3-5e909d4f462f - Trace ID: 16760815-604a-4329-8a85-f933e15a2700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:26:54Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 16760815-604a-4329-8a85-f933e15a2700 Correlation ID: 2ae9767a-1334-487c-a7b3-5e909d4f462f Timestamp: 2025-09-18 10:26:54Z - Correlation ID: 2ae9767a-1334-487c-a7b3-5e909d4f462f - Trace ID: 16760815-604a-4329-8a85-f933e15a2700\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:56:57:5657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:57:34:5734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 15:57:36:5736"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 15:57:45:5745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 15:57:45:5745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 15:57:45:5745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 15:57:45:5745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 15:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 15:57:49:5749"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 15:57:59:5759"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:28:03Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8dfaf546-4791-44c4-80d8-153cf14b2000 Correlation ID: 7689f3fd-05c6-4475-b900-b792850ddb23 Timestamp: 2025-09-18 10:28:03Z - Correlation ID: 7689f3fd-05c6-4475-b900-b792850ddb23 - Trace ID: 8dfaf546-4791-44c4-80d8-153cf14b2000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:28:03Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8dfaf546-4791-44c4-80d8-153cf14b2000 Correlation ID: 7689f3fd-05c6-4475-b900-b792850ddb23 Timestamp: 2025-09-18 10:28:03Z - Correlation ID: 7689f3fd-05c6-4475-b900-b792850ddb23 - Trace ID: 8dfaf546-4791-44c4-80d8-153cf14b2000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 15:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 15:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 15:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 15:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 15:58:06:586"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 15:58:37:5837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 15:58:38:5838"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin attempt for email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:59:18:5918"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock SQL setting: false\u001b[39m","timestamp":"2025-09-18 15:59:18:5918"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock Database setting: false\u001b[39m","timestamp":"2025-09-18 15:59:18:5918"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:59:18:5918"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 15:59:18:5918"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 1\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: ID=test@example.com, Email=test@example.com, Provider=local\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: YES\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found with password hash: YES\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInput password: \"password123\" (length: 11)\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStored hash: \"$2a$12$bSiOKXEUBlDd654On7hxh.ZKeOg4MtBMnEE6Wm.SlCrFD1GI9AE3q\" (length: 60)\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHash starts with $2a, $2b, or $2y: true\u001b[39m","timestamp":"2025-09-18 15:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPassword validation result: false\u001b[39m","timestamp":"2025-09-18 15:59:21:5921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash of input password: $2a$12$qnzy8g39uPq39Teb8RQtButVWKw3IChgATMsvOlu/BZ9EXF0D9Hie\u001b[39m","timestamp":"2025-09-18 15:59:22:5922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash validation: true\u001b[39m","timestamp":"2025-09-18 15:59:22:5922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid password for email: test@example.com\u001b[39m","timestamp":"2025-09-18 15:59:22:5922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: testuser@example.com\u001b[39m","timestamp":"2025-09-18 15:59:44:5944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 15:59:44:5944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 0\u001b[39m","timestamp":"2025-09-18 15:59:44:5944"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mNo user found with email: testuser@example.com\u001b[39m","timestamp":"2025-09-18 15:59:44:5944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser registered: testuser@example.com\u001b[39m","timestamp":"2025-09-18 15:59:47:5947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin attempt for email: testuser@example.com\u001b[39m","timestamp":"2025-09-18 15:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock SQL setting: false\u001b[39m","timestamp":"2025-09-18 15:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock Database setting: false\u001b[39m","timestamp":"2025-09-18 15:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: testuser@example.com\u001b[39m","timestamp":"2025-09-18 15:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 15:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 1\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: ID=e12fc19e-f2d3-4e46-8a61-76c0aca092a5, Email=testuser@example.com, Provider=local\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: YES\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found with password hash: YES\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInput password: \"password123\" (length: 11)\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStored hash: \"$2a$12$RL0kK03fIVyK2I91gZ8Fw.qRzhwKxWad9Bgti17p4oPRmSWoC1D/G\" (length: 60)\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHash starts with $2a, $2b, or $2y: true\u001b[39m","timestamp":"2025-09-18 15:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPassword validation result: true\u001b[39m","timestamp":"2025-09-18 16:00:00:00"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash of input password: $2a$12$P/qU56Ldi1/3SYyso5gC1OCLQ1IlZ7yM6dbPSTvR820cvV/LqQItC\u001b[39m","timestamp":"2025-09-18 16:00:01:01"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash validation: true\u001b[39m","timestamp":"2025-09-18 16:00:02:02"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: e12fc19e-f2d3-4e46-8a61-76c0aca092a5\u001b[39m","timestamp":"2025-09-18 16:00:03:03"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: testuser@example.com\u001b[39m","timestamp":"2025-09-18 16:00:03:03"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 16:01:10:110"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 16:01:10:110"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 16:01:10:110"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 16:01:10:110"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 16:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 16:01:24:124"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:31:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: eea24a54-f44e-4d7c-a150-8b4685842800 Correlation ID: 98e37c38-41cd-4d27-8d63-d6318049ce20 Timestamp: 2025-09-18 10:31:28Z - Correlation ID: 98e37c38-41cd-4d27-8d63-d6318049ce20 - Trace ID: eea24a54-f44e-4d7c-a150-8b4685842800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:31:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: eea24a54-f44e-4d7c-a150-8b4685842800 Correlation ID: 98e37c38-41cd-4d27-8d63-d6318049ce20 Timestamp: 2025-09-18 10:31:28Z - Correlation ID: 98e37c38-41cd-4d27-8d63-d6318049ce20 - Trace ID: eea24a54-f44e-4d7c-a150-8b4685842800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 16:01:28:128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 16:01:28:128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 16:01:28:128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 16:01:28:128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 16:01:31:131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 16:02:04:24"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 16:02:05:25"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPassword updated for test@example.com. Rows affected: 1\u001b[39m","timestamp":"2025-09-18 16:02:21:221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin attempt for email: test@example.com\u001b[39m","timestamp":"2025-09-18 16:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock SQL setting: false\u001b[39m","timestamp":"2025-09-18 16:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock Database setting: false\u001b[39m","timestamp":"2025-09-18 16:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: test@example.com\u001b[39m","timestamp":"2025-09-18 16:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 16:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 1\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: ID=test@example.com, Email=test@example.com, Provider=local\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: YES\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found with password hash: YES\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInput password: \"password123\" (length: 11)\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStored hash: \"$2a$12$trycakA7GYLhE.Yj0Iz0qesiZGdPZSrOl/3Kuz6kJe4An1BIM82j2\" (length: 60)\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHash starts with $2a, $2b, or $2y: true\u001b[39m","timestamp":"2025-09-18 16:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPassword validation result: true\u001b[39m","timestamp":"2025-09-18 16:02:31:231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash of input password: $2a$12$JdmATxJvOWI6Iaw4u21DTOWBsSfs3R.8fZsb35O9xECZZ3D45r/Cy\u001b[39m","timestamp":"2025-09-18 16:02:32:232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash validation: true\u001b[39m","timestamp":"2025-09-18 16:02:33:233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 16:02:34:234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 16:02:34:234"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 16:02:50:250"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 16:02:50:250"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 16:02:50:250"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 16:02:50:250"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 16:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 16:02:52:252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 16:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 16:03:05:35"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:33:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 18d0d438-6c59-433d-b2e4-434918026000 Correlation ID: 147f6150-c5b7-4ac1-ab78-3cdb73e8bbf9 Timestamp: 2025-09-18 10:33:10Z - Correlation ID: 147f6150-c5b7-4ac1-ab78-3cdb73e8bbf9 - Trace ID: 18d0d438-6c59-433d-b2e4-434918026000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:33:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 18d0d438-6c59-433d-b2e4-434918026000 Correlation ID: 147f6150-c5b7-4ac1-ab78-3cdb73e8bbf9 Timestamp: 2025-09-18 10:33:10Z - Correlation ID: 147f6150-c5b7-4ac1-ab78-3cdb73e8bbf9 - Trace ID: 18d0d438-6c59-433d-b2e4-434918026000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 16:03:10:310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 16:03:10:310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 16:03:10:310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 16:03:10:310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 16:03:12:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 16:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 16:03:41:341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin attempt for email: john.doe@example.com\u001b[39m","timestamp":"2025-09-18 16:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock SQL setting: false\u001b[39m","timestamp":"2025-09-18 16:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMock Database setting: false\u001b[39m","timestamp":"2025-09-18 16:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLooking up user by email: john.doe@example.com\u001b[39m","timestamp":"2025-09-18 16:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase pool obtained successfully\u001b[39m","timestamp":"2025-09-18 16:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mQuery executed. Records found: 1\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: ID=db6a9cd6-0f9c-43af-a81a-015fb7282c13, Email=john.doe@example.com, Provider=local\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found: YES\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser found with password hash: YES\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInput password: \"password123\" (length: 11)\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStored hash: \"$2a$12$vhP56RAqmMxvbUgOObhpueKB.fuFbrtPuAE4HKWsoFOy5CGAjwXdq\" (length: 60)\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHash starts with $2a, $2b, or $2y: true\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPassword validation result: true\u001b[39m","timestamp":"2025-09-18 16:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash of input password: $2a$12$bTzRgr0F70VSVIYA8qE/eOwOSpnWZAgTTU0qqEeu2mk6RdQ7EqcgO\u001b[39m","timestamp":"2025-09-18 16:04:04:44"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFresh hash validation: true\u001b[39m","timestamp":"2025-09-18 16:04:04:44"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: db6a9cd6-0f9c-43af-a81a-015fb7282c13\u001b[39m","timestamp":"2025-09-18 16:04:05:45"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: john.doe@example.com\u001b[39m","timestamp":"2025-09-18 16:04:05:45"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 16:04:40:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 16:04:41:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 16:04:41:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 16:04:43:443"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 16:04:47:447"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 16:04:47:447"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 16:04:47:447"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 16:04:47:447"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 16:04:48:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 16:04:50:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 16:04:54:454"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:34:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: da7b357b-9d35-46a5-aaf7-ca770ec20300 Correlation ID: bd0d5944-4e13-4c96-a38c-7c377c66d90d Timestamp: 2025-09-18 10:34:58Z - Correlation ID: bd0d5944-4e13-4c96-a38c-7c377c66d90d - Trace ID: da7b357b-9d35-46a5-aaf7-ca770ec20300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:34:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: da7b357b-9d35-46a5-aaf7-ca770ec20300 Correlation ID: bd0d5944-4e13-4c96-a38c-7c377c66d90d Timestamp: 2025-09-18 10:34:58Z - Correlation ID: bd0d5944-4e13-4c96-a38c-7c377c66d90d - Trace ID: da7b357b-9d35-46a5-aaf7-ca770ec20300\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 16:04:59:459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 16:04:59:459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 16:04:59:459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 16:04:59:459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 16:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 16:05:01:51"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:35:03Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cbb16403-ef9f-4a02-8c3d-18ffb9452200 Correlation ID: 994d0f4f-8c28-47b3-9665-5fe8baf3a129 Timestamp: 2025-09-18 10:35:03Z - Correlation ID: 994d0f4f-8c28-47b3-9665-5fe8baf3a129 - Trace ID: cbb16403-ef9f-4a02-8c3d-18ffb9452200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 10:35:03Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cbb16403-ef9f-4a02-8c3d-18ffb9452200 Correlation ID: 994d0f4f-8c28-47b3-9665-5fe8baf3a129 Timestamp: 2025-09-18 10:35:03Z - Correlation ID: 994d0f4f-8c28-47b3-9665-5fe8baf3a129 - Trace ID: cbb16403-ef9f-4a02-8c3d-18ffb9452200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 16:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 16:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 16:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 16:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 16:05:06:56"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 16:05:31:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 16:05:32:532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 16:05:36:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 16:05:37:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 16:54:20:5420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 16:54:22:5422"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 17:00:25:025"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 17:00:25:025"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 17:00:25:025"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 17:00:25:025"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 17:00:26:026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 17:00:26:026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 17:00:26:026"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 17:00:26:026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 17:00:26:026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 17:00:26:026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 17:00:28:028"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 17:00:28:028"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 17:00:31:031"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 17:00:35:035"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 11:30:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 16ded39e-086e-4c46-8d43-64decd0f2600 Correlation ID: b9bf7122-c7b2-4ada-83bc-5cbd22992e65 Timestamp: 2025-09-18 11:30:39Z - Correlation ID: b9bf7122-c7b2-4ada-83bc-5cbd22992e65 - Trace ID: 16ded39e-086e-4c46-8d43-64decd0f2600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 11:30:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 16ded39e-086e-4c46-8d43-64decd0f2600 Correlation ID: b9bf7122-c7b2-4ada-83bc-5cbd22992e65 Timestamp: 2025-09-18 11:30:39Z - Correlation ID: b9bf7122-c7b2-4ada-83bc-5cbd22992e65 - Trace ID: 16ded39e-086e-4c46-8d43-64decd0f2600\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 17:00:39:039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 17:00:39:039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 17:00:39:039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 17:00:39:039"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 17:00:41:041"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 17:00:41:041"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.234.64' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 17:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-18 17:02:27:227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 17:02:39:239"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 17:02:39:239"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 17:02:39:239"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 17:02:39:239"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 17:02:40:240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 17:02:40:240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 17:02:40:240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 17:02:40:240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 17:02:40:240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 17:02:40:240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 17:02:41:241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 17:02:41:241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 17:02:44:244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 17:02:55:255"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 11:33:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3b621402-9877-476d-9b5d-87b9d5f02000 Correlation ID: bf658f5d-3cb1-476b-a3d5-8788cb72b3f1 Timestamp: 2025-09-18 11:33:00Z - Correlation ID: bf658f5d-3cb1-476b-a3d5-8788cb72b3f1 - Trace ID: 3b621402-9877-476d-9b5d-87b9d5f02000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 11:33:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3b621402-9877-476d-9b5d-87b9d5f02000 Correlation ID: bf658f5d-3cb1-476b-a3d5-8788cb72b3f1 Timestamp: 2025-09-18 11:33:00Z - Correlation ID: bf658f5d-3cb1-476b-a3d5-8788cb72b3f1 - Trace ID: 3b621402-9877-476d-9b5d-87b9d5f02000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 17:03:00:30"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 17:03:00:30"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 17:03:00:30"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 17:03:00:30"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 17:03:03:33"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 17:03:37:337"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 17:03:39:339"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 17:26:08:268"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 17:26:08:268"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 17:26:08:268"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 17:26:08:268"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 17:26:09:269"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 17:26:09:269"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 17:26:09:269"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 17:26:09:269"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 17:26:09:269"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 17:26:09:269"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 17:26:10:2610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 17:26:10:2610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 17:26:13:2613"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 17:26:29:2629"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 11:56:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1280db62-606b-4aac-8ceb-59a1621a1d00 Correlation ID: 9ed044ff-2ea2-4d8c-aab0-253cbfc3d089 Timestamp: 2025-09-18 11:56:32Z - Correlation ID: 9ed044ff-2ea2-4d8c-aab0-253cbfc3d089 - Trace ID: 1280db62-606b-4aac-8ceb-59a1621a1d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 11:56:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1280db62-606b-4aac-8ceb-59a1621a1d00 Correlation ID: 9ed044ff-2ea2-4d8c-aab0-253cbfc3d089 Timestamp: 2025-09-18 11:56:32Z - Correlation ID: 9ed044ff-2ea2-4d8c-aab0-253cbfc3d089 - Trace ID: 1280db62-606b-4aac-8ceb-59a1621a1d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 17:26:33:2633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 17:26:33:2633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 17:26:33:2633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 17:26:33:2633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 17:26:35:2635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 17:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 17:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mNew Microsoft user created: samuelgeorge0802@gmail.com\u001b[39m","timestamp":"2025-09-18 17:30:00:300"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft OAuth login successful: samuelgeorge0802@gmail.com\u001b[39m","timestamp":"2025-09-18 17:30:00:300"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 17:30:29:3029","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: test@example.com\u001b[39m","timestamp":"2025-09-18 17:30:36:3036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: test@example.com\u001b[39m","timestamp":"2025-09-18 17:30:37:3037"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 17:30:39:3039"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 17:30:39:3039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: error-1758196829474 user: test@example.com\u001b[39m","timestamp":"2025-09-18 17:30:40:3040"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 17:30:40:3040"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 17:30:40:3040"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 17:30:41:3041"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 17:30:41:3041"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 17:30:41:3041","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 17:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 17:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 17:59:04:594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 17:59:04:594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-18 17:59:49:5949"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 18:00:37:037"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 18:00:37:037"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 18:00:37:037"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 18:00:37:037"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 18:00:38:038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 18:00:38:038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 18:00:38:038"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 18:00:38:038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 18:00:38:038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 18:00:38:038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 18:00:40:040"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 18:00:41:041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 18:00:43:043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 18:00:53:053"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 12:30:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: edb5844e-ee22-491a-92d3-5303af582900 Correlation ID: 2026393c-6102-4936-a2d1-9a4cc3b9233e Timestamp: 2025-09-18 12:30:57Z - Correlation ID: 2026393c-6102-4936-a2d1-9a4cc3b9233e - Trace ID: edb5844e-ee22-491a-92d3-5303af582900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 12:30:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: edb5844e-ee22-491a-92d3-5303af582900 Correlation ID: 2026393c-6102-4936-a2d1-9a4cc3b9233e Timestamp: 2025-09-18 12:30:57Z - Correlation ID: 2026393c-6102-4936-a2d1-9a4cc3b9233e - Trace ID: edb5844e-ee22-491a-92d3-5303af582900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 18:00:57:057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 18:00:57:057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 18:00:57:057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 18:00:57:057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 18:01:00:10"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 18:01:32:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 18:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 18:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 18:02:15:215"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 18:02:23:223","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 18:02:23:223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 18:02:23:223"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 18:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 18:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 18:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 18:42:20:4220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 18:42:21:4221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 18:42:21:4221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 18:42:21:4221"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 18:42:21:4221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 18:42:21:4221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 18:42:21:4221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 18:42:23:4223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 18:42:24:4224"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 18:42:32:4232"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 18:42:38:4238"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 13:12:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7f6741f4-8370-4135-a168-61e4dc932900 Correlation ID: 4d6a5d4a-fb51-4aee-b02d-3588b6c7e0f7 Timestamp: 2025-09-18 13:12:47Z - Correlation ID: 4d6a5d4a-fb51-4aee-b02d-3588b6c7e0f7 - Trace ID: 7f6741f4-8370-4135-a168-61e4dc932900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 13:12:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7f6741f4-8370-4135-a168-61e4dc932900 Correlation ID: 4d6a5d4a-fb51-4aee-b02d-3588b6c7e0f7 Timestamp: 2025-09-18 13:12:47Z - Correlation ID: 4d6a5d4a-fb51-4aee-b02d-3588b6c7e0f7 - Trace ID: 7f6741f4-8370-4135-a168-61e4dc932900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 18:42:47:4247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 18:42:47:4247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 18:42:47:4247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 18:42:47:4247"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 18:42:50:4250"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 18:42:50:4250"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.56' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 18:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-18 18:43:07:437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 18:43:32:4332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 18:43:32:4332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 18:43:32:4332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 18:43:32:4332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 18:43:33:4333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 18:43:33:4333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 18:43:33:4333"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 18:43:33:4333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 18:43:33:4333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 18:43:33:4333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 18:43:35:4335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 18:43:35:4335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 18:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 18:43:57:4357"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 13:14:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: becf7469-0b3e-4872-8ba4-e4afdc412900 Correlation ID: 2f43b920-8ad9-48fa-b3fd-c89e667afd2f Timestamp: 2025-09-18 13:14:11Z - Correlation ID: 2f43b920-8ad9-48fa-b3fd-c89e667afd2f - Trace ID: becf7469-0b3e-4872-8ba4-e4afdc412900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 13:14:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: becf7469-0b3e-4872-8ba4-e4afdc412900 Correlation ID: 2f43b920-8ad9-48fa-b3fd-c89e667afd2f Timestamp: 2025-09-18 13:14:11Z - Correlation ID: 2f43b920-8ad9-48fa-b3fd-c89e667afd2f - Trace ID: becf7469-0b3e-4872-8ba4-e4afdc412900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 18:44:11:4411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 18:44:11:4411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 18:44:11:4411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 18:44:11:4411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 18:44:13:4413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 18:44:52:4452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 18:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 18:45:05:455"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mLogin validation failed:\u001b[39m","timestamp":"2025-09-18 18:45:43:4543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 20:03:26:326"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.231.212' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.231.212' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 20:03:29:329"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:05:20:520"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:05:20:520"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:05:20:520"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:05:20:520"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:05:21:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:05:21:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:05:21:521"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:05:21:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:05:21:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:05:21:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:05:24:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:05:25:525"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 14:35:31Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f78bff2d-3d85-4430-ad14-6bc565b92f00 Correlation ID: e539921f-4a75-40d3-bc2c-9e088f2af85e Timestamp: 2025-09-18 14:35:31Z - Correlation ID: e539921f-4a75-40d3-bc2c-9e088f2af85e - Trace ID: f78bff2d-3d85-4430-ad14-6bc565b92f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 14:35:31Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f78bff2d-3d85-4430-ad14-6bc565b92f00 Correlation ID: e539921f-4a75-40d3-bc2c-9e088f2af85e Timestamp: 2025-09-18 14:35:31Z - Correlation ID: e539921f-4a75-40d3-bc2c-9e088f2af85e - Trace ID: f78bff2d-3d85-4430-ad14-6bc565b92f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 20:05:30:530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user john.doe@example.com\u001b[39m","timestamp":"2025-09-18 20:05:54:554"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:09:22:922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:09:22:922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:09:22:922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:09:22:922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:09:24:924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:09:24:924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:09:24:924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:09:24:924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:09:24:924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:09:24:924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:09:26:926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:09:27:927"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 14:39:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1d649f30-f643-4df2-b9b7-f846af463100 Correlation ID: 1d15f74f-7d23-43d0-ae02-2f0f647aacf8 Timestamp: 2025-09-18 14:39:32Z - Correlation ID: 1d15f74f-7d23-43d0-ae02-2f0f647aacf8 - Trace ID: 1d649f30-f643-4df2-b9b7-f846af463100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 14:39:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1d649f30-f643-4df2-b9b7-f846af463100 Correlation ID: 1d15f74f-7d23-43d0-ae02-2f0f647aacf8 Timestamp: 2025-09-18 14:39:32Z - Correlation ID: 1d15f74f-7d23-43d0-ae02-2f0f647aacf8 - Trace ID: 1d649f30-f643-4df2-b9b7-f846af463100\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 20:09:31:931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: user1\u001b[39m","timestamp":"2025-09-18 20:09:50:950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: john.doe@example.com\u001b[39m","timestamp":"2025-09-18 20:09:50:950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: user2\u001b[39m","timestamp":"2025-09-18 20:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: jane.smith@example.com\u001b[39m","timestamp":"2025-09-18 20:10:16:1016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:12:38:1238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:12:38:1238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:12:38:1238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:12:38:1238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:12:40:1240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:12:40:1240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:12:40:1240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:12:40:1240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:12:40:1240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:12:40:1240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database (MOCK_SQL=true)\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:12:42:1242"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 14:42:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6ae3a0d3-bcde-43da-9179-bfebd1582f00 Correlation ID: 766f2e5b-28bf-4cf2-a328-4f5af5c0fb83 Timestamp: 2025-09-18 14:42:58Z - Correlation ID: 766f2e5b-28bf-4cf2-a328-4f5af5c0fb83 - Trace ID: 6ae3a0d3-bcde-43da-9179-bfebd1582f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 14:42:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6ae3a0d3-bcde-43da-9179-bfebd1582f00 Correlation ID: 766f2e5b-28bf-4cf2-a328-4f5af5c0fb83 Timestamp: 2025-09-18 14:42:58Z - Correlation ID: 766f2e5b-28bf-4cf2-a328-4f5af5c0fb83 - Trace ID: 6ae3a0d3-bcde-43da-9179-bfebd1582f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 20:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: admin1\u001b[39m","timestamp":"2025-09-18 20:13:48:1348"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: admin@example.com\u001b[39m","timestamp":"2025-09-18 20:13:48:1348"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:36:12:3612"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:36:12:3612"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:36:12:3612"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:36:12:3612"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:36:14:3614"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:36:15:3615"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:36:16:3616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 20:36:19:3619"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:36:30:3630"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:06:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 18715883-21ff-4c2d-8df0-32e426bc2900 Correlation ID: 2f3aaf72-840f-469a-863c-784d9b32fb90 Timestamp: 2025-09-18 15:06:34Z - Correlation ID: 2f3aaf72-840f-469a-863c-784d9b32fb90 - Trace ID: 18715883-21ff-4c2d-8df0-32e426bc2900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:06:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 18715883-21ff-4c2d-8df0-32e426bc2900 Correlation ID: 2f3aaf72-840f-469a-863c-784d9b32fb90 Timestamp: 2025-09-18 15:06:34Z - Correlation ID: 2f3aaf72-840f-469a-863c-784d9b32fb90 - Trace ID: 18715883-21ff-4c2d-8df0-32e426bc2900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 20:36:37:3637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 20:37:07:377"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 20:37:08:378"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:37:30:3730"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:37:42:3742"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-18 20:38:25:3825"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-18 20:38:25:3825"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-18 20:38:25:3825"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 20:38:25:3825"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user dhanarajubokka@gmail.com\u001b[39m","timestamp":"2025-09-18 20:38:49:3849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user dhanarajubokka@gmail.com\u001b[39m","timestamp":"2025-09-18 20:38:53:3853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user dhanarajubokka@gmail.com\u001b[39m","timestamp":"2025-09-18 20:38:53:3853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user dhanarajubokka@gmail.com\u001b[39m","timestamp":"2025-09-18 20:38:57:3857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:39:01:391"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:39:05:395"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:39:07:397"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 20:40:36:4036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user dhanarajubokka@gmail.com\u001b[39m","timestamp":"2025-09-18 20:40:37:4037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user dhanarajubokka@gmail.com\u001b[39m","timestamp":"2025-09-18 20:40:38:4038"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:43:25:4325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:43:25:4325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:43:25:4325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:43:25:4325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:43:26:4326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:43:26:4326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:43:26:4326"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:43:26:4326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:43:26:4326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:43:26:4326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:43:28:4328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:43:29:4329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 20:43:32:4332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:43:41:4341"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:13:45Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036e01723200 Correlation ID: 77151c3e-f0ff-45af-8a15-198bb6213cd2 Timestamp: 2025-09-18 15:13:45Z - Correlation ID: 77151c3e-f0ff-45af-8a15-198bb6213cd2 - Trace ID: f0e3b283-68fd-48fa-a682-036e01723200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:13:45Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036e01723200 Correlation ID: 77151c3e-f0ff-45af-8a15-198bb6213cd2 Timestamp: 2025-09-18 15:13:45Z - Correlation ID: 77151c3e-f0ff-45af-8a15-198bb6213cd2 - Trace ID: f0e3b283-68fd-48fa-a682-036e01723200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 20:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 20:43:47:4347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 20:44:16:4416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:44:17:4417"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:45:08:458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:45:08:458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:45:08:458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:45:08:458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:45:10:4510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:45:10:4510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:45:10:4510"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:45:10:4510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:45:10:4510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:45:10:4510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:45:14:4514"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 20:45:17:4517"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:45:26:4526"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:15:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20c90abf-f04c-42b3-a610-289823fa2700 Correlation ID: 7f8bf445-8cf4-458e-9d96-6605f2598535 Timestamp: 2025-09-18 15:15:30Z - Correlation ID: 7f8bf445-8cf4-458e-9d96-6605f2598535 - Trace ID: 20c90abf-f04c-42b3-a610-289823fa2700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:15:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20c90abf-f04c-42b3-a610-289823fa2700 Correlation ID: 7f8bf445-8cf4-458e-9d96-6605f2598535 Timestamp: 2025-09-18 15:15:30Z - Correlation ID: 7f8bf445-8cf4-458e-9d96-6605f2598535 - Trace ID: 20c90abf-f04c-42b3-a610-289823fa2700\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:45:30:4530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:45:30:4530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:45:30:4530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 20:45:30:4530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 20:45:33:4533"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 20:45:48:4548"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 20:45:48:4548"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 20:45:48:4548"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 20:45:48:4548"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 20:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 20:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 20:45:50:4550"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 20:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 20:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 20:45:50:4550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 20:45:54:4554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 20:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 20:45:58:4558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 20:46:02:462"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 20:46:04:464"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 20:46:07:467"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:16:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c414fb03-f79f-4b8a-a9d5-4d1903f60600 Correlation ID: d9bc98a6-4eb2-4812-8822-f31ee03b3354 Timestamp: 2025-09-18 15:16:11Z - Correlation ID: d9bc98a6-4eb2-4812-8822-f31ee03b3354 - Trace ID: c414fb03-f79f-4b8a-a9d5-4d1903f60600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:16:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c414fb03-f79f-4b8a-a9d5-4d1903f60600 Correlation ID: d9bc98a6-4eb2-4812-8822-f31ee03b3354 Timestamp: 2025-09-18 15:16:11Z - Correlation ID: d9bc98a6-4eb2-4812-8822-f31ee03b3354 - Trace ID: c414fb03-f79f-4b8a-a9d5-4d1903f60600\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 20:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 20:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 20:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 20:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 20:46:13:4613"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft user sudhenreddym12345@gmail.com attempting local login\u001b[39m","timestamp":"2025-09-18 20:46:38:4638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for Microsoft user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:46:38:4638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 20:46:40:4640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 20:46:41:4641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 20:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 20:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft user sudhenreddym12345@gmail.com attempting local login\u001b[39m","timestamp":"2025-09-18 20:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDirect password match for Microsoft user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 45F04D58-FA50-49AA-8820-CD548D25CD39\u001b[39m","timestamp":"2025-09-18 20:46:53:4653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 20:46:53:4653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: test@example.com\u001b[39m","timestamp":"2025-09-18 20:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1 user: test@example.com\u001b[39m","timestamp":"2025-09-18 20:49:10:4910"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 20:49:10:4910","url":"/message"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 20:49:11:4911"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 20:49:11:4911"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 20:49:12:4912"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__MessageAc__messa__0D7A0286\". The conflict occurred in database \"aivadb\", table \"dbo.Messages\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-18 20:49:12:4912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 20:49:39:4939"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 21:12:58:1258"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 21:12:58:1258"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 21:12:58:1258"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 21:12:58:1258"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 21:13:02:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 21:13:02:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 21:13:02:132"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 21:13:02:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 21:13:02:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 21:13:02:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 21:13:06:136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 21:13:07:137"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 21:13:10:1310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 21:13:19:1319"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:43:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f75f5473800 Correlation ID: 1bf6694f-abea-41c3-8c06-68449c45f1b9 Timestamp: 2025-09-18 15:43:24Z - Correlation ID: 1bf6694f-abea-41c3-8c06-68449c45f1b9 - Trace ID: dfab1b57-df92-4064-bf79-5f75f5473800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:43:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f75f5473800 Correlation ID: 1bf6694f-abea-41c3-8c06-68449c45f1b9 Timestamp: 2025-09-18 15:43:24Z - Correlation ID: 1bf6694f-abea-41c3-8c06-68449c45f1b9 - Trace ID: dfab1b57-df92-4064-bf79-5f75f5473800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 21:13:24:1324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 21:13:24:1324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 21:13:24:1324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 21:13:24:1324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 21:13:27:1327"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 21:13:55:1355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 21:13:57:1357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Simple login test server running on port 3001\u001b[39m","timestamp":"2025-09-18 21:14:31:1431"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Missing required database configuration keys: SQL_SERVER, SQL_DATABASE, SQL_USERNAME, SQL_PASSWORD\u001b[39m","stack":"Error: Missing required database configuration keys: SQL_SERVER, SQL_DATABASE, SQL_USERNAME, SQL_PASSWORD\n    at getDatabaseConfig (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\config\\database.ts:51:11)\n    at DatabaseManager.connect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\config\\database.ts:383:44)\n    at DatabaseManager.getPool (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\config\\database.ts:409:25)\n    at Server.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\simple-login-test.ts:117:34)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at Server.emit (node:domain:489:12)\n    at emitListeningNT (node:net:1983:10)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-09-18 21:14:31:1431"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Missing required database configuration keys: SQL_SERVER, SQL_DATABASE, SQL_USERNAME, SQL_PASSWORD\u001b[39m","stack":"Error: Missing required database configuration keys: SQL_SERVER, SQL_DATABASE, SQL_USERNAME, SQL_PASSWORD\n    at getDatabaseConfig (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\config\\database.ts:51:11)\n    at DatabaseManager.connect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\config\\database.ts:383:44)\n    at DatabaseManager.getPool (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\config\\database.ts:409:25)\n    at Server.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\simple-login-test.ts:117:34)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at Server.emit (node:domain:489:12)\n    at emitListeningNT (node:net:1983:10)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-09-18 21:14:31:1431"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 21:21:04:214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 21:21:04:214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 21:21:04:214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 21:21:04:214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 21:21:05:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 21:21:06:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 21:21:08:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 21:21:18:2118"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:51:22Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d1750670-a994-4abb-a95e-db2c6cd23200 Correlation ID: 18774d03-a88c-4dbd-a084-f8d8c2646f72 Timestamp: 2025-09-18 15:51:22Z - Correlation ID: 18774d03-a88c-4dbd-a084-f8d8c2646f72 - Trace ID: d1750670-a994-4abb-a95e-db2c6cd23200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:51:22Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d1750670-a994-4abb-a95e-db2c6cd23200 Correlation ID: 18774d03-a88c-4dbd-a084-f8d8c2646f72 Timestamp: 2025-09-18 15:51:22Z - Correlation ID: 18774d03-a88c-4dbd-a084-f8d8c2646f72 - Trace ID: d1750670-a994-4abb-a95e-db2c6cd23200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 21:21:22:2122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 21:21:22:2122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 21:21:22:2122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 21:21:22:2122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 21:21:24:2124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 21:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 21:21:53:2153"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 21:23:55:2355"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 21:23:55:2355"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 21:23:55:2355"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 21:23:55:2355"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 21:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 21:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 21:23:56:2356"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 21:23:56:2356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 21:23:56:2356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 21:23:56:2356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 21:23:56:2356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 21:23:57:2357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 21:24:00:240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 21:24:09:249"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:54:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 31e70c90-6634-45f1-9202-ab6cc54e2b00 Correlation ID: 13e7a4b8-a899-41d4-aa5f-38dfe7d14d7d Timestamp: 2025-09-18 15:54:14Z - Correlation ID: 13e7a4b8-a899-41d4-aa5f-38dfe7d14d7d - Trace ID: 31e70c90-6634-45f1-9202-ab6cc54e2b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 15:54:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 31e70c90-6634-45f1-9202-ab6cc54e2b00 Correlation ID: 13e7a4b8-a899-41d4-aa5f-38dfe7d14d7d Timestamp: 2025-09-18 15:54:14Z - Correlation ID: 13e7a4b8-a899-41d4-aa5f-38dfe7d14d7d - Trace ID: 31e70c90-6634-45f1-9202-ab6cc54e2b00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 21:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 21:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 21:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 21:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 21:24:16:2416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 21:24:45:2445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 21:24:46:2446"}
{"ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError occurred: Bad escaped character in JSON at position 9 (line 1 column 10)\u001b[39m","method":"POST","stack":"SyntaxError: Bad escaped character in JSON at position 9 (line 1 column 10)\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-09-18 21:27:06:276","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.5074"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 21:27:27:2727"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 21:27:28:2728"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 21:35:42:3542"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 21:35:42:3542"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 21:35:42:3542"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 21:35:42:3542"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 21:35:46:3546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 21:35:46:3546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 21:35:46:3546"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 21:35:46:3546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 21:35:46:3546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 21:35:46:3546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 21:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 21:35:54:3554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 21:35:57:3557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 21:36:10:3610"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:06:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3cd0f76300 Correlation ID: e61d7046-b6fa-455a-901b-6f5a99fb9aef Timestamp: 2025-09-18 16:06:14Z - Correlation ID: e61d7046-b6fa-455a-901b-6f5a99fb9aef - Trace ID: 69887750-fdcc-4e10-866e-9a3cd0f76300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:06:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3cd0f76300 Correlation ID: e61d7046-b6fa-455a-901b-6f5a99fb9aef Timestamp: 2025-09-18 16:06:14Z - Correlation ID: e61d7046-b6fa-455a-901b-6f5a99fb9aef - Trace ID: 69887750-fdcc-4e10-866e-9a3cd0f76300\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 21:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 21:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 21:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 21:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 21:36:16:3616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 21:36:49:3649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 21:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-18 21:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 21:37:10:3710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: test@example.com\u001b[39m","timestamp":"2025-09-18 21:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: test@example.com\u001b[39m","timestamp":"2025-09-18 21:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 21:37:47:3747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 21:37:47:3747"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:13:32:1332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:13:32:1332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:13:32:1332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:13:32:1332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:13:33:1333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:13:33:1333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:13:33:1333"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:13:33:1333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:13:33:1333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:13:33:1333"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:13:35:1335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:13:36:1336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:13:38:1338"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:13:47:1347"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:43:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 972d5b6a-3782-4a8d-8f22-206e16892e00 Correlation ID: 9832b1bf-75ff-4f06-8279-00a484926e94 Timestamp: 2025-09-18 16:43:50Z - Correlation ID: 9832b1bf-75ff-4f06-8279-00a484926e94 - Trace ID: 972d5b6a-3782-4a8d-8f22-206e16892e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:43:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 972d5b6a-3782-4a8d-8f22-206e16892e00 Correlation ID: 9832b1bf-75ff-4f06-8279-00a484926e94 Timestamp: 2025-09-18 16:43:50Z - Correlation ID: 9832b1bf-75ff-4f06-8279-00a484926e94 - Trace ID: 972d5b6a-3782-4a8d-8f22-206e16892e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 22:13:50:1350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:13:50:1350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:13:50:1350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:13:50:1350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:13:52:1352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-18 22:14:08:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:14:18:1418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 22:14:19:1419"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:15:38:1538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:15:38:1538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:15:38:1538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:15:38:1538"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:15:41:1541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:15:41:1541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:15:41:1541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:15:41:1541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:15:41:1541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:15:41:1541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:15:44:1544"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:15:45:1545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:15:47:1547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:15:55:1555"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:45:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e61c9e7900 Correlation ID: d0a0178e-019a-49c0-aa40-9881bc142423 Timestamp: 2025-09-18 16:45:58Z - Correlation ID: d0a0178e-019a-49c0-aa40-9881bc142423 - Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e61c9e7900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:45:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e61c9e7900 Correlation ID: d0a0178e-019a-49c0-aa40-9881bc142423 Timestamp: 2025-09-18 16:45:58Z - Correlation ID: d0a0178e-019a-49c0-aa40-9881bc142423 - Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e61c9e7900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 22:15:59:1559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:15:59:1559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:15:59:1559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:15:59:1559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:16:00:160"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:16:25:1625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 22:16:26:1626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 22:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:17:48:1748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 22:17:48:1748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 22:17:50:1750"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 22:17:56:1756","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:18:02:182"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:18:02:182"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 22:18:20:1820","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:18:30:1830"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:18:31:1831"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:18:31:1831"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 22:18:33:1833","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:23:52:2352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:27:09:279"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:27:11:2711"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:28:14:2814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:28:15:2815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:28:15:2815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:28:17:2817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:28:26:2826"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:58:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4653cc87-1dc8-4f49-a883-8498b2d33000 Correlation ID: 15ffa2f7-8ccc-40bf-8c82-273bee377823 Timestamp: 2025-09-18 16:58:30Z - Correlation ID: 15ffa2f7-8ccc-40bf-8c82-273bee377823 - Trace ID: 4653cc87-1dc8-4f49-a883-8498b2d33000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 16:58:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4653cc87-1dc8-4f49-a883-8498b2d33000 Correlation ID: 15ffa2f7-8ccc-40bf-8c82-273bee377823 Timestamp: 2025-09-18 16:58:30Z - Correlation ID: 15ffa2f7-8ccc-40bf-8c82-273bee377823 - Trace ID: 4653cc87-1dc8-4f49-a883-8498b2d33000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 22:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:28:57:2857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 22:28:59:2859"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:35:27:3527"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:35:28:3528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:35:29:3529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:35:29:3529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:35:31:3531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:35:41:3541"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:05:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8ca5a33c-54e6-4982-afe2-a7249f223400 Correlation ID: 8799e47f-7cc3-4a85-b581-a8a3611866c6 Timestamp: 2025-09-18 17:05:44Z - Correlation ID: 8799e47f-7cc3-4a85-b581-a8a3611866c6 - Trace ID: 8ca5a33c-54e6-4982-afe2-a7249f223400\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:05:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8ca5a33c-54e6-4982-afe2-a7249f223400 Correlation ID: 8799e47f-7cc3-4a85-b581-a8a3611866c6 Timestamp: 2025-09-18 17:05:44Z - Correlation ID: 8799e47f-7cc3-4a85-b581-a8a3611866c6 - Trace ID: 8ca5a33c-54e6-4982-afe2-a7249f223400\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 22:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:35:45:3545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:35:47:3547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:36:14:3614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:36:15:3615"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:36:48:3648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 22:36:48:3648"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 22:36:51:3651","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:41:50:4150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:41:53:4153"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:42:41:4241"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:43:07:437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:46:38:4638"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:46:38:4638"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:46:38:4638"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:46:38:4638"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:46:39:4639"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:46:41:4641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:46:41:4641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:46:43:4643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:46:52:4652"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:16:56Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c414fb03-f79f-4b8a-a9d5-4d196ecf0b00 Correlation ID: 360206bf-5fcc-460e-aefc-30f2749dcb66 Timestamp: 2025-09-18 17:16:56Z - Correlation ID: 360206bf-5fcc-460e-aefc-30f2749dcb66 - Trace ID: c414fb03-f79f-4b8a-a9d5-4d196ecf0b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:16:56Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c414fb03-f79f-4b8a-a9d5-4d196ecf0b00 Correlation ID: 360206bf-5fcc-460e-aefc-30f2749dcb66 Timestamp: 2025-09-18 17:16:56Z - Correlation ID: 360206bf-5fcc-460e-aefc-30f2749dcb66 - Trace ID: c414fb03-f79f-4b8a-a9d5-4d196ecf0b00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 22:46:56:4656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:46:56:4656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:46:56:4656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:46:56:4656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:46:58:4658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:47:24:4724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 22:47:26:4726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:48:57:4857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 22:48:57:4857"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 22:49:03:493","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: error-1758215943119 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:49:08:498"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: error-1758215943119 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:49:09:499"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:09:499"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:09:499"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:09:499"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:49:15:4915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 22:49:15:4915"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:15:4915"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:15:4915"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:16:4916"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found or access denied\u001b[39m","stack":"Error: Message not found or access denied\n    at addMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:85:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:198:5","timestamp":"2025-09-18 22:49:16:4916"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:50:03:503"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:50:03:503"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:50:03:503"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:50:03:503"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:50:05:505"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:50:05:505"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:50:05:505"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:50:05:505"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:50:05:505"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:50:05:505"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:50:07:507"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:50:07:507"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:50:10:5010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:50:18:5018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:50:18:5018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:50:19:5019"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:20:22Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263342f7800 Correlation ID: 1c7d2372-754c-4432-b054-8714a1cfae7d Timestamp: 2025-09-18 17:20:22Z - Correlation ID: 1c7d2372-754c-4432-b054-8714a1cfae7d - Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263342f7800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:20:22Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263342f7800 Correlation ID: 1c7d2372-754c-4432-b054-8714a1cfae7d Timestamp: 2025-09-18 17:20:22Z - Correlation ID: 1c7d2372-754c-4432-b054-8714a1cfae7d - Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263342f7800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 22:50:22:5022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:50:22:5022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:50:22:5022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:50:22:5022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:50:24:5024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:50:49:5049"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:50:50:5050"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:51:36:5136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:51:36:5136"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in environment variables. Using mock client for development.\u001b[39m","timestamp":"2025-09-18 22:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:52:34:5234"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:53:41:5341"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:53:41:5341"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:53:41:5341"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:53:41:5341"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAzure OpenAI configuration missing in development environment. Using mock client.\u001b[39m","timestamp":"2025-09-18 22:53:43:5343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:53:43:5343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:53:43:5343"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:53:43:5343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:53:43:5343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:53:43:5343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:53:45:5345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:53:46:5346"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:53:48:5348"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:53:57:5357"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:24:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b17c4b73-33c6-46e8-8914-f57f40425200 Correlation ID: f43914bc-3a92-4a11-bae0-796b2f1c31fd Timestamp: 2025-09-18 17:24:00Z - Correlation ID: f43914bc-3a92-4a11-bae0-796b2f1c31fd - Trace ID: b17c4b73-33c6-46e8-8914-f57f40425200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:24:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b17c4b73-33c6-46e8-8914-f57f40425200 Correlation ID: f43914bc-3a92-4a11-bae0-796b2f1c31fd Timestamp: 2025-09-18 17:24:00Z - Correlation ID: f43914bc-3a92-4a11-bae0-796b2f1c31fd - Trace ID: b17c4b73-33c6-46e8-8914-f57f40425200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 22:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:54:00:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 22:54:27:5427"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 22:54:28:5428"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 22:55:28:5528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 22:55:28:5528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 22:55:28:5528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 22:55:28:5528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 22:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 22:55:31:5531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 22:55:32:5532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 22:55:34:5534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 22:55:43:5543"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:25:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0f12e7b00 Correlation ID: 6a8b979e-6447-4f35-b0fb-d28406181ac9 Timestamp: 2025-09-18 17:25:46Z - Correlation ID: 6a8b979e-6447-4f35-b0fb-d28406181ac9 - Trace ID: d9f34b73-3436-469a-be4f-ead0f12e7b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:25:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0f12e7b00 Correlation ID: 6a8b979e-6447-4f35-b0fb-d28406181ac9 Timestamp: 2025-09-18 17:25:46Z - Correlation ID: 6a8b979e-6447-4f35-b0fb-d28406181ac9 - Trace ID: d9f34b73-3436-469a-be4f-ead0f12e7b00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 22:55:47:5547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 22:55:47:5547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 22:55:47:5547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 22:55:47:5547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 22:55:48:5548"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:56:09:569"}
{"code":"404","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mOpenAI API error: Resource not found\u001b[39m","timestamp":"2025-09-18 22:56:11:5611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 22:57:59:5759"}
{"code":"404","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mOpenAI API error: Resource not found\u001b[39m","timestamp":"2025-09-18 22:58:01:581"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:05:28:528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:05:28:528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:05:28:528"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:05:28:528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:05:29:529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:05:31:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:05:31:531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 23:05:33:533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:05:42:542"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:35:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e9299d3d00 Correlation ID: 37251d2d-188b-4646-b58d-a90d6b79c62c Timestamp: 2025-09-18 17:35:46Z - Correlation ID: 37251d2d-188b-4646-b58d-a90d6b79c62c - Trace ID: bf049fa5-ae0f-476b-8d0b-30e9299d3d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:35:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e9299d3d00 Correlation ID: 37251d2d-188b-4646-b58d-a90d6b79c62c Timestamp: 2025-09-18 17:35:46Z - Correlation ID: 37251d2d-188b-4646-b58d-a90d6b79c62c - Trace ID: bf049fa5-ae0f-476b-8d0b-30e9299d3d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 23:05:46:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:05:46:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:05:46:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:05:46:546"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 23:05:48:548"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 23:06:15:615"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 23:06:16:616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 23:06:40:640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 23:06:40:640"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 23:06:43:643","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-18 23:11:02:112"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:11:43:1143"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:11:43:1143"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:11:43:1143"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:11:43:1143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:11:44:1144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:11:46:1146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:11:51:1151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 23:11:54:1154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:12:02:122"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:42:05Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 778b07c1-d9db-4a34-b928-a333e0ad3700 Correlation ID: 48783ca3-8244-4db2-b7fd-5ab0743a9674 Timestamp: 2025-09-18 17:42:05Z - Correlation ID: 48783ca3-8244-4db2-b7fd-5ab0743a9674 - Trace ID: 778b07c1-d9db-4a34-b928-a333e0ad3700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:42:05Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 778b07c1-d9db-4a34-b928-a333e0ad3700 Correlation ID: 48783ca3-8244-4db2-b7fd-5ab0743a9674 Timestamp: 2025-09-18 17:42:05Z - Correlation ID: 48783ca3-8244-4db2-b7fd-5ab0743a9674 - Trace ID: 778b07c1-d9db-4a34-b928-a333e0ad3700\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-18 23:12:05:125"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:12:05:125"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:12:05:125"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:12:05:125"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 23:12:07:127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 23:12:34:1234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 23:12:35:1235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 23:13:11:1311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 23:13:12:1312"}
{"errors":["Body: \"chatId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 23:13:26:1326","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:22:27:2227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:22:27:2227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:22:27:2227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:22:27:2227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:22:32:2232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:22:32:2232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:22:34:2234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 23:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:22:50:2250"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:52:53Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d1750670-a994-4abb-a95e-db2cef793700 Correlation ID: 121e9bc9-fbe7-458f-aa34-ac18a55230c9 Timestamp: 2025-09-18 17:52:53Z - Correlation ID: 121e9bc9-fbe7-458f-aa34-ac18a55230c9 - Trace ID: d1750670-a994-4abb-a95e-db2cef793700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:52:53Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d1750670-a994-4abb-a95e-db2cef793700 Correlation ID: 121e9bc9-fbe7-458f-aa34-ac18a55230c9 Timestamp: 2025-09-18 17:52:53Z - Correlation ID: 121e9bc9-fbe7-458f-aa34-ac18a55230c9 - Trace ID: d1750670-a994-4abb-a95e-db2cef793700\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 23:22:54:2254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:22:54:2254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:22:54:2254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:22:54:2254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 23:23:20:2320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 23:23:21:2321"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:24:42:2442"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:24:42:2442"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:24:42:2442"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:24:42:2442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:24:45:2445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:24:45:2445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 23:24:47:2447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:24:56:2456"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:54:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 354ec346-42ce-4e9d-9221-b7b4d2df7500 Correlation ID: 062ffce3-8117-451a-b22f-1ce1359b2d7c Timestamp: 2025-09-18 17:54:59Z - Correlation ID: 062ffce3-8117-451a-b22f-1ce1359b2d7c - Trace ID: 354ec346-42ce-4e9d-9221-b7b4d2df7500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 17:54:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 354ec346-42ce-4e9d-9221-b7b4d2df7500 Correlation ID: 062ffce3-8117-451a-b22f-1ce1359b2d7c Timestamp: 2025-09-18 17:54:59Z - Correlation ID: 062ffce3-8117-451a-b22f-1ce1359b2d7c - Trace ID: 354ec346-42ce-4e9d-9221-b7b4d2df7500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 23:24:59:2459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:24:59:2459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:24:59:2459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:24:59:2459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 23:25:01:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 23:25:26:2526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 23:25:27:2527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 23:26:53:2653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 23:26:53:2653"}
{"errors":["Body: \"useDataAgent\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 23:26:56:2656","url":"/message"}
{"errors":["Body: \"useDataAgent\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 23:27:03:273","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:31:47:3147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-18 23:31:49:3149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:31:58:3158"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:02:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b506a1e3000 Correlation ID: 4f4df062-0c13-4a34-a898-0ad887899afb Timestamp: 2025-09-18 18:02:01Z - Correlation ID: 4f4df062-0c13-4a34-a898-0ad887899afb - Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b506a1e3000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:02:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b506a1e3000 Correlation ID: 4f4df062-0c13-4a34-a898-0ad887899afb Timestamp: 2025-09-18 18:02:01Z - Correlation ID: 4f4df062-0c13-4a34-a898-0ad887899afb - Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b506a1e3000\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 23:32:01:321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:32:01:321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:32:01:321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:32:01:321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-18 23:32:03:323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-18 23:32:29:3229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 23:32:30:3230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-18 23:33:26:3326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-18 23:33:26:3326"}
{"errors":["Body: \"useDataAgent\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 23:33:30:3330","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 78d3f514-47a7-490a-81da-91c7eedea0c8\u001b[39m","timestamp":"2025-09-18 23:33:45:3345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExisting Microsoft user logged in: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-18 23:33:45:3345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft OAuth login successful: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-18 23:33:45:3345"}
{"errors":["Body: \"useDataAgent\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-18 23:33:49:3349","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:52:35:5235"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:52:44:5244"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:52:49:5249"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:22:53Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b2e44638-3386-4c02-b6ed-2e3559c17100 Correlation ID: a03dccc8-569b-4809-817d-77ec14a88e2f Timestamp: 2025-09-18 18:22:53Z - Correlation ID: a03dccc8-569b-4809-817d-77ec14a88e2f - Trace ID: b2e44638-3386-4c02-b6ed-2e3559c17100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:22:53Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b2e44638-3386-4c02-b6ed-2e3559c17100 Correlation ID: a03dccc8-569b-4809-817d-77ec14a88e2f Timestamp: 2025-09-18 18:22:53Z - Correlation ID: a03dccc8-569b-4809-817d-77ec14a88e2f - Trace ID: b2e44638-3386-4c02-b6ed-2e3559c17100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 23:52:53:5253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:52:53:5253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:52:53:5253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:52:53:5253"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:52:55:5255"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:52:55:5255"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 23:52:55:5255"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-18 23:57:41:5741"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-18 23:57:51:5751"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:27:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 33aa6bb4-ab2b-44d8-994a-3eabc7897c00 Correlation ID: a24c00ad-f495-4ff7-ad9a-f1b4b1086fce Timestamp: 2025-09-18 18:27:55Z - Correlation ID: a24c00ad-f495-4ff7-ad9a-f1b4b1086fce - Trace ID: 33aa6bb4-ab2b-44d8-994a-3eabc7897c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:27:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 33aa6bb4-ab2b-44d8-994a-3eabc7897c00 Correlation ID: a24c00ad-f495-4ff7-ad9a-f1b4b1086fce Timestamp: 2025-09-18 18:27:55Z - Correlation ID: a24c00ad-f495-4ff7-ad9a-f1b4b1086fce - Trace ID: 33aa6bb4-ab2b-44d8-994a-3eabc7897c00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-18 23:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-18 23:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-18 23:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-18 23:57:55:5755"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:57:57:5757"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:57:57:5757"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-18 23:57:57:5757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:00:42:042"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:00:44:044"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:00:44:044"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:00:55:055"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:00:56:056"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:00:56:056"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:00:56:056"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:01:10:110"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:01:11:111"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:01:11:111"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:01:11:111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 00:02:17:217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 00:02:17:217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 00:02:17:217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 00:02:17:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 00:02:18:218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 00:02:19:219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 00:02:20:220"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:22:222"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 00:02:25:225"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:32:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9737f917-5c2f-4839-893f-ffa8451e3b00 Correlation ID: d8e623bc-fc6a-49d6-8460-bba4ece95b50 Timestamp: 2025-09-18 18:32:28Z - Correlation ID: d8e623bc-fc6a-49d6-8460-bba4ece95b50 - Trace ID: 9737f917-5c2f-4839-893f-ffa8451e3b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:32:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9737f917-5c2f-4839-893f-ffa8451e3b00 Correlation ID: d8e623bc-fc6a-49d6-8460-bba4ece95b50 Timestamp: 2025-09-18 18:32:28Z - Correlation ID: d8e623bc-fc6a-49d6-8460-bba4ece95b50 - Trace ID: 9737f917-5c2f-4839-893f-ffa8451e3b00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 00:02:28:228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 00:02:28:228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 00:02:28:228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:02:28:228"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:30:230"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:30:230"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 00:02:30:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:02:55:255"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:57:257"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:57:257"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.80' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 00:02:57:257"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 00:03:47:347"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 00:04:05:45"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 00:04:05:45"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 00:04:05:45"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 00:04:05:45"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 00:04:06:46"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 00:04:07:47"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 00:04:08:48"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 00:04:10:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 00:04:20:420"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:34:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c4487579-b312-4ad5-95ab-7349544f3b00 Correlation ID: 8e907147-d954-4396-a756-02da4a4a1a96 Timestamp: 2025-09-18 18:34:24Z - Correlation ID: 8e907147-d954-4396-a756-02da4a4a1a96 - Trace ID: c4487579-b312-4ad5-95ab-7349544f3b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 18:34:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c4487579-b312-4ad5-95ab-7349544f3b00 Correlation ID: 8e907147-d954-4396-a756-02da4a4a1a96 Timestamp: 2025-09-18 18:34:24Z - Correlation ID: 8e907147-d954-4396-a756-02da4a4a1a96 - Trace ID: c4487579-b312-4ad5-95ab-7349544f3b00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 00:04:24:424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 00:04:24:424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 00:04:24:424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:04:24:424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 00:04:26:426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 00:04:56:456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 00:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 00:05:08:58"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 00:05:08:58"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 00:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 00:05:42:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 00:05:44:544"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 00:05:44:544"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 00:08:26:826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 00:08:26:826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 00:51:14:5114"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 00:51:57:5157"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 00:51:57:5157"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 00:51:57:5157"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 00:51:57:5157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 00:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 00:51:59:5159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 00:52:00:520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 00:52:02:522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 00:52:12:5212"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 19:22:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 49f5c4c5-6580-459e-ac6e-0af8868a2000 Correlation ID: 45a97cc1-53eb-4140-adb9-66a29ec88c63 Timestamp: 2025-09-18 19:22:16Z - Correlation ID: 45a97cc1-53eb-4140-adb9-66a29ec88c63 - Trace ID: 49f5c4c5-6580-459e-ac6e-0af8868a2000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 19:22:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 49f5c4c5-6580-459e-ac6e-0af8868a2000 Correlation ID: 45a97cc1-53eb-4140-adb9-66a29ec88c63 Timestamp: 2025-09-18 19:22:16Z - Correlation ID: 45a97cc1-53eb-4140-adb9-66a29ec88c63 - Trace ID: 49f5c4c5-6580-459e-ac6e-0af8868a2000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 00:52:16:5216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 00:52:16:5216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 00:52:16:5216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 00:52:16:5216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 00:52:19:5219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 00:52:51:5251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 00:52:52:5252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 00:53:11:5311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 00:53:11:5311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 78d3f514-47a7-490a-81da-91c7eedea0c8\u001b[39m","timestamp":"2025-09-19 01:02:38:238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExisting Microsoft user logged in: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-19 01:02:38:238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft OAuth login successful: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-19 01:02:38:238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 01:43:31:4331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 01:43:34:4334"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 01:43:45:4345"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:13:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fa9c5eff-9438-4b05-aeb7-fe5b57a03800 Correlation ID: b490d0cd-4f05-4712-b2c4-8257043ceede Timestamp: 2025-09-18 20:13:49Z - Correlation ID: b490d0cd-4f05-4712-b2c4-8257043ceede - Trace ID: fa9c5eff-9438-4b05-aeb7-fe5b57a03800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:13:49Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fa9c5eff-9438-4b05-aeb7-fe5b57a03800 Correlation ID: b490d0cd-4f05-4712-b2c4-8257043ceede Timestamp: 2025-09-18 20:13:49Z - Correlation ID: b490d0cd-4f05-4712-b2c4-8257043ceede - Trace ID: fa9c5eff-9438-4b05-aeb7-fe5b57a03800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 01:43:49:4349"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 01:43:49:4349"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 01:43:49:4349"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:43:49:4349"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:43:50:4350"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 01:44:00:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 01:44:00:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 01:44:00:440"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 01:44:00:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 01:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 01:44:03:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 01:44:04:444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 01:44:05:445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 01:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:44:18:4418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 01:44:19:4419"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:14:20Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8e747743-cc69-4b3a-9da4-32ac9c8c2100 Correlation ID: 4bcbded1-1734-41d3-81c5-173089fab1ec Timestamp: 2025-09-18 20:14:20Z - Correlation ID: 4bcbded1-1734-41d3-81c5-173089fab1ec - Trace ID: 8e747743-cc69-4b3a-9da4-32ac9c8c2100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:14:20Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8e747743-cc69-4b3a-9da4-32ac9c8c2100 Correlation ID: 4bcbded1-1734-41d3-81c5-173089fab1ec Timestamp: 2025-09-18 20:14:20Z - Correlation ID: 4bcbded1-1734-41d3-81c5-173089fab1ec - Trace ID: 8e747743-cc69-4b3a-9da4-32ac9c8c2100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 01:44:19:4419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 01:44:19:4419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 01:44:19:4419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:44:19:4419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:44:21:4421"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 01:44:47:4447"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 01:45:52:4552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 01:45:52:4552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 01:45:52:4552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 01:45:52:4552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 01:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 01:46:00:460"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 01:46:02:462"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 01:46:05:465"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 01:46:14:4614"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:16:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e60c5e8000 Correlation ID: d51a8e57-3761-4caa-acf4-e4ef33971b50 Timestamp: 2025-09-18 20:16:18Z - Correlation ID: d51a8e57-3761-4caa-acf4-e4ef33971b50 - Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e60c5e8000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:16:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e60c5e8000 Correlation ID: d51a8e57-3761-4caa-acf4-e4ef33971b50 Timestamp: 2025-09-18 20:16:18Z - Correlation ID: d51a8e57-3761-4caa-acf4-e4ef33971b50 - Trace ID: 9b41c0cc-bdf2-48d4-9ab3-b7e60c5e8000\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 01:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 01:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 01:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:46:18:4618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:46:19:4619"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:46:46:4646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 01:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:48:56:4856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:48:58:4858"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:49:25:4925"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 01:50:59:5059"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 01:50:59:5059"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 01:50:59:5059"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 01:50:59:5059"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 01:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 01:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 01:51:03:513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 01:51:05:515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 01:51:14:5114"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:21:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b0a583800 Correlation ID: 17e6af46-dc9c-456c-b6f2-f0e91633c08a Timestamp: 2025-09-18 20:21:18Z - Correlation ID: 17e6af46-dc9c-456c-b6f2-f0e91633c08a - Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b0a583800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:21:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b0a583800 Correlation ID: 17e6af46-dc9c-456c-b6f2-f0e91633c08a Timestamp: 2025-09-18 20:21:18Z - Correlation ID: 17e6af46-dc9c-456c-b6f2-f0e91633c08a - Trace ID: 8cb6d12a-5bea-4ac5-b59a-007b0a583800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 01:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 01:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 01:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:51:19:5119"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:51:47:5147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 01:51:49:5149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:55:28:5528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:55:29:5529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:55:53:5553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:56:21:5621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:56:23:5623"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 01:58:41:5841"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 01:58:43:5843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 01:59:10:5910"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 02:03:54:354"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 02:03:54:354"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 02:03:54:354"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 02:03:54:354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 02:03:56:356"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 02:03:57:357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 02:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 02:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 02:04:09:49"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:34:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4917eaa6-b426-492e-975f-c6fed3e63f00 Correlation ID: f95c5503-3ab3-4a6e-8add-0ca28e087134 Timestamp: 2025-09-18 20:34:13Z - Correlation ID: f95c5503-3ab3-4a6e-8add-0ca28e087134 - Trace ID: 4917eaa6-b426-492e-975f-c6fed3e63f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:34:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4917eaa6-b426-492e-975f-c6fed3e63f00 Correlation ID: f95c5503-3ab3-4a6e-8add-0ca28e087134 Timestamp: 2025-09-18 20:34:13Z - Correlation ID: f95c5503-3ab3-4a6e-8add-0ca28e087134 - Trace ID: 4917eaa6-b426-492e-975f-c6fed3e63f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 02:04:13:413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 02:04:13:413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 02:04:13:413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:04:13:413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:04:42:442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 02:04:43:443"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 02:06:52:652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 02:06:52:652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 02:06:52:652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 02:06:52:652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 02:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 02:06:54:654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 02:06:55:655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 02:06:57:657"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 02:07:06:76"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:37:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484ae0402f00 Correlation ID: c16379eb-1399-4c51-b0d9-402f75327c36 Timestamp: 2025-09-18 20:37:10Z - Correlation ID: c16379eb-1399-4c51-b0d9-402f75327c36 - Trace ID: e365dfa3-2f31-4283-bd31-484ae0402f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:37:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484ae0402f00 Correlation ID: c16379eb-1399-4c51-b0d9-402f75327c36 Timestamp: 2025-09-18 20:37:10Z - Correlation ID: c16379eb-1399-4c51-b0d9-402f75327c36 - Trace ID: e365dfa3-2f31-4283-bd31-484ae0402f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 02:07:09:79"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 02:07:09:79"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 02:07:09:79"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:07:09:79"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:07:11:711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:07:36:736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 02:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:13:59:1359"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:14:01:141"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:14:16:1416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:14:20:1420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:14:28:1428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:14:45:1445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:15:33:1533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:15:37:1537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:16:03:163"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 02:24:08:248"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 02:24:08:248"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 02:24:08:248"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 02:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 02:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 02:24:11:2411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 02:24:11:2411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 02:24:13:2413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 02:24:23:2423"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:54:27Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 42b0dfe2-3bc8-48b8-add2-77afc5033900 Correlation ID: 83826081-b9ef-47fe-a718-65b1b9839d77 Timestamp: 2025-09-18 20:54:27Z - Correlation ID: 83826081-b9ef-47fe-a718-65b1b9839d77 - Trace ID: 42b0dfe2-3bc8-48b8-add2-77afc5033900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 20:54:27Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 42b0dfe2-3bc8-48b8-add2-77afc5033900 Correlation ID: 83826081-b9ef-47fe-a718-65b1b9839d77 Timestamp: 2025-09-18 20:54:27Z - Correlation ID: 83826081-b9ef-47fe-a718-65b1b9839d77 - Trace ID: 42b0dfe2-3bc8-48b8-add2-77afc5033900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 02:24:26:2426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 02:24:26:2426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 02:24:26:2426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:24:26:2426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:24:28:2428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:24:56:2456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 02:24:57:2457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 02:25:47:2547"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 02:25:47:2547"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:26:02:262","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:27:51:2751","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 02:51:55:5155"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 02:52:22:5222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 02:52:22:5222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 02:52:22:5222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 02:52:22:5222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 02:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 02:52:24:5224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 02:52:24:5224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 02:52:26:5226"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 02:52:34:5234"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:22:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e952f24500 Correlation ID: 4b644568-db9c-4824-b222-fa36d7c2359a Timestamp: 2025-09-18 21:22:38Z - Correlation ID: 4b644568-db9c-4824-b222-fa36d7c2359a - Trace ID: bf049fa5-ae0f-476b-8d0b-30e952f24500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:22:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e952f24500 Correlation ID: 4b644568-db9c-4824-b222-fa36d7c2359a Timestamp: 2025-09-18 21:22:38Z - Correlation ID: 4b644568-db9c-4824-b222-fa36d7c2359a - Trace ID: bf049fa5-ae0f-476b-8d0b-30e952f24500\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 02:52:38:5238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 02:52:38:5238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 02:52:38:5238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 02:52:38:5238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 02:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 02:53:05:535"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 02:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 02:53:27:5327"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 02:53:27:5327"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:53:37:5337","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:53:40:5340","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:53:50:5350","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:53:52:5352","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 02:57:29:5729"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:111:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:29:5729"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:111:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:29:5729"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 02:57:34:5734"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:111:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:34:5734"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:111:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:34:5734"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 02:57:37:5737"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:111:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:37:5737"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:111:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:37:5737"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 02:57:45:5745"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:113:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:45:5745"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:277:13)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:113:13\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 02:57:45:5745"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:58:48:5848","url":"/"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 02:58:51:5851","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:05:06:56"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:05:07:57"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:05:32:532"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 03:07:15:715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 03:07:17:717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 03:07:26:726"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:37:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a383f00 Correlation ID: 8e8a9c4a-7996-42c6-aa33-daec29d64de6 Timestamp: 2025-09-18 21:37:29Z - Correlation ID: 8e8a9c4a-7996-42c6-aa33-daec29d64de6 - Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a383f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:37:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a383f00 Correlation ID: 8e8a9c4a-7996-42c6-aa33-daec29d64de6 Timestamp: 2025-09-18 21:37:29Z - Correlation ID: 8e8a9c4a-7996-42c6-aa33-daec29d64de6 - Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a383f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 03:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 03:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 03:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:07:31:731"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 03:07:38:738"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 03:07:38:738"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 03:07:38:738"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 03:07:38:738"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 03:07:40:740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 03:07:41:741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 03:07:42:742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 03:07:43:743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 03:07:54:754"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:37:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 07b5257c-5677-473d-a32e-dce296b43b00 Correlation ID: 2196cd41-fad3-428b-953a-6938d5ff7c3c Timestamp: 2025-09-18 21:37:57Z - Correlation ID: 2196cd41-fad3-428b-953a-6938d5ff7c3c - Trace ID: 07b5257c-5677-473d-a32e-dce296b43b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:37:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 07b5257c-5677-473d-a32e-dce296b43b00 Correlation ID: 2196cd41-fad3-428b-953a-6938d5ff7c3c Timestamp: 2025-09-18 21:37:57Z - Correlation ID: 2196cd41-fad3-428b-953a-6938d5ff7c3c - Trace ID: 07b5257c-5677-473d-a32e-dce296b43b00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 03:07:57:757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 03:07:57:757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 03:07:57:757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:07:57:757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:07:58:758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:07:59:759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 03:07:59:759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:08:23:823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 03:08:24:824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:18:47:1847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:18:49:1849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:19:05:195"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:19:07:197"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:19:14:1914"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:19:31:1931"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 03:20:07:207"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 03:20:07:207"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 03:20:07:207"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 03:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 03:20:08:208"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 03:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 03:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 03:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 03:20:10:2010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 03:20:11:2011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 03:20:13:2013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 03:20:21:2021"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:50:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b17c4b73-33c6-46e8-8914-f57f09ae5900 Correlation ID: fa24b5ef-ffb6-4316-b5e9-2db1e4bedc7d Timestamp: 2025-09-18 21:50:25Z - Correlation ID: fa24b5ef-ffb6-4316-b5e9-2db1e4bedc7d - Trace ID: b17c4b73-33c6-46e8-8914-f57f09ae5900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 21:50:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b17c4b73-33c6-46e8-8914-f57f09ae5900 Correlation ID: fa24b5ef-ffb6-4316-b5e9-2db1e4bedc7d Timestamp: 2025-09-18 21:50:25Z - Correlation ID: fa24b5ef-ffb6-4316-b5e9-2db1e4bedc7d - Trace ID: b17c4b73-33c6-46e8-8914-f57f09ae5900\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 03:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 03:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 03:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:20:52:2052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 03:20:54:2054"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 03:29:16:2916"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 03:29:33:2933"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 03:30:16:3016"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 03:30:39:3039"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 03:31:39:3139"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 03:33:25:3325"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2098:37\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-19 03:36:28:3628"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSend message error: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2098:37\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-19 03:36:28:3628"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 03:39:59:3959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 03:39:59:3959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 03:39:59:3959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 03:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 03:40:01:401"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 03:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 03:40:03:403"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:06:406"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 03:40:08:408"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 22:10:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 07b5257c-5677-473d-a32e-dce2dd9c3c00 Correlation ID: 575629d3-a09d-482a-aa63-325e2056103e Timestamp: 2025-09-18 22:10:11Z - Correlation ID: 575629d3-a09d-482a-aa63-325e2056103e - Trace ID: 07b5257c-5677-473d-a32e-dce2dd9c3c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 22:10:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 07b5257c-5677-473d-a32e-dce2dd9c3c00 Correlation ID: 575629d3-a09d-482a-aa63-325e2056103e Timestamp: 2025-09-18 22:10:11Z - Correlation ID: 575629d3-a09d-482a-aa63-325e2056103e - Trace ID: 07b5257c-5677-473d-a32e-dce2dd9c3c00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 03:40:11:4011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 03:40:11:4011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 03:40:11:4011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:40:11:4011"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:13:4013"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:13:4013"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 03:40:13:4013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:40:56:4056"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:57:4057"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSend message error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:40:57:4057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:42:13:4213"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:42:15:4215"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSend message error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:42:15:4215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:00:440"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:01:441"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet chat history error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:01:441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:01:441"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:03:443"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user bookmarks: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:03:443"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet bookmarks error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:03:443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:03:443"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:05:445"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet liked messages error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:05:445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:05:445"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:06:446"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet disliked messages error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:06:446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:06:446"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:08:448"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet workspaces error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:08:448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:08:448"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:09:449"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet workspaces error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:10:4410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:10:4410"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:11:4411"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet chat history error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:11:4411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:11:4411"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:13:4413"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user bookmarks: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:13:4413"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet bookmarks error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:13:4413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:13:4413"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:14:4414"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet liked messages error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:14:4414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:44:14:4414"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:16:4416"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet disliked messages error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:44:16:4416"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 03:49:02:492"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 03:49:02:492"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 03:49:02:492"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 03:49:02:492"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 03:49:03:493"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 03:49:04:494"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 03:49:04:494"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 03:49:04:494"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 03:49:04:494"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 03:49:05:495"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:07:497"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 03:49:10:4910"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 22:19:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b5c4bfaa-d855-48e0-a8e6-aba593a73600 Correlation ID: 2e8cde8a-bc05-4d92-808c-c6cb91cda255 Timestamp: 2025-09-18 22:19:14Z - Correlation ID: 2e8cde8a-bc05-4d92-808c-c6cb91cda255 - Trace ID: b5c4bfaa-d855-48e0-a8e6-aba593a73600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 22:19:14Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b5c4bfaa-d855-48e0-a8e6-aba593a73600 Correlation ID: 2e8cde8a-bc05-4d92-808c-c6cb91cda255 Timestamp: 2025-09-18 22:19:14Z - Correlation ID: 2e8cde8a-bc05-4d92-808c-c6cb91cda255 - Trace ID: b5c4bfaa-d855-48e0-a8e6-aba593a73600\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 03:49:14:4914"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 03:49:14:4914"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 03:49:14:4914"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:49:14:4914"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:16:4916"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:16:4916"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 03:49:16:4916"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:49:57:4957"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:59:4959"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:59:4959"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:49:59:4959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:50:03:503"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:50:05:505"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:50:05:505"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.226.213' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 03:50:05:505"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 03:50:45:5045"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 03:51:01:511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 03:51:01:511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 03:51:01:511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 03:51:01:511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 03:51:02:512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 03:51:03:513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 03:51:03:513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 03:51:05:515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 03:51:16:5116"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 22:21:20Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: aa1bdc4b-37f5-4930-8751-c8fb487e7b00 Correlation ID: 4f3d5305-b81a-4221-b700-580719065569 Timestamp: 2025-09-18 22:21:20Z - Correlation ID: 4f3d5305-b81a-4221-b700-580719065569 - Trace ID: aa1bdc4b-37f5-4930-8751-c8fb487e7b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-18 22:21:20Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: aa1bdc4b-37f5-4930-8751-c8fb487e7b00 Correlation ID: 4f3d5305-b81a-4221-b700-580719065569 Timestamp: 2025-09-18 22:21:20Z - Correlation ID: 4f3d5305-b81a-4221-b700-580719065569 - Trace ID: aa1bdc4b-37f5-4930-8751-c8fb487e7b00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 03:51:21:5121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 03:51:21:5121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 03:51:21:5121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 03:51:21:5121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 03:51:23:5123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 03:51:51:5151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 03:51:52:5152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 03:52:48:5248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 03:52:48:5248"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 03:53:00:530","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 10:45:29:4529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 10:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 10:46:01:461"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 10:46:03:463"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 10:46:05:465"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 10:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 10:46:28:4628"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 10:46:31:4631"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 10:46:35:4635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 10:46:40:4640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 10:47:03:473"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 10:47:08:478"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 10:47:35:4735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 10:47:36:4736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 10:47:36:4736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 10:47:36:4736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 10:47:37:4737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 10:47:37:4737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 10:47:40:4740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 10:47:51:4751"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:17:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f75b6845900 Correlation ID: 5979f5ee-ac1d-4823-80e8-60f3df5e7a8d Timestamp: 2025-09-19 05:17:58Z - Correlation ID: 5979f5ee-ac1d-4823-80e8-60f3df5e7a8d - Trace ID: dfab1b57-df92-4064-bf79-5f75b6845900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:17:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f75b6845900 Correlation ID: 5979f5ee-ac1d-4823-80e8-60f3df5e7a8d Timestamp: 2025-09-19 05:17:58Z - Correlation ID: 5979f5ee-ac1d-4823-80e8-60f3df5e7a8d - Trace ID: dfab1b57-df92-4064-bf79-5f75b6845900\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 10:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 10:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 10:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 10:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 10:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 10:48:36:4836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 10:48:37:4837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:01:50:150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:01:53:153"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:02:28:228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:02:32:232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:02:34:234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:03:00:30"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:03:02:32"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:03:08:38"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:03:13:313"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:03:35:335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:03:41:341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:04:05:45"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:04:08:48"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:04:37:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:04:40:440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:04:44:444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:04:49:449"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:05:02:52"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:05:03:53"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:05:03:53"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:05:06:56"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:05:16:516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:05:18:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:05:19:519"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:35:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 50cd9e71-28fa-4a07-ab4d-e59ae6e15500 Correlation ID: ec054ad4-689f-4eb1-bdab-43b9a5f0c69c Timestamp: 2025-09-19 05:35:25Z - Correlation ID: ec054ad4-689f-4eb1-bdab-43b9a5f0c69c - Trace ID: 50cd9e71-28fa-4a07-ab4d-e59ae6e15500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:35:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 50cd9e71-28fa-4a07-ab4d-e59ae6e15500 Correlation ID: ec054ad4-689f-4eb1-bdab-43b9a5f0c69c Timestamp: 2025-09-19 05:35:25Z - Correlation ID: ec054ad4-689f-4eb1-bdab-43b9a5f0c69c - Trace ID: 50cd9e71-28fa-4a07-ab4d-e59ae6e15500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 11:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:05:25:525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:05:27:527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:06:01:61"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 11:06:02:62"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:08:14:814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:08:17:817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:08:50:850"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:08:51:851"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:09:04:94"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:09:07:97"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:09:41:941"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:09:45:945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase disconnected\u001b[39m","timestamp":"2025-09-19 11:10:16:1016"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:12:01:121"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:12:01:121"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:12:01:121"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:12:01:121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:12:03:123"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:12:04:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:12:04:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:12:04:124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:12:06:126"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:12:07:127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:12:09:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:12:22:1222"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:42:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a906a99d-283b-4395-8781-03ed09a69800 Correlation ID: 26786abd-1b5d-48e8-aeba-8626db2c8dd4 Timestamp: 2025-09-19 05:42:28Z - Correlation ID: 26786abd-1b5d-48e8-aeba-8626db2c8dd4 - Trace ID: a906a99d-283b-4395-8781-03ed09a69800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:42:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a906a99d-283b-4395-8781-03ed09a69800 Correlation ID: 26786abd-1b5d-48e8-aeba-8626db2c8dd4 Timestamp: 2025-09-19 05:42:28Z - Correlation ID: 26786abd-1b5d-48e8-aeba-8626db2c8dd4 - Trace ID: a906a99d-283b-4395-8781-03ed09a69800\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:12:28:1228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:12:28:1228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:12:28:1228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:12:28:1228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:12:30:1230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:13:02:132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 11:13:03:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 11:13:31:1331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:13:42:1342"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:13:43:1343"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:13:43:1343"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:13:43:1343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:13:45:1345"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:13:46:1346"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:13:46:1346"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:13:46:1346"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:13:49:1349"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:13:50:1350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:13:54:1354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:14:02:142"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:14:02:142"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:14:02:142"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:14:02:142"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:14:05:145"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:14:06:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:14:06:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:14:06:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:14:08:148"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:44:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842c715500 Correlation ID: 06a66691-f80a-4059-94b3-73000c5ac559 Timestamp: 2025-09-19 05:44:11Z - Correlation ID: 06a66691-f80a-4059-94b3-73000c5ac559 - Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842c715500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:44:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842c715500 Correlation ID: 06a66691-f80a-4059-94b3-73000c5ac559 Timestamp: 2025-09-19 05:44:11Z - Correlation ID: 06a66691-f80a-4059-94b3-73000c5ac559 - Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842c715500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:14:10:1410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:14:10:1410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:14:10:1410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:14:10:1410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:14:11:1411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:14:13:1413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:14:23:1423"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:44:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909c31b4c00 Correlation ID: be518232-5cec-4498-b6a7-bef7e4000d5a Timestamp: 2025-09-19 05:44:28Z - Correlation ID: be518232-5cec-4498-b6a7-bef7e4000d5a - Trace ID: 6e87afe4-2552-4067-8fa2-a909c31b4c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 05:44:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909c31b4c00 Correlation ID: be518232-5cec-4498-b6a7-bef7e4000d5a Timestamp: 2025-09-19 05:44:28Z - Correlation ID: be518232-5cec-4498-b6a7-bef7e4000d5a - Trace ID: 6e87afe4-2552-4067-8fa2-a909c31b4c00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:14:28:1428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:14:28:1428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:14:28:1428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:14:28:1428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:14:30:1430"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:14:47:1447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 11:14:48:1448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:15:04:154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:15:06:156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:15:40:1540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:15:40:1540"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 11:16:17:1617","url":"/"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:31:18:3118"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:31:18:3118"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:31:18:3118"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:31:18:3118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:31:20:3120"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:31:21:3121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:31:21:3121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:31:21:3121"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:31:24:3124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:31:28:3128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:31:40:3140"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:01:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3faffd44-bcff-4fd5-b6ff-108da8369300 Correlation ID: ef708726-b603-4bd6-a991-bd2a63bb4a2b Timestamp: 2025-09-19 06:01:47Z - Correlation ID: ef708726-b603-4bd6-a991-bd2a63bb4a2b - Trace ID: 3faffd44-bcff-4fd5-b6ff-108da8369300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:01:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3faffd44-bcff-4fd5-b6ff-108da8369300 Correlation ID: ef708726-b603-4bd6-a991-bd2a63bb4a2b Timestamp: 2025-09-19 06:01:47Z - Correlation ID: ef708726-b603-4bd6-a991-bd2a63bb4a2b - Trace ID: 3faffd44-bcff-4fd5-b6ff-108da8369300\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:31:46:3146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:31:49:3149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:32:25:3225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 11:32:27:3227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:34:06:346"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:34:06:346"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:34:46:3446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:34:46:3446"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:37:57:3757"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:37:57:3757"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:37:57:3757"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:37:57:3757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:37:59:3759"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:38:00:380"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:38:00:380"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:38:00:380"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:38:01:381"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:38:02:382"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:38:05:385"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:38:19:3819"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:08:26Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fd468b1f-5ae3-4eef-80ad-b394979d5000 Correlation ID: 679c2acc-4923-4ac0-930d-06b55953574a Timestamp: 2025-09-19 06:08:26Z - Correlation ID: 679c2acc-4923-4ac0-930d-06b55953574a - Trace ID: fd468b1f-5ae3-4eef-80ad-b394979d5000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:08:26Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fd468b1f-5ae3-4eef-80ad-b394979d5000 Correlation ID: 679c2acc-4923-4ac0-930d-06b55953574a Timestamp: 2025-09-19 06:08:26Z - Correlation ID: 679c2acc-4923-4ac0-930d-06b55953574a - Trace ID: fd468b1f-5ae3-4eef-80ad-b394979d5000\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:38:29:3829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:39:08:398"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 11:39:10:3910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:42:52:4252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:42:52:4252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:43:11:4311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:43:11:4311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:50:33:5033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:50:33:5033"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:51:38:5138"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:51:38:5138"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:51:38:5138"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:51:38:5138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:51:40:5140"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:51:41:5141"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:51:41:5141"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:51:41:5141"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:51:42:5142"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:51:43:5143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:51:48:5148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:52:04:524"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:22:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20c90abf-f04c-42b3-a610-2898fab14b00 Correlation ID: bf614e11-4cd6-489c-9497-64a0274ddcde Timestamp: 2025-09-19 06:22:11Z - Correlation ID: bf614e11-4cd6-489c-9497-64a0274ddcde - Trace ID: 20c90abf-f04c-42b3-a610-2898fab14b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:22:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20c90abf-f04c-42b3-a610-2898fab14b00 Correlation ID: bf614e11-4cd6-489c-9497-64a0274ddcde Timestamp: 2025-09-19 06:22:11Z - Correlation ID: bf614e11-4cd6-489c-9497-64a0274ddcde - Trace ID: 20c90abf-f04c-42b3-a610-2898fab14b00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:52:10:5210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:52:10:5210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:52:10:5210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:52:10:5210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:52:13:5213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 11:52:55:5255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 11:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:53:35:5335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:53:35:5335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 11:53:59:5359"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 11:53:59:5359"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 11:58:32:5832"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 11:58:32:5832"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 11:58:32:5832"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 11:58:32:5832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 11:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 11:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 11:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 11:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 11:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 11:58:36:5836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 11:58:36:5836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 11:58:36:5836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 11:58:36:5836"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 11:58:37:5837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 11:58:37:5837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 11:58:37:5837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 11:58:38:5838"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 11:58:40:5840"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 11:58:46:5846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 11:59:20:5920"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:29:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263d6849c00 Correlation ID: 4d9a7845-23c6-41d8-bce9-da1b8154058e Timestamp: 2025-09-19 06:29:28Z - Correlation ID: 4d9a7845-23c6-41d8-bce9-da1b8154058e - Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263d6849c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:29:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263d6849c00 Correlation ID: 4d9a7845-23c6-41d8-bce9-da1b8154058e Timestamp: 2025-09-19 06:29:28Z - Correlation ID: 4d9a7845-23c6-41d8-bce9-da1b8154058e - Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263d6849c00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 11:59:28:5928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 11:59:28:5928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 11:59:28:5928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 11:59:28:5928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 11:59:34:5934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 12:00:25:025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 12:00:27:027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:03:47:347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:03:47:347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:15:54:1554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:15:54:1554"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 12:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 12:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 12:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 12:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 12:20:08:208"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 12:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 12:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 12:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 12:20:09:209"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 12:20:10:2010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 12:20:14:2014"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 12:20:27:2027"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:50:35Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 734b9184-9f74-49e2-a98f-6609d6414a00 Correlation ID: b89fcb71-a283-43cc-890b-a54fef285026 Timestamp: 2025-09-19 06:50:35Z - Correlation ID: b89fcb71-a283-43cc-890b-a54fef285026 - Trace ID: 734b9184-9f74-49e2-a98f-6609d6414a00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:50:35Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 734b9184-9f74-49e2-a98f-6609d6414a00 Correlation ID: b89fcb71-a283-43cc-890b-a54fef285026 Timestamp: 2025-09-19 06:50:35Z - Correlation ID: b89fcb71-a283-43cc-890b-a54fef285026 - Trace ID: 734b9184-9f74-49e2-a98f-6609d6414a00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 12:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 12:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 12:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 12:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 12:20:39:2039"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 12:21:38:2138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 12:21:43:2143"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:23:32:2332"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:23:32:2332"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 12:27:03:273"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 12:27:03:273"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 12:27:03:273"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 12:27:03:273"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 12:27:04:274"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 12:27:05:275"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 12:27:05:275"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 12:27:05:275"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 12:27:06:276"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 12:27:07:277"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 12:27:10:2710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 12:27:25:2725"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:57:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e1a2dada-db3e-41dc-a389-5a9f08799400 Correlation ID: 96e4274d-718b-4933-a450-6f353851ef09 Timestamp: 2025-09-19 06:57:51Z - Correlation ID: 96e4274d-718b-4933-a450-6f353851ef09 - Trace ID: e1a2dada-db3e-41dc-a389-5a9f08799400\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 06:57:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e1a2dada-db3e-41dc-a389-5a9f08799400 Correlation ID: 96e4274d-718b-4933-a450-6f353851ef09 Timestamp: 2025-09-19 06:57:51Z - Correlation ID: 96e4274d-718b-4933-a450-6f353851ef09 - Trace ID: e1a2dada-db3e-41dc-a389-5a9f08799400\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 12:27:51:2751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 12:27:51:2751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 12:27:51:2751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 12:27:51:2751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 12:27:55:2755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 12:28:53:2853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 12:28:55:2855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:30:59:3059"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:30:59:3059"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:34:23:3423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:34:23:3423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:34:28:3428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:34:28:3428"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 12:34:58:3458","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 12:36:38:3638","url":"/"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 12:36:46:3646","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 12:42:06:426"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 12:42:06:426"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 12:42:06:426"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 12:42:06:426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 12:42:08:428"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 12:42:10:4210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 12:42:10:4210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 12:42:10:4210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 12:42:11:4211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 12:42:12:4212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 12:42:17:4217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 12:42:28:4228"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:12:35Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc188855600 Correlation ID: dd377e39-407f-4d3f-80ef-1aa9afe04a9e Timestamp: 2025-09-19 07:12:35Z - Correlation ID: dd377e39-407f-4d3f-80ef-1aa9afe04a9e - Trace ID: 77c9db1d-23a7-4a08-8524-9dc188855600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:12:35Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc188855600 Correlation ID: dd377e39-407f-4d3f-80ef-1aa9afe04a9e Timestamp: 2025-09-19 07:12:35Z - Correlation ID: dd377e39-407f-4d3f-80ef-1aa9afe04a9e - Trace ID: 77c9db1d-23a7-4a08-8524-9dc188855600\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 12:42:35:4235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 12:42:35:4235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 12:42:35:4235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 12:42:35:4235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 12:42:37:4237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 12:43:17:4317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 12:43:19:4319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 9e4b505f-942a-49a3-8e26-7acc1acb0ebf\u001b[39m","timestamp":"2025-09-19 12:44:52:4452"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 12:46:50:4650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 12:46:50:4650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 12:46:50:4650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 12:46:50:4650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 12:46:51:4651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 12:46:53:4653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 12:46:53:4653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 12:46:53:4653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 12:46:54:4654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 12:46:55:4655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 12:46:58:4658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 12:47:10:4710"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 12:47:11:4711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 12:47:11:4711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 12:47:11:4711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 12:47:11:4711"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:17:17Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e0661d0b-ab4d-48bf-a2e4-a20865f85d00 Correlation ID: b500069e-10cb-4d24-b577-481e69b2133e Timestamp: 2025-09-19 07:17:17Z - Correlation ID: b500069e-10cb-4d24-b577-481e69b2133e - Trace ID: e0661d0b-ab4d-48bf-a2e4-a20865f85d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:17:17Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e0661d0b-ab4d-48bf-a2e4-a20865f85d00 Correlation ID: b500069e-10cb-4d24-b577-481e69b2133e Timestamp: 2025-09-19 07:17:17Z - Correlation ID: b500069e-10cb-4d24-b577-481e69b2133e - Trace ID: e0661d0b-ab4d-48bf-a2e4-a20865f85d00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 12:47:17:4717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 12:47:17:4717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 12:47:17:4717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 12:47:17:4717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 12:47:21:4721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 12:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 12:47:59:4759"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: invalid signature\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid signature\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at Object.module.exports [as verify] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:42:25)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-09-19 12:48:40:4840"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:50:10:5010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:50:10:5010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:52:21:5221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:52:21:5221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 12:52:41:5241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 12:52:41:5241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 96b1b319-ebd8-4148-acbc-00e6ff6e0228\u001b[39m","timestamp":"2025-09-19 12:53:37:5337"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 7bfb3b37-a8e7-4c93-9c9e-ade1a969827a\u001b[39m","timestamp":"2025-09-19 12:54:17:5417"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 13:01:56:156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 13:01:56:156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 13:01:56:156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 13:01:56:156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 13:01:57:157"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 13:01:58:158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 13:01:58:158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 13:01:58:158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 13:01:59:159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 13:01:59:159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 13:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 13:02:15:215"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:32:21Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0d04176f-b432-4424-820f-91532d574f00 Correlation ID: eff0574c-75d3-4864-b329-45b781917709 Timestamp: 2025-09-19 07:32:21Z - Correlation ID: eff0574c-75d3-4864-b329-45b781917709 - Trace ID: 0d04176f-b432-4424-820f-91532d574f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:32:21Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0d04176f-b432-4424-820f-91532d574f00 Correlation ID: eff0574c-75d3-4864-b329-45b781917709 Timestamp: 2025-09-19 07:32:21Z - Correlation ID: eff0574c-75d3-4864-b329-45b781917709 - Trace ID: 0d04176f-b432-4424-820f-91532d574f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 13:02:21:221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 13:02:21:221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 13:02:21:221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 13:02:21:221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 13:02:25:225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 13:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 13:03:06:36"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:03:54:354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:03:54:354"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 13:03:58:358","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 13:04:15:415","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:08:35:835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:08:35:835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:09:47:947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:09:47:947"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 13:15:11:1511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 13:15:11:1511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 13:15:11:1511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 13:15:11:1511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 13:15:12:1512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 13:15:13:1513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 13:15:13:1513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 13:15:13:1513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 13:15:14:1514"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 13:15:15:1515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 13:15:18:1518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 13:15:31:1531"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:45:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f3016e62-189d-41a2-a163-587792b55700 Correlation ID: fb187b1f-881c-4f72-9a61-2f76ab282501 Timestamp: 2025-09-19 07:45:40Z - Correlation ID: fb187b1f-881c-4f72-9a61-2f76ab282501 - Trace ID: f3016e62-189d-41a2-a163-587792b55700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 07:45:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f3016e62-189d-41a2-a163-587792b55700 Correlation ID: fb187b1f-881c-4f72-9a61-2f76ab282501 Timestamp: 2025-09-19 07:45:40Z - Correlation ID: fb187b1f-881c-4f72-9a61-2f76ab282501 - Trace ID: f3016e62-189d-41a2-a163-587792b55700\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 13:15:40:1540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 13:15:40:1540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 13:15:40:1540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 13:15:40:1540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 13:15:44:1544"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 13:16:16:1616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 13:16:18:1618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:17:16:1716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:17:16:1716"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 13:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:20:58:2058"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:20:58:2058"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 13:21:15:2115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: f83389d0-85a9-427c-b845-9fbc69ff7d64 user: user1\u001b[39m","timestamp":"2025-09-19 13:21:19:2119"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMessage access check failed for user user1, message f83389d0-85a9-427c-b845-9fbc69ff7d64\u001b[39m","timestamp":"2025-09-19 13:21:20:2120"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMessage f83389d0-85a9-427c-b845-9fbc69ff7d64 does not exist in database\u001b[39m","timestamp":"2025-09-19 13:21:21:2121"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding message action: Message not found\u001b[39m","stack":"Error: Message not found\n    at addMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:224:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:121:5","timestamp":"2025-09-19 13:21:21:2121"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Message not found\u001b[39m","stack":"Error: Message not found\n    at addMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:224:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\messageActions.ts:121:5","timestamp":"2025-09-19 13:21:21:2121"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 13:21:36:2136"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 13:21:40:2140"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 13:21:48:2148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:22:14:2214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 13:47:42:4742"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 13:47:42:4742"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 13:47:42:4742"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 13:47:42:4742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 13:47:43:4743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 13:47:43:4743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 13:47:43:4743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 13:47:44:4744"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 13:47:44:4744"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 13:47:44:4744"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 13:47:44:4744"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 13:47:44:4744"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 13:47:44:4744"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 13:47:45:4745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 13:47:45:4745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 13:47:45:4745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 13:47:45:4745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 13:47:46:4746"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 13:47:49:4749"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 13:47:51:4751"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 08:17:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842a455f00 Correlation ID: f7aa3f2c-9656-43af-9001-ffbf2318b01a Timestamp: 2025-09-19 08:17:57Z - Correlation ID: f7aa3f2c-9656-43af-9001-ffbf2318b01a - Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842a455f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 08:17:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842a455f00 Correlation ID: f7aa3f2c-9656-43af-9001-ffbf2318b01a Timestamp: 2025-09-19 08:17:57Z - Correlation ID: f7aa3f2c-9656-43af-9001-ffbf2318b01a - Trace ID: 9ef2e6e4-55b4-4b44-96cf-6f842a455f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 13:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 13:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 13:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 13:47:57:4757"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 13:47:59:4759"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 13:47:59:4759"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.51' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 13:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 13:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 13:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 13:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 13:47:59:4759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 13:48:00:480"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 13:49:34:4934"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 13:49:35:4935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 13:49:35:4935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 13:49:35:4935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 13:49:35:4935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 13:49:35:4935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 13:49:37:4937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 13:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 13:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 13:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 13:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 13:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 13:49:46:4946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 13:49:46:4946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 13:49:46:4946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 13:49:46:4946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 13:49:46:4946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 13:49:46:4946"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 08:19:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036eba675c00 Correlation ID: bb8a88d8-19a3-465e-a709-e61a64318b10 Timestamp: 2025-09-19 08:19:50Z - Correlation ID: bb8a88d8-19a3-465e-a709-e61a64318b10 - Trace ID: f0e3b283-68fd-48fa-a682-036eba675c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 08:19:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036eba675c00 Correlation ID: bb8a88d8-19a3-465e-a709-e61a64318b10 Timestamp: 2025-09-19 08:19:50Z - Correlation ID: bb8a88d8-19a3-465e-a709-e61a64318b10 - Trace ID: f0e3b283-68fd-48fa-a682-036eba675c00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 13:49:50:4950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 13:49:50:4950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 13:49:50:4950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 13:49:50:4950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 13:49:53:4953"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 13:50:22:5022"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 13:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 13:51:33:5133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 13:51:36:5136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 13:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 13:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 13:52:06:526"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","timestamp":"2025-09-19 13:52:11:5211"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","timestamp":"2025-09-19 13:52:29:5229"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1340:12)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1133:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-19 14:34:31:3431"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1340:12)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1133:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-19 14:34:31:3431"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1340:12)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1133:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-19 14:34:31:3431"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 14:35:00:350"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:02:352"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:02:352"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 14:35:02:352"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:04:354"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:04:354"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 14:35:52:3552"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:54:3554"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:54:3554"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:35:54:3554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 14:36:00:360"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:36:02:362"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:36:02:362"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 14:36:02:362"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:36:04:364"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by email: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:36:04:364"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mLogin error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:36:04:364"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 14:36:16:3616"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 14:38:12:3812"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 14:38:12:3812"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 14:38:12:3812"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 14:38:12:3812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL database connection\u001b[39m","timestamp":"2025-09-19 14:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 14:58:15:5815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 14:58:16:5816"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:58:18:5818"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 14:58:21:5821"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:28:26Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 734b9184-9f74-49e2-a98f-660917345100 Correlation ID: e1308fbf-f463-424b-9b42-b154790e2a2e Timestamp: 2025-09-19 09:28:26Z - Correlation ID: e1308fbf-f463-424b-9b42-b154790e2a2e - Trace ID: 734b9184-9f74-49e2-a98f-660917345100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:28:26Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 734b9184-9f74-49e2-a98f-660917345100 Correlation ID: e1308fbf-f463-424b-9b42-b154790e2a2e Timestamp: 2025-09-19 09:28:26Z - Correlation ID: e1308fbf-f463-424b-9b42-b154790e2a2e - Trace ID: 734b9184-9f74-49e2-a98f-660917345100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 14:58:27:5827"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 14:58:27:5827"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 14:58:27:5827"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 14:58:27:5827"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:58:29:5829"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:58:29:5829"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 14:58:29:5829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 14:59:37:5937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 14:59:57:5957"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 14:59:57:5957"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 14:59:57:5957"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 14:59:57:5957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 14:59:58:5958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 14:59:59:5959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:00:00:00"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:00:02:02"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:00:05:05"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:30:09Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 972d5b6a-3782-4a8d-8f22-206e7b985800 Correlation ID: 1a71dd99-26f7-403b-9e02-e0a85a480db9 Timestamp: 2025-09-19 09:30:09Z - Correlation ID: 1a71dd99-26f7-403b-9e02-e0a85a480db9 - Trace ID: 972d5b6a-3782-4a8d-8f22-206e7b985800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:30:09Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 972d5b6a-3782-4a8d-8f22-206e7b985800 Correlation ID: 1a71dd99-26f7-403b-9e02-e0a85a480db9 Timestamp: 2025-09-19 09:30:09Z - Correlation ID: 1a71dd99-26f7-403b-9e02-e0a85a480db9 - Trace ID: 972d5b6a-3782-4a8d-8f22-206e7b985800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:00:10:010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:00:10:010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:00:10:010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:00:10:010"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:00:12:012"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:00:12:012"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:01:46:146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:01:46:146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:01:46:146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:01:46:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:01:47:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:01:48:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:01:48:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:01:48:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:01:48:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:01:49:149"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:01:51:151"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:01:55:155"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:32:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 09c23a85-f97f-4e71-a4b8-91d6279b3f00 Correlation ID: f258bc20-a905-461a-bb63-4b0fd42699cb Timestamp: 2025-09-19 09:32:00Z - Correlation ID: f258bc20-a905-461a-bb63-4b0fd42699cb - Trace ID: 09c23a85-f97f-4e71-a4b8-91d6279b3f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:32:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 09c23a85-f97f-4e71-a4b8-91d6279b3f00 Correlation ID: f258bc20-a905-461a-bb63-4b0fd42699cb Timestamp: 2025-09-19 09:32:00Z - Correlation ID: f258bc20-a905-461a-bb63-4b0fd42699cb - Trace ID: 09c23a85-f97f-4e71-a4b8-91d6279b3f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:02:01:21"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:02:01:21"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:02:01:21"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:02:01:21"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.26' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 15:02:03:23"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:03:57:357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:03:57:357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:03:57:357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:03:57:357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:03:58:358"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:03:59:359"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:03:59:359"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:03:59:359"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:04:00:40"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:04:01:41"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:04:03:43"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:04:12:412"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:34:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 354ec346-42ce-4e9d-9221-b7b451fc9f00 Correlation ID: cb45f951-9ee5-4a1b-94ec-b7a691517216 Timestamp: 2025-09-19 09:34:18Z - Correlation ID: cb45f951-9ee5-4a1b-94ec-b7a691517216 - Trace ID: 354ec346-42ce-4e9d-9221-b7b451fc9f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:34:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 354ec346-42ce-4e9d-9221-b7b451fc9f00 Correlation ID: cb45f951-9ee5-4a1b-94ec-b7a691517216 Timestamp: 2025-09-19 09:34:18Z - Correlation ID: cb45f951-9ee5-4a1b-94ec-b7a691517216 - Trace ID: 354ec346-42ce-4e9d-9221-b7b451fc9f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:04:18:418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:04:18:418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:04:18:418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:04:18:418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:04:21:421"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:04:51:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:04:53:453"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 15:07:57:757"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 15:08:51:851"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:09:59:959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:10:00:100"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:10:00:100"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:10:00:100"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:10:01:101"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:10:02:102"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:10:05:105"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:10:16:1016"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:40:20Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7bc6c1ef-984a-411e-b455-d5ff48105600 Correlation ID: 3814dbb1-9000-436e-91b4-fe9c5ffb11a9 Timestamp: 2025-09-19 09:40:20Z - Correlation ID: 3814dbb1-9000-436e-91b4-fe9c5ffb11a9 - Trace ID: 7bc6c1ef-984a-411e-b455-d5ff48105600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:40:20Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7bc6c1ef-984a-411e-b455-d5ff48105600 Correlation ID: 3814dbb1-9000-436e-91b4-fe9c5ffb11a9 Timestamp: 2025-09-19 09:40:20Z - Correlation ID: 3814dbb1-9000-436e-91b4-fe9c5ffb11a9 - Trace ID: 7bc6c1ef-984a-411e-b455-d5ff48105600\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:10:21:1021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:10:21:1021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:10:21:1021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:10:21:1021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:10:23:1023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:10:56:1056"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:10:57:1057"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Workspace__owner__693CA210\". The conflict occurred in database \"aivadb\", table \"dbo.Users\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 15:11:54:1154"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:14:33:1433"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:14:33:1433"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:14:33:1433"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:14:33:1433"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:14:34:1434"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:14:35:1435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:14:35:1435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:14:35:1435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:14:36:1436"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:14:37:1437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:14:40:1440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:14:52:1452"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:44:56Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fc994af6-abcb-4966-863c-4956548c2800 Correlation ID: 9ab1b69a-e73d-4a6a-8c20-367707a94da9 Timestamp: 2025-09-19 09:44:56Z - Correlation ID: 9ab1b69a-e73d-4a6a-8c20-367707a94da9 - Trace ID: fc994af6-abcb-4966-863c-4956548c2800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:44:56Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fc994af6-abcb-4966-863c-4956548c2800 Correlation ID: 9ab1b69a-e73d-4a6a-8c20-367707a94da9 Timestamp: 2025-09-19 09:44:56Z - Correlation ID: 9ab1b69a-e73d-4a6a-8c20-367707a94da9 - Trace ID: fc994af6-abcb-4966-863c-4956548c2800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:14:56:1456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:14:56:1456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:14:56:1456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:14:56:1456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:15:00:150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:15:32:1532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:15:34:1534"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: Violation of UNIQUE KEY constraint 'UQ__Users__AB6E61643D64454C'. Cannot insert duplicate key in object 'dbo.Users'. The duplicate key value is (test@example.com).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__Users__AB6E61643D64454C'. Cannot insert duplicate key in object 'dbo.Users'. The duplicate key value is (test@example.com).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__Users__AB6E61643D64454C'. Cannot insert duplicate key in object 'dbo.Users'. The duplicate key value is (test@example.com).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 15:18:56:1856"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:22:27:2227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:22:27:2227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:22:27:2227"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:22:27:2227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:22:28:2228"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:22:29:2229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:22:29:2229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:22:29:2229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:22:30:2230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:22:31:2231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:22:34:2234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:22:44:2244"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:52:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3cd8229000 Correlation ID: 8de97661-f3ed-4668-9e8f-22a50d627a98 Timestamp: 2025-09-19 09:52:47Z - Correlation ID: 8de97661-f3ed-4668-9e8f-22a50d627a98 - Trace ID: 69887750-fdcc-4e10-866e-9a3cd8229000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:52:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3cd8229000 Correlation ID: 8de97661-f3ed-4668-9e8f-22a50d627a98 Timestamp: 2025-09-19 09:52:47Z - Correlation ID: 8de97661-f3ed-4668-9e8f-22a50d627a98 - Trace ID: 69887750-fdcc-4e10-866e-9a3cd8229000\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:22:50:2250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:23:18:2318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:23:19:2319"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:24:37:2437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:24:37:2437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:24:37:2437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:24:37:2437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:24:38:2438"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:24:40:2440"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:24:41:2441"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:24:44:2444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:24:55:2455"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:55:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a5f3e529-d695-47f3-9d9b-dba6f3b45500 Correlation ID: a4ee7110-3984-4ecf-8ee1-5caf31e948b0 Timestamp: 2025-09-19 09:55:00Z - Correlation ID: a4ee7110-3984-4ecf-8ee1-5caf31e948b0 - Trace ID: a5f3e529-d695-47f3-9d9b-dba6f3b45500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:55:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a5f3e529-d695-47f3-9d9b-dba6f3b45500 Correlation ID: a4ee7110-3984-4ecf-8ee1-5caf31e948b0 Timestamp: 2025-09-19 09:55:00Z - Correlation ID: a4ee7110-3984-4ecf-8ee1-5caf31e948b0 - Trace ID: a5f3e529-d695-47f3-9d9b-dba6f3b45500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:25:00:250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:25:00:250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:25:00:250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:25:00:250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:25:02:252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:25:32:2532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:25:33:2533"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:27:02:272"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:27:03:273"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:27:03:273"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:27:03:273"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:27:04:274"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:27:05:275"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:27:08:278"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:27:19:2719"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:57:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a01c14f00 Correlation ID: 8b54c0bf-dae8-48e5-a863-7e59e9b37aee Timestamp: 2025-09-19 09:57:24Z - Correlation ID: 8b54c0bf-dae8-48e5-a863-7e59e9b37aee - Trace ID: e365dfa3-2f31-4283-bd31-484a01c14f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 09:57:24Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a01c14f00 Correlation ID: 8b54c0bf-dae8-48e5-a863-7e59e9b37aee Timestamp: 2025-09-19 09:57:24Z - Correlation ID: 8b54c0bf-dae8-48e5-a863-7e59e9b37aee - Trace ID: e365dfa3-2f31-4283-bd31-484a01c14f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:27:25:2725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:27:27:2727"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2098:37\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot read properties of null (reading 'request')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'request')\n    at ConfigurationManager.loadConfigurationsFromDatabase (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:59:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConfigurationManager.initialize (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:43:7)\n    at async startServer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\index.ts:116:5)","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot read properties of null (reading 'request')\u001b[39m","stack":"TypeError: Cannot read properties of null (reading 'request')\n    at ConfigurationManager.loadConfigurationsFromDatabase (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:59:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ConfigurationManager.initialize (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\configurationManager.ts:43:7)\n    at async startServer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\index.ts:116:5)","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:31:31:3131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:31:34:3134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:32:22:3222"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mCreate chat error: Violation of UNIQUE KEY constraint 'UQ__Users__AB6E61643D64454C'. Cannot insert duplicate key in object 'dbo.Users'. The duplicate key value is (test@example.com).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__Users__AB6E61643D64454C'. Cannot insert duplicate key in object 'dbo.Users'. The duplicate key value is (test@example.com).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__Users__AB6E61643D64454C'. Cannot insert duplicate key in object 'dbo.Users'. The duplicate key value is (test@example.com).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 15:32:44:3244"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:34:41:3441"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:34:42:3442"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:34:42:3442"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:34:42:3442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:34:43:3443"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:34:44:3444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:34:44:3444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:34:44:3444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:34:45:3445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:34:46:3446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:34:51:3451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:35:05:355"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:05:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9468f378-3d25-4edc-b8d2-6126225c5400 Correlation ID: 23225996-bd8b-4409-bcb7-f3553fc70679 Timestamp: 2025-09-19 10:05:11Z - Correlation ID: 23225996-bd8b-4409-bcb7-f3553fc70679 - Trace ID: 9468f378-3d25-4edc-b8d2-6126225c5400\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:05:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9468f378-3d25-4edc-b8d2-6126225c5400 Correlation ID: 23225996-bd8b-4409-bcb7-f3553fc70679 Timestamp: 2025-09-19 10:05:11Z - Correlation ID: 23225996-bd8b-4409-bcb7-f3553fc70679 - Trace ID: 9468f378-3d25-4edc-b8d2-6126225c5400\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:35:14:3514"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:35:48:3548"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:35:49:3549"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:36:55:3655"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:36:55:3655"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:36:55:3655"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:36:55:3655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:36:56:3656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:36:58:3658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:36:58:3658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:36:58:3658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:37:03:373"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:37:14:3714"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:07:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 78d227b1-3146-4146-88d2-a8eff9f75e00 Correlation ID: e1dab76d-62e0-4031-8f75-5f3298729618 Timestamp: 2025-09-19 10:07:18Z - Correlation ID: e1dab76d-62e0-4031-8f75-5f3298729618 - Trace ID: 78d227b1-3146-4146-88d2-a8eff9f75e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:07:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 78d227b1-3146-4146-88d2-a8eff9f75e00 Correlation ID: e1dab76d-62e0-4031-8f75-5f3298729618 Timestamp: 2025-09-19 10:07:18Z - Correlation ID: e1dab76d-62e0-4031-8f75-5f3298729618 - Trace ID: 78d227b1-3146-4146-88d2-a8eff9f75e00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:37:18:3718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:37:18:3718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:37:18:3718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:37:18:3718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:37:58:3758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:37:59:3759"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 15:39:19:3919"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 15:39:19:3919"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 15:39:19:3919"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 15:39:19:3919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 15:39:20:3920"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 15:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 15:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 15:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 15:39:22:3922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 15:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 15:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 15:39:39:3939"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:09:45Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e9bce07200 Correlation ID: 1415874f-9a1a-445d-a11e-c16eda6156c8 Timestamp: 2025-09-19 10:09:45Z - Correlation ID: 1415874f-9a1a-445d-a11e-c16eda6156c8 - Trace ID: bf049fa5-ae0f-476b-8d0b-30e9bce07200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:09:45Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e9bce07200 Correlation ID: 1415874f-9a1a-445d-a11e-c16eda6156c8 Timestamp: 2025-09-19 10:09:45Z - Correlation ID: 1415874f-9a1a-445d-a11e-c16eda6156c8 - Trace ID: bf049fa5-ae0f-476b-8d0b-30e9bce07200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 15:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 15:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 15:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 15:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 15:39:48:3948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 15:40:24:4024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 15:40:25:4025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: d97cf20d-963f-491e-86d8-2f0c764b4cbe for user: user1 in workspace: 91e1e929-f4a5-4c82-94b1-0e02644c93e0\u001b[39m","timestamp":"2025-09-19 15:42:35:4235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat d97cf20d-963f-491e-86d8-2f0c764b4cbe\u001b[39m","timestamp":"2025-09-19 15:43:04:434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 15:44:47:4447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 15:44:50:4450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 15:44:50:4450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 15:45:56:4556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 15:45:56:4556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mBookmark added: 4369e2ad-7eb7-4738-961a-b244056744cf for user: user1\u001b[39m","timestamp":"2025-09-19 15:46:45:4645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mBookmark added for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 15:46:45:4645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mBookmark removed for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 15:47:27:4727"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mBookmark removed for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 15:47:27:4727"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:05:15:515"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet chat history error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:05:15:515"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:07:25:725"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:07:25:725"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:07:25:725"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:07:25:725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:07:26:726"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:07:27:727"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:07:27:727"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:07:27:727"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:07:28:728"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:07:29:729"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:07:32:732"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:07:35:735"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:37:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d54640fb-9277-45c0-bfac-7c8d54a65d00 Correlation ID: bb54cc21-2fe4-4cbb-8e62-292fa37e6b7b Timestamp: 2025-09-19 10:37:40Z - Correlation ID: bb54cc21-2fe4-4cbb-8e62-292fa37e6b7b - Trace ID: d54640fb-9277-45c0-bfac-7c8d54a65d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:37:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d54640fb-9277-45c0-bfac-7c8d54a65d00 Correlation ID: bb54cc21-2fe4-4cbb-8e62-292fa37e6b7b Timestamp: 2025-09-19 10:37:40Z - Correlation ID: bb54cc21-2fe4-4cbb-8e62-292fa37e6b7b - Trace ID: d54640fb-9277-45c0-bfac-7c8d54a65d00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:07:41:741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:07:41:741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:07:41:741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:07:41:741"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:07:43:743"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:10:51:1051"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:10:51:1051"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:10:51:1051"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:10:51:1051"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:10:52:1052"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:10:54:1054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:10:54:1054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:10:54:1054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:10:55:1055"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:10:55:1055"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:10:59:1059"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:11:02:112"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:41:06Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a9e8a978-b845-4c5b-9c02-352ace485500 Correlation ID: e2ec0ecd-d285-42f0-ad4a-626295d2ed59 Timestamp: 2025-09-19 10:41:06Z - Correlation ID: e2ec0ecd-d285-42f0-ad4a-626295d2ed59 - Trace ID: a9e8a978-b845-4c5b-9c02-352ace485500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:41:06Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a9e8a978-b845-4c5b-9c02-352ace485500 Correlation ID: e2ec0ecd-d285-42f0-ad4a-626295d2ed59 Timestamp: 2025-09-19 10:41:06Z - Correlation ID: e2ec0ecd-d285-42f0-ad4a-626295d2ed59 - Trace ID: a9e8a978-b845-4c5b-9c02-352ace485500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:11:06:116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:11:06:116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:11:06:116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:11:06:116"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:11:08:118"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 16:11:08:118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:11:46:1146"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:11:48:1148"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet liked messages error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:11:48:1148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:12:31:1231"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:12:34:1234"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet disliked messages error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:12:34:1234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:12:55:1255"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:12:58:1258"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user bookmarks: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:12:58:1258"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet bookmarks error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:12:58:1258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:13:20:1320"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:13:23:1323"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet chat history error: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:13:23:1323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:17:38:1738"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:17:38:1738"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:17:38:1738"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:17:38:1738"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:17:39:1739"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:17:40:1740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:17:40:1740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:17:40:1740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:17:41:1741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:17:42:1742"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:17:45:1745"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:17:47:1747"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:47:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0d04176f-b432-4424-820f-9153a2745800 Correlation ID: 1b6173cb-f75d-4f08-98cf-ac64dd6beca2 Timestamp: 2025-09-19 10:47:51Z - Correlation ID: 1b6173cb-f75d-4f08-98cf-ac64dd6beca2 - Trace ID: 0d04176f-b432-4424-820f-9153a2745800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:47:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0d04176f-b432-4424-820f-9153a2745800 Correlation ID: 1b6173cb-f75d-4f08-98cf-ac64dd6beca2 Timestamp: 2025-09-19 10:47:51Z - Correlation ID: 1b6173cb-f75d-4f08-98cf-ac64dd6beca2 - Trace ID: 0d04176f-b432-4424-820f-9153a2745800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:17:51:1751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:17:51:1751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:17:51:1751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:17:51:1751"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock database for development\u001b[39m","timestamp":"2025-09-19 16:17:53:1753"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:21:30:2130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:21:31:2131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:21:33:2133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:21:33:2133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:21:33:2133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:21:34:2134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:21:34:2134"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:21:37:2137"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:21:40:2140"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:51:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 437f4672-bfeb-4221-96cc-373c4eeb5f00 Correlation ID: 5c2a9634-4094-4a13-8f9b-b64713d8006a Timestamp: 2025-09-19 10:51:46Z - Correlation ID: 5c2a9634-4094-4a13-8f9b-b64713d8006a - Trace ID: 437f4672-bfeb-4221-96cc-373c4eeb5f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:51:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 437f4672-bfeb-4221-96cc-373c4eeb5f00 Correlation ID: 5c2a9634-4094-4a13-8f9b-b64713d8006a Timestamp: 2025-09-19 10:51:46Z - Correlation ID: 5c2a9634-4094-4a13-8f9b-b64713d8006a - Trace ID: 437f4672-bfeb-4221-96cc-373c4eeb5f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:21:46:2146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:21:46:2146"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock database for development\u001b[39m","timestamp":"2025-09-19 16:21:52:2152"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:22:41:2241"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:22:43:2243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:22:43:2243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:22:43:2243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:22:46:2246"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:22:48:2248"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:22:52:2252"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:52:56Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e89a6f4-e184-4d66-9e8e-2d6916ba5800 Correlation ID: 07a1ef9a-6625-4200-8738-15d3ea8778c2 Timestamp: 2025-09-19 10:52:56Z - Correlation ID: 07a1ef9a-6625-4200-8738-15d3ea8778c2 - Trace ID: 9e89a6f4-e184-4d66-9e8e-2d6916ba5800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:52:56Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e89a6f4-e184-4d66-9e8e-2d6916ba5800 Correlation ID: 07a1ef9a-6625-4200-8738-15d3ea8778c2 Timestamp: 2025-09-19 10:52:56Z - Correlation ID: 07a1ef9a-6625-4200-8738-15d3ea8778c2 - Trace ID: 9e89a6f4-e184-4d66-9e8e-2d6916ba5800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:22:56:2256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:22:56:2256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:22:56:2256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:22:56:2256"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock database for development\u001b[39m","timestamp":"2025-09-19 16:22:58:2258"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:24:07:247"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:24:07:247"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:24:07:247"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:24:08:248"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:24:09:249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:24:10:2410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:24:11:2411"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:24:19:2419"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:54:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea2ddb56800 Correlation ID: c9519847-d3b0-4d51-94e7-300382e7ce20 Timestamp: 2025-09-19 10:54:23Z - Correlation ID: c9519847-d3b0-4d51-94e7-300382e7ce20 - Trace ID: cf59a05b-667a-4e3d-8981-4ea2ddb56800\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:54:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea2ddb56800 Correlation ID: c9519847-d3b0-4d51-94e7-300382e7ce20 Timestamp: 2025-09-19 10:54:23Z - Correlation ID: c9519847-d3b0-4d51-94e7-300382e7ce20 - Trace ID: cf59a05b-667a-4e3d-8981-4ea2ddb56800\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:24:23:2423"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:24:23:2423"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock database for development\u001b[39m","timestamp":"2025-09-19 16:24:26:2426"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:25:19:2519"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:25:20:2520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:25:20:2520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:25:20:2520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:25:20:2520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:25:20:2520"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:25:26:2526"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:25:33:2533"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:55:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 16ded39e-086e-4c46-8d43-64de62046500 Correlation ID: b7991d3a-ad38-45e8-8b82-cf43aa28295b Timestamp: 2025-09-19 10:55:38Z - Correlation ID: b7991d3a-ad38-45e8-8b82-cf43aa28295b - Trace ID: 16ded39e-086e-4c46-8d43-64de62046500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:55:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 16ded39e-086e-4c46-8d43-64de62046500 Correlation ID: b7991d3a-ad38-45e8-8b82-cf43aa28295b Timestamp: 2025-09-19 10:55:38Z - Correlation ID: b7991d3a-ad38-45e8-8b82-cf43aa28295b - Trace ID: 16ded39e-086e-4c46-8d43-64de62046500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 16:25:38:2538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:25:38:2538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:25:38:2538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:25:38:2538"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:25:41:2541"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:25:41:2541"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2352:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 16:25:41:2541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 16:28:42:2842"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:28:59:2859"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:28:59:2859"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:28:59:2859"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:28:59:2859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:29:00:290"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:29:02:292"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:29:03:293"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:29:04:294"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:29:07:297"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:29:10:2910"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:59:19Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 33aa6bb4-ab2b-44d8-994a-3eab32faae00 Correlation ID: 8449e33a-320c-48be-abdf-48a6dec07b5e Timestamp: 2025-09-19 10:59:19Z - Correlation ID: 8449e33a-320c-48be-abdf-48a6dec07b5e - Trace ID: 33aa6bb4-ab2b-44d8-994a-3eab32faae00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 10:59:19Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 33aa6bb4-ab2b-44d8-994a-3eab32faae00 Correlation ID: 8449e33a-320c-48be-abdf-48a6dec07b5e Timestamp: 2025-09-19 10:59:19Z - Correlation ID: 8449e33a-320c-48be-abdf-48a6dec07b5e - Trace ID: 33aa6bb4-ab2b-44d8-994a-3eab32faae00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:29:19:2919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:29:19:2919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:29:19:2919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:29:19:2919"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:29:22:2922"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:30:03:303"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:30:03:303"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:30:03:303"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:30:03:303"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:30:04:304"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:30:06:306"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:30:06:306"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:30:06:306"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:30:07:307"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:30:08:308"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:30:12:3012"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3564:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:30:16:3016"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:00:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a008f5f7-73e5-4acd-be66-f8a570c61300 Correlation ID: 8794f887-ac55-4a77-ab68-a63c0d13ac8e Timestamp: 2025-09-19 11:00:23Z - Correlation ID: 8794f887-ac55-4a77-ab68-a63c0d13ac8e - Trace ID: a008f5f7-73e5-4acd-be66-f8a570c61300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:00:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a008f5f7-73e5-4acd-be66-f8a570c61300 Correlation ID: 8794f887-ac55-4a77-ab68-a63c0d13ac8e Timestamp: 2025-09-19 11:00:23Z - Correlation ID: 8794f887-ac55-4a77-ab68-a63c0d13ac8e - Trace ID: a008f5f7-73e5-4acd-be66-f8a570c61300\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:30:24:3024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:30:24:3024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:30:24:3024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:30:24:3024"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mYour current IP address appears to be: 152.59.205.141\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the firewall issue.\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:30:26:3026"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.205.141' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 16:30:26:3026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 16:32:15:3215"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:36:32:3632"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:36:32:3632"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:36:32:3632"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:36:33:3633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 16:36:40:3640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:36:54:3654"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:07:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fd468b1f-5ae3-4eef-80ad-b3944cd76000 Correlation ID: 69e66c04-6a74-47ab-ac7a-0c99dce6bad1 Timestamp: 2025-09-19 11:07:00Z - Correlation ID: 69e66c04-6a74-47ab-ac7a-0c99dce6bad1 - Trace ID: fd468b1f-5ae3-4eef-80ad-b3944cd76000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:07:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: fd468b1f-5ae3-4eef-80ad-b3944cd76000 Correlation ID: 69e66c04-6a74-47ab-ac7a-0c99dce6bad1 Timestamp: 2025-09-19 11:07:00Z - Correlation ID: 69e66c04-6a74-47ab-ac7a-0c99dce6bad1 - Trace ID: fd468b1f-5ae3-4eef-80ad-b3944cd76000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 16:37:00:370"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:37:00:370"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:37:00:370"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:37:00:370"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 16:37:04:374"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 16:37:52:3752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 16:37:54:3754"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:38:03:383"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:38:04:384"}
{"code":"ETIMEOUT","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\u001b[39m","name":"ConnectionError","originalError":{"code":"ETIMEOUT"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 in 15000ms\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.connectTimeout (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1209:10)\n    at Timeout._onTimeout (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1154:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-09-19 16:38:19:3819"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:38:26:3826"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:08:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4917eaa6-b426-492e-975f-c6fef1086e00 Correlation ID: cad8c73b-9a1a-417b-b627-190daf9b396e Timestamp: 2025-09-19 11:08:30Z - Correlation ID: cad8c73b-9a1a-417b-b627-190daf9b396e - Trace ID: 4917eaa6-b426-492e-975f-c6fef1086e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:08:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4917eaa6-b426-492e-975f-c6fef1086e00 Correlation ID: cad8c73b-9a1a-417b-b627-190daf9b396e Timestamp: 2025-09-19 11:08:30Z - Correlation ID: cad8c73b-9a1a-417b-b627-190daf9b396e - Trace ID: 4917eaa6-b426-492e-975f-c6fef1086e00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 16:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 16:38:33:3833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 16:39:35:3935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 16:39:37:3937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:43:57:4357"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:43:58:4358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:43:58:4358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:43:58:4358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:43:58:4358"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:43:59:4359"}
{"code":"ESOCKET","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mSQL authentication failed, trying Azure AD authentication Failed to connect to aivaserver.database.windows.net:1433 - socket hang up\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - socket hang up\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1340:12)\n    at Connection.socketEnd (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1357:12)\n    at Socket.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1053:12)\n    at Socket.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-09-19 16:44:13:4413"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database:\u001b[39m","name":"ConnectionError","originalError":{},"stack":"ConnectionError\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:2487:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:44:24:4424"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:14:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7718e426600 Correlation ID: 26cb28ff-2540-4703-a96f-6c711973bebd Timestamp: 2025-09-19 11:14:29Z - Correlation ID: 26cb28ff-2540-4703-a96f-6c711973bebd - Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7718e426600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:14:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7718e426600 Correlation ID: 26cb28ff-2540-4703-a96f-6c711973bebd Timestamp: 2025-09-19 11:14:29Z - Correlation ID: 26cb28ff-2540-4703-a96f-6c711973bebd - Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7718e426600\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 16:44:29:4429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:44:29:4429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:44:29:4429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:44:29:4429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 16:44:33:4433"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 16:45:41:4541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 16:45:44:4544"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 16:52:06:526"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 16:52:07:527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 16:52:07:527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 16:52:07:527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 16:52:07:527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 16:52:07:527"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 16:52:11:5211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 16:52:27:5227"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:22:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0b6c9ae00 Correlation ID: 3e2fda36-b7fd-4e47-9364-1145244d4915 Timestamp: 2025-09-19 11:22:32Z - Correlation ID: 3e2fda36-b7fd-4e47-9364-1145244d4915 - Trace ID: d9f34b73-3436-469a-be4f-ead0b6c9ae00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:22:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0b6c9ae00 Correlation ID: 3e2fda36-b7fd-4e47-9364-1145244d4915 Timestamp: 2025-09-19 11:22:32Z - Correlation ID: 3e2fda36-b7fd-4e47-9364-1145244d4915 - Trace ID: d9f34b73-3436-469a-be4f-ead0b6c9ae00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 16:52:32:5232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 16:52:32:5232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 16:52:32:5232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 16:52:32:5232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 16:52:36:5236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 16:53:15:5315"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 16:53:16:5316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 16:54:02:542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 16:54:02:542"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 16:54:26:5426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:252:19)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:108:19\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 16:54:26:5426"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:252:19)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:108:19\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 16:54:26:5426"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 16:54:34:5434","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 16:55:00:550","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:03:17:317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:03:18:318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:03:20:320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:03:21:321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLogin failed: Invalid password for user sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:03:24:324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 45F04D58-FA50-49AA-8820-CD548D25CD39\u001b[39m","timestamp":"2025-09-19 17:04:08:48"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExisting Microsoft user logged in: sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:04:08:48"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft OAuth login successful: sudhenreddym12345@gmail.com\u001b[39m","timestamp":"2025-09-19 17:04:08:48"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:32:432"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:33:433"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:33:433"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:34:434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:34:434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:04:34:434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:36:436"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:04:36:436"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:36:436"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:36:436"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:36:436"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:36:436"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:56:456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:56:456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:56:456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:57:457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:58:458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:04:58:458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:04:58:458"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:58:458"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:58:458"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:59:459"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:04:59:459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:05:00:50"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:05:00:50"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:05:00:50"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, dislike).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:05:01:51"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 17:05:24:524","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:06:04:64"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:06:07:67"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:06:07:67"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 17:06:33:633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 17:06:33:633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 17:06:48:648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:252:19)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:108:19\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 17:06:48:648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:252:19)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:108:19\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 17:06:48:648"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mInvalid messageId format: 1\u001b[39m","timestamp":"2025-09-19 17:06:53:653"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError removing message action: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:252:19)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:108:19\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 17:06:53:653"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mAdd message action error: Invalid messageId format\u001b[39m","stack":"Error: Invalid messageId format\n    at removeMessageAction (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:252:19)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\dist\\routes\\messageActions.js:108:19\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-09-19 17:06:53:653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:17:717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:20:720"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:21:721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:22:722"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:07:22:722"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:23:723"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:23:723"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:07:24:724"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:07:25:725"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:07:25:725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 1de55c61-adb0-4e6c-a4f9-a1814508a809 user: user1\u001b[39m","timestamp":"2025-09-19 17:07:26:726"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 1de55c61-adb0-4e6c-a4f9-a1814508a809\u001b[39m","timestamp":"2025-09-19 17:07:26:726"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:07:26:726"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (1de55c61-adb0-4e6c-a4f9-a1814508a809, user1, like).\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\handler.js:285:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:18:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)","state":1,"timestamp":"2025-09-19 17:07:26:726"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mGeneral rate limit exceeded for IP: ::1\u001b[39m","timestamp":"2025-09-19 17:07:45:745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mGeneral rate limit exceeded for IP: ::1\u001b[39m","timestamp":"2025-09-19 17:07:45:745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 17:17:58:1758"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 17:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 17:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 17:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 17:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 17:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 17:18:02:182"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 17:18:23:1823"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:48:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c49b468e-ef65-48d9-a6dc-ac104b8ead00 Correlation ID: 1cc3ccab-3628-411a-b29f-2f4341badac8 Timestamp: 2025-09-19 11:48:28Z - Correlation ID: 1cc3ccab-3628-411a-b29f-2f4341badac8 - Trace ID: c49b468e-ef65-48d9-a6dc-ac104b8ead00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 11:48:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: c49b468e-ef65-48d9-a6dc-ac104b8ead00 Correlation ID: 1cc3ccab-3628-411a-b29f-2f4341badac8 Timestamp: 2025-09-19 11:48:28Z - Correlation ID: 1cc3ccab-3628-411a-b29f-2f4341badac8 - Trace ID: c49b468e-ef65-48d9-a6dc-ac104b8ead00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 17:18:29:1829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 17:18:29:1829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 17:18:29:1829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 17:18:29:1829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 17:18:32:1832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 17:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 17:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 17:20:53:2053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 17:20:53:2053"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 17:21:12:2112","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 17:30:59:3059"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 17:31:02:312"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 17:31:12:3112"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 17:31:12:3112"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 17:31:12:3112"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 17:31:12:3112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 17:31:13:3113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 17:31:14:3114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 17:31:17:3117"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to create tables: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1340:12)\n    at Socket.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1047:12)\n    at Socket.emit (node:events:530:35)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-09-19 17:31:23:3123"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:838:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:959:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1340:12)\n    at Socket.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\lib\\connection.js:1047:12)\n    at Socket.emit (node:events:530:35)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock SQL Database\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized as fallback\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 17:31:23:3123"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:01:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 043d6069-535e-48bb-807b-a4c116192d00 Correlation ID: 6eca610c-4f32-489d-86a2-4698bfd4fdf3 Timestamp: 2025-09-19 12:01:40Z - Correlation ID: 6eca610c-4f32-489d-86a2-4698bfd4fdf3 - Trace ID: 043d6069-535e-48bb-807b-a4c116192d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:01:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 043d6069-535e-48bb-807b-a4c116192d00 Correlation ID: 6eca610c-4f32-489d-86a2-4698bfd4fdf3 Timestamp: 2025-09-19 12:01:40Z - Correlation ID: 6eca610c-4f32-489d-86a2-4698bfd4fdf3 - Trace ID: 043d6069-535e-48bb-807b-a4c116192d00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 17:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 17:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 17:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 17:31:40:3140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 17:31:44:3144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 17:31:56:3156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 17:32:19:3219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 17:32:20:3220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 17:33:13:3313"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 17:33:13:3313"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 17:33:13:3313"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 17:33:13:3313"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 17:33:14:3314"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 17:33:15:3315"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 17:33:15:3315"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 17:33:15:3315"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 17:33:16:3316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 17:33:17:3317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 17:33:21:3321"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 17:33:36:3336"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:03:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a8f8d49a-2d06-407c-9bb7-ede2fb4ca600 Correlation ID: 4b8b758b-6d82-4ff0-b489-5b8039d55d84 Timestamp: 2025-09-19 12:03:40Z - Correlation ID: 4b8b758b-6d82-4ff0-b489-5b8039d55d84 - Trace ID: a8f8d49a-2d06-407c-9bb7-ede2fb4ca600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:03:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a8f8d49a-2d06-407c-9bb7-ede2fb4ca600 Correlation ID: 4b8b758b-6d82-4ff0-b489-5b8039d55d84 Timestamp: 2025-09-19 12:03:40Z - Correlation ID: 4b8b758b-6d82-4ff0-b489-5b8039d55d84 - Trace ID: a8f8d49a-2d06-407c-9bb7-ede2fb4ca600\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 17:33:41:3341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 17:33:41:3341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 17:33:41:3341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 17:33:41:3341"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 17:33:45:3345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 17:34:25:3425"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 17:34:27:3427"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 17:35:10:3510"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 17:35:10:3510"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 17:35:10:3510"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 17:35:10:3510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 17:35:11:3511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 17:35:13:3513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 17:35:13:3513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 17:35:13:3513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 17:35:14:3514"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 17:35:15:3515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 17:35:18:3518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 17:35:34:3534"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:05:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a85325500 Correlation ID: a61ae680-edfa-4307-a9fa-fffc60569dd3 Timestamp: 2025-09-19 12:05:39Z - Correlation ID: a61ae680-edfa-4307-a9fa-fffc60569dd3 - Trace ID: e365dfa3-2f31-4283-bd31-484a85325500\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:05:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a85325500 Correlation ID: a61ae680-edfa-4307-a9fa-fffc60569dd3 Timestamp: 2025-09-19 12:05:39Z - Correlation ID: a61ae680-edfa-4307-a9fa-fffc60569dd3 - Trace ID: e365dfa3-2f31-4283-bd31-484a85325500\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 17:35:39:3539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 17:35:39:3539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 17:35:39:3539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 17:35:39:3539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 17:35:42:3542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 17:36:30:3630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 17:36:32:3632"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 17:38:54:3854"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 17:38:54:3854"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 17:38:54:3854"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 17:38:54:3854"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 17:38:55:3855"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 17:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 17:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 17:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 17:38:57:3857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 17:38:58:3858"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 17:39:01:391"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 17:39:15:3915"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:09:21Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909149d5e00 Correlation ID: f4592a1e-dc51-4e60-9d6d-e5c35f0ee908 Timestamp: 2025-09-19 12:09:21Z - Correlation ID: f4592a1e-dc51-4e60-9d6d-e5c35f0ee908 - Trace ID: 6e87afe4-2552-4067-8fa2-a909149d5e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:09:21Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909149d5e00 Correlation ID: f4592a1e-dc51-4e60-9d6d-e5c35f0ee908 Timestamp: 2025-09-19 12:09:21Z - Correlation ID: f4592a1e-dc51-4e60-9d6d-e5c35f0ee908 - Trace ID: 6e87afe4-2552-4067-8fa2-a909149d5e00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 17:39:22:3922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 17:39:22:3922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 17:39:22:3922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 17:39:22:3922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 17:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 17:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 17:40:10:4010"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 18:17:45:1745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 18:17:45:1745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 18:17:45:1745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 18:17:45:1745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 18:17:46:1746"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 18:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 18:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 18:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 18:17:47:1747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 18:17:48:1748"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the database connection issue.\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This appears to be a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Azure services: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mContinuing with available mock services\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 18:17:52:1752"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:47:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd3374b00 Correlation ID: b3fb2104-1eee-40b7-9ad2-18446641ecab Timestamp: 2025-09-19 12:47:58Z - Correlation ID: b3fb2104-1eee-40b7-9ad2-18446641ecab - Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd3374b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:47:58Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd3374b00 Correlation ID: b3fb2104-1eee-40b7-9ad2-18446641ecab Timestamp: 2025-09-19 12:47:58Z - Correlation ID: b3fb2104-1eee-40b7-9ad2-18446641ecab - Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd3374b00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 18:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 18:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 18:17:59:1759"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 18:17:59:1759"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mYour current IP address appears to be: 152.59.205.141\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the firewall issue.\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 18:18:01:181"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.58' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 18:18:01:181"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 18:19:11:1911"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 18:19:11:1911"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 18:19:11:1911"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 18:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 18:19:12:1912"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 18:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 18:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 18:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 18:19:14:1914"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 18:19:14:1914"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 18:19:17:1917"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 18:19:26:1926"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:49:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20c90abf-f04c-42b3-a610-289854a05f00 Correlation ID: 2dabab03-4fe3-49c7-80fa-cd02b80ea60a Timestamp: 2025-09-19 12:49:32Z - Correlation ID: 2dabab03-4fe3-49c7-80fa-cd02b80ea60a - Trace ID: 20c90abf-f04c-42b3-a610-289854a05f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:49:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20c90abf-f04c-42b3-a610-289854a05f00 Correlation ID: 2dabab03-4fe3-49c7-80fa-cd02b80ea60a Timestamp: 2025-09-19 12:49:32Z - Correlation ID: 2dabab03-4fe3-49c7-80fa-cd02b80ea60a - Trace ID: 20c90abf-f04c-42b3-a610-289854a05f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 18:19:33:1933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 18:19:33:1933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 18:19:33:1933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 18:19:33:1933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 18:19:36:1936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 18:20:05:205"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 18:20:06:206"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 18:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 18:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 18:20:07:207"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 18:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 18:20:08:208"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 18:20:11:2011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 18:20:20:2020"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:50:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e3df4ece-739c-48d4-b4bc-dd64dc509e00 Correlation ID: 655e3d13-ab21-43a7-8024-1f20eabb2b6c Timestamp: 2025-09-19 12:50:23Z - Correlation ID: 655e3d13-ab21-43a7-8024-1f20eabb2b6c - Trace ID: e3df4ece-739c-48d4-b4bc-dd64dc509e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 12:50:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e3df4ece-739c-48d4-b4bc-dd64dc509e00 Correlation ID: 655e3d13-ab21-43a7-8024-1f20eabb2b6c Timestamp: 2025-09-19 12:50:23Z - Correlation ID: 655e3d13-ab21-43a7-8024-1f20eabb2b6c - Trace ID: e3df4ece-739c-48d4-b4bc-dd64dc509e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 18:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 18:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 18:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 18:20:24:2024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 18:20:26:2026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 18:20:54:2054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 18:20:56:2056"}
{"errors":["Body: \"title\" is required"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:25:49:2549","url":"/"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:27:42:2742","url":"/"}
{"errors":["Body: \"message\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:29:17:2917","url":"/"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 3cc10069-5b57-448d-834c-78e52393e04c for user: user1 in workspace: 91e1e929-f4a5-4c82-94b1-0e02644c93e0\u001b[39m","timestamp":"2025-09-19 18:30:57:3057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat 3cc10069-5b57-448d-834c-78e52393e04c\u001b[39m","timestamp":"2025-09-19 18:33:39:3339"}
{"errors":["Params: \"messageId\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:35:28:3528","url":"/3cc10069-5b57-448d-834c-78e52393e04c/messages/8354e8a1-57e2-4f03-881c-4498f84217fc/actions"}
{"errors":["Params: \"messageId\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:36:55:3655","url":"/3cc10069-5b57-448d-834c-78e52393e04c/messages/8354e8a1-57e2-4f03-881c-4498f84217fc/actions"}
{"errors":["Params: \"messageId\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:39:12:3912","url":"/3cc10069-5b57-448d-834c-78e52393e04c/messages/8354e8a1-57e2-4f03-881c-4498f84217fc/actions"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 8354e8a1-57e2-4f03-881c-4498f84217fc user: user1\u001b[39m","timestamp":"2025-09-19 18:40:41:4041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 8354e8a1-57e2-4f03-881c-4498f84217fc user: user1\u001b[39m","timestamp":"2025-09-19 18:40:43:4043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 8354e8a1-57e2-4f03-881c-4498f84217fc\u001b[39m","timestamp":"2025-09-19 18:40:43:4043"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 18:42:18:4218"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 18:42:18:4218"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 18:42:18:4218"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 18:42:18:4218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 18:42:19:4219"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 18:42:20:4220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 18:42:20:4220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 18:42:20:4220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 18:42:21:4221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 18:42:24:4224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 18:42:27:4227"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 18:42:38:4238"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:12:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead065e3b300 Correlation ID: a8fef43c-2a26-436c-b1c6-8d781bbc8e82 Timestamp: 2025-09-19 13:12:43Z - Correlation ID: a8fef43c-2a26-436c-b1c6-8d781bbc8e82 - Trace ID: d9f34b73-3436-469a-be4f-ead065e3b300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:12:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead065e3b300 Correlation ID: a8fef43c-2a26-436c-b1c6-8d781bbc8e82 Timestamp: 2025-09-19 13:12:43Z - Correlation ID: a8fef43c-2a26-436c-b1c6-8d781bbc8e82 - Trace ID: d9f34b73-3436-469a-be4f-ead065e3b300\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 18:42:43:4243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 18:42:43:4243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 18:42:43:4243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 18:42:43:4243"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 18:42:46:4246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 18:43:16:4316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 18:43:18:4318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: bookmark for message: 8354e8a1-57e2-4f03-881c-4498f84217fc user: user1\u001b[39m","timestamp":"2025-09-19 18:48:24:4824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: bookmark for user: user1, message: 8354e8a1-57e2-4f03-881c-4498f84217fc\u001b[39m","timestamp":"2025-09-19 18:48:24:4824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 8354e8a1-57e2-4f03-881c-4498f84217fc user: user1\u001b[39m","timestamp":"2025-09-19 18:49:38:4938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 8354e8a1-57e2-4f03-881c-4498f84217fc user: user1\u001b[39m","timestamp":"2025-09-19 18:49:40:4940"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: user1, message: 8354e8a1-57e2-4f03-881c-4498f84217fc\u001b[39m","timestamp":"2025-09-19 18:49:40:4940"}
{"errors":["Body: \"message\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 18:51:58:5158","url":"/"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: e8e40759-6fd1-48f6-9c46-c6c23d8cb718 for user: user1 in workspace: 91e1e929-f4a5-4c82-94b1-0e02644c93e0\u001b[39m","timestamp":"2025-09-19 18:53:35:5335"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat e8e40759-6fd1-48f6-9c46-c6c23d8cb718\u001b[39m","timestamp":"2025-09-19 18:54:10:5410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: a878a142-a43d-42cf-b636-3a252b322c1d user: user1\u001b[39m","timestamp":"2025-09-19 18:56:05:565"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: a878a142-a43d-42cf-b636-3a252b322c1d user: user1\u001b[39m","timestamp":"2025-09-19 18:56:07:567"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: a878a142-a43d-42cf-b636-3a252b322c1d\u001b[39m","timestamp":"2025-09-19 18:56:07:567"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: bookmark for message: 186f4f37-9fa8-4790-bf59-0def0405e4a4 user: user1\u001b[39m","timestamp":"2025-09-19 18:57:49:5749"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: bookmark for user: user1, message: 186f4f37-9fa8-4790-bf59-0def0405e4a4\u001b[39m","timestamp":"2025-09-19 18:57:49:5749"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 186f4f37-9fa8-4790-bf59-0def0405e4a4 user: user1\u001b[39m","timestamp":"2025-09-19 18:58:44:5844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 186f4f37-9fa8-4790-bf59-0def0405e4a4 user: user1\u001b[39m","timestamp":"2025-09-19 18:58:46:5846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: user1, message: 186f4f37-9fa8-4790-bf59-0def0405e4a4\u001b[39m","timestamp":"2025-09-19 18:58:46:5846"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:02:08:28"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:02:08:28"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:02:08:28"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:02:08:28"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4.1\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:02:09:29"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:02:10:210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:02:10:210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:02:10:210"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:02:11:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:02:12:212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:02:14:214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:02:24:224"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:32:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3b621402-9877-476d-9b5d-87b9ea9b5e00 Correlation ID: 15ad9083-df43-4b6c-ab6b-7931a099c79e Timestamp: 2025-09-19 13:32:29Z - Correlation ID: 15ad9083-df43-4b6c-ab6b-7931a099c79e - Trace ID: 3b621402-9877-476d-9b5d-87b9ea9b5e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:32:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 3b621402-9877-476d-9b5d-87b9ea9b5e00 Correlation ID: 15ad9083-df43-4b6c-ab6b-7931a099c79e Timestamp: 2025-09-19 13:32:29Z - Correlation ID: 15ad9083-df43-4b6c-ab6b-7931a099c79e - Trace ID: 3b621402-9877-476d-9b5d-87b9ea9b5e00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 19:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:02:29:229"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:02:32:232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:03:02:32"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 19:03:04:34"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:23:31:2331"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:25:56:2556"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:25:56:2556"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:25:56:2556"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:25:56:2556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:25:57:2557"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:25:59:2559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:25:59:2559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:26:02:262"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:26:11:2611"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:56:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a326d00 Correlation ID: dac7557e-79e2-44ad-b588-90b037f2e38e Timestamp: 2025-09-19 13:56:15Z - Correlation ID: dac7557e-79e2-44ad-b588-90b037f2e38e - Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a326d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:56:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a326d00 Correlation ID: dac7557e-79e2-44ad-b588-90b037f2e38e Timestamp: 2025-09-19 13:56:15Z - Correlation ID: dac7557e-79e2-44ad-b588-90b037f2e38e - Trace ID: 6292f6dc-66ad-4c5b-bc5c-d7717a326d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 19:26:16:2616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:26:16:2616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:26:16:2616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:26:16:2616"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:26:18:2618"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:26:45:2645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:26:46:2646"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:27:35:2735"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:27:36:2736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:27:36:2736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:27:36:2736"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:27:37:2737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:27:37:2737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:27:40:2740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:27:50:2750"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:57:54Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 934bf294-601f-490f-a423-6df5cd9e1400 Correlation ID: c5887a5b-350c-4228-83f8-aefef185f8f1 Timestamp: 2025-09-19 13:57:54Z - Correlation ID: c5887a5b-350c-4228-83f8-aefef185f8f1 - Trace ID: 934bf294-601f-490f-a423-6df5cd9e1400\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 13:57:54Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 934bf294-601f-490f-a423-6df5cd9e1400 Correlation ID: c5887a5b-350c-4228-83f8-aefef185f8f1 Timestamp: 2025-09-19 13:57:54Z - Correlation ID: c5887a5b-350c-4228-83f8-aefef185f8f1 - Trace ID: 934bf294-601f-490f-a423-6df5cd9e1400\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 19:27:55:2755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:27:55:2755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:27:55:2755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:27:55:2755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:27:57:2757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:28:25:2825"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 19:28:26:2826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 78d3f514-47a7-490a-81da-91c7eedea0c8\u001b[39m","timestamp":"2025-09-19 19:28:47:2847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExisting Microsoft user logged in: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-19 19:28:47:2847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMicrosoft OAuth login successful: aiva50543@gmail.com\u001b[39m","timestamp":"2025-09-19 19:28:47:2847"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 19:28:52:2852"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 19:29:08:298","url":"/message"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 19:29:14:2914","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:36:46:3646"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:36:59:3659"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:07:03Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b1ac546d-5911-4da9-b4a4-37dc0c0a3700 Correlation ID: 5911117f-0391-4ff0-9dc0-a895e2565bfc Timestamp: 2025-09-19 14:07:03Z - Correlation ID: 5911117f-0391-4ff0-9dc0-a895e2565bfc - Trace ID: b1ac546d-5911-4da9-b4a4-37dc0c0a3700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:07:03Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b1ac546d-5911-4da9-b4a4-37dc0c0a3700 Correlation ID: 5911117f-0391-4ff0-9dc0-a895e2565bfc Timestamp: 2025-09-19 14:07:03Z - Correlation ID: 5911117f-0391-4ff0-9dc0-a895e2565bfc - Trace ID: b1ac546d-5911-4da9-b4a4-37dc0c0a3700\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 19:37:04:374"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:37:04:374"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:37:04:374"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:37:04:374"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:37:06:376"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:37:34:3734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 19:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 19:38:24:3824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 19:38:24:3824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 19:38:24:3824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 19:38:24:3824"}
{"errors":["Body: \"workspaceId\" must be a valid GUID"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-19 19:38:38:3838","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:41:06:416"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:44:47:4447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:44:55:4455"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:15:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1615e377-e687-44e2-9ae9-8598e2b37e00 Correlation ID: 7e1af5a4-e265-455f-91ca-2a398b228a33 Timestamp: 2025-09-19 14:15:00Z - Correlation ID: 7e1af5a4-e265-455f-91ca-2a398b228a33 - Trace ID: 1615e377-e687-44e2-9ae9-8598e2b37e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:15:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1615e377-e687-44e2-9ae9-8598e2b37e00 Correlation ID: 7e1af5a4-e265-455f-91ca-2a398b228a33 Timestamp: 2025-09-19 14:15:00Z - Correlation ID: 7e1af5a4-e265-455f-91ca-2a398b228a33 - Trace ID: 1615e377-e687-44e2-9ae9-8598e2b37e00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 19:45:01:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:45:01:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:45:01:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:45:01:451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:45:03:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:45:29:4529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:45:30:4530"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:47:14:4714"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:47:15:4715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:47:15:4715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:47:15:4715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:47:15:4715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:47:15:4715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:47:18:4718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:47:25:4725"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:17:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3ca1669b00 Correlation ID: 9b4a0747-d3c2-4dd1-ad89-461b62b5311e Timestamp: 2025-09-19 14:17:28Z - Correlation ID: 9b4a0747-d3c2-4dd1-ad89-461b62b5311e - Trace ID: 69887750-fdcc-4e10-866e-9a3ca1669b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:17:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3ca1669b00 Correlation ID: 9b4a0747-d3c2-4dd1-ad89-461b62b5311e Timestamp: 2025-09-19 14:17:28Z - Correlation ID: 9b4a0747-d3c2-4dd1-ad89-461b62b5311e - Trace ID: 69887750-fdcc-4e10-866e-9a3ca1669b00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 19:47:29:4729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:47:29:4729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:47:29:4729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:47:29:4729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:47:31:4731"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:47:57:4757"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 19:47:58:4758"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:49:42:4942"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:49:43:4943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:49:43:4943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:49:54:4954"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:19:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e3df4ece-739c-48d4-b4bc-dd6423dfa100 Correlation ID: 76bd4ffd-4678-497e-b147-b3278d5e5802 Timestamp: 2025-09-19 14:19:57Z - Correlation ID: 76bd4ffd-4678-497e-b147-b3278d5e5802 - Trace ID: e3df4ece-739c-48d4-b4bc-dd6423dfa100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:19:57Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e3df4ece-739c-48d4-b4bc-dd6423dfa100 Correlation ID: 76bd4ffd-4678-497e-b147-b3278d5e5802 Timestamp: 2025-09-19 14:19:57Z - Correlation ID: 76bd4ffd-4678-497e-b147-b3278d5e5802 - Trace ID: e3df4ece-739c-48d4-b4bc-dd6423dfa100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 19:49:58:4958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:49:58:4958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:49:58:4958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:49:58:4958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:50:00:500"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:50:26:5026"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:51:17:5117"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:51:17:5117"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:51:17:5117"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:51:17:5117"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:51:20:5120"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:51:30:5130"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:21:33Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec26ef0a-7c87-4dcf-ae13-b78bf8f72400 Correlation ID: 13735e7a-1f07-4170-8237-ea3a43ddd7b4 Timestamp: 2025-09-19 14:21:33Z - Correlation ID: 13735e7a-1f07-4170-8237-ea3a43ddd7b4 - Trace ID: ec26ef0a-7c87-4dcf-ae13-b78bf8f72400\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:21:33Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec26ef0a-7c87-4dcf-ae13-b78bf8f72400 Correlation ID: 13735e7a-1f07-4170-8237-ea3a43ddd7b4 Timestamp: 2025-09-19 14:21:33Z - Correlation ID: 13735e7a-1f07-4170-8237-ea3a43ddd7b4 - Trace ID: ec26ef0a-7c87-4dcf-ae13-b78bf8f72400\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\utils.js:186:12)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\dist\\commonjs\\msal\\nodeFlows\\msalClient.js:230:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\dist\\commonjs\\tracingClient.js:36:28)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:37:32)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\tokenCycler.js:45:17)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:102:29)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\dist\\commonjs\\keyVaultAuthenticationPolicy.js:145:20)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\dist\\commonjs\\client\\sendRequest.js:26:26)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\dist\\commonjs\\generated\\static-helpers\\pagingHelpers.js:19:19)","timestamp":"2025-09-19 19:51:34:5134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:51:34:5134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:51:34:5134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:51:34:5134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:51:36:5136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:52:00:520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 19:52:01:521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:52:40:5240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:53:05:535"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:53:05:535"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:53:05:535"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:53:05:535"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:53:06:536"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:53:08:538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:53:10:5310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:53:20:5320"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:23:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e922b97f00 Correlation ID: ab57e172-383b-4c24-ac4a-a702543670cc Timestamp: 2025-09-19 14:23:23Z - Correlation ID: ab57e172-383b-4c24-ac4a-a702543670cc - Trace ID: bf049fa5-ae0f-476b-8d0b-30e922b97f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:23:23Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bf049fa5-ae0f-476b-8d0b-30e922b97f00 Correlation ID: ab57e172-383b-4c24-ac4a-a702543670cc Timestamp: 2025-09-19 14:23:23Z - Correlation ID: ab57e172-383b-4c24-ac4a-a702543670cc - Trace ID: bf049fa5-ae0f-476b-8d0b-30e922b97f00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 19:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:53:26:5326"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:53:51:5351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:53:53:5353"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 19:54:55:5455"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 19:54:55:5455"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 19:54:55:5455"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 19:54:55:5455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- nodeEnv: development\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 19:54:56:5456"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 19:54:57:5457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 19:54:57:5457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 19:54:57:5457"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 19:54:58:5458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 19:54:58:5458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 19:55:02:552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 19:55:11:5511"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:25:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f2729c9f-7886-4305-a88a-f01b9827b100 Correlation ID: 3fe594b5-a9d4-48c3-ae0b-43c06df41d74 Timestamp: 2025-09-19 14:25:15Z - Correlation ID: 3fe594b5-a9d4-48c3-ae0b-43c06df41d74 - Trace ID: f2729c9f-7886-4305-a88a-f01b9827b100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:25:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f2729c9f-7886-4305-a88a-f01b9827b100 Correlation ID: 3fe594b5-a9d4-48c3-ae0b-43c06df41d74 Timestamp: 2025-09-19 14:25:15Z - Correlation ID: 3fe594b5-a9d4-48c3-ae0b-43c06df41d74 - Trace ID: f2729c9f-7886-4305-a88a-f01b9827b100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 19:55:16:5516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 19:55:16:5516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 19:55:16:5516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 19:55:16:5516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 19:55:21:5521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 19:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 19:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat 3cdabe8c-1954-45d6-8bdd-9ead04f79757\u001b[39m","timestamp":"2025-09-19 20:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat 6a60fb7d-cf40-42c0-bf4a-d7440eee24fa\u001b[39m","timestamp":"2025-09-19 20:02:21:221"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 20:16:42:1642"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 20:16:42:1642"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 20:16:42:1642"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 20:16:42:1642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 20:16:43:1643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 20:16:44:1644"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 20:16:44:1644"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the database connection issue.\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This appears to be a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Azure services: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mContinuing with available mock services\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 20:16:48:1648"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:46:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: eea24a54-f44e-4d7c-a150-8b4664447c00 Correlation ID: b68e1c5c-13c4-43b7-b14c-7ca636c98e87 Timestamp: 2025-09-19 14:46:51Z - Correlation ID: b68e1c5c-13c4-43b7-b14c-7ca636c98e87 - Trace ID: eea24a54-f44e-4d7c-a150-8b4664447c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:46:51Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: eea24a54-f44e-4d7c-a150-8b4664447c00 Correlation ID: b68e1c5c-13c4-43b7-b14c-7ca636c98e87 Timestamp: 2025-09-19 14:46:51Z - Correlation ID: b68e1c5c-13c4-43b7-b14c-7ca636c98e87 - Trace ID: eea24a54-f44e-4d7c-a150-8b4664447c00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 20:16:52:1652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 20:16:52:1652"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mYour current IP address appears to be: 152.59.205.141\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the firewall issue.\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 20:16:54:1654"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.204.206' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 20:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 20:18:48:1848"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 20:18:58:1858"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 20:18:58:1858"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 20:18:58:1858"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 20:18:58:1858"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 20:18:59:1859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 20:19:00:190"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 20:19:01:191"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 20:19:03:193"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized with real client\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 20:19:13:1913"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:49:17Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e3df4ece-739c-48d4-b4bc-dd6455e6a200 Correlation ID: 63388e7e-03cb-4aec-8699-805084425a4d Timestamp: 2025-09-19 14:49:17Z - Correlation ID: 63388e7e-03cb-4aec-8699-805084425a4d - Trace ID: e3df4ece-739c-48d4-b4bc-dd6455e6a200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 14:49:17Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e3df4ece-739c-48d4-b4bc-dd6455e6a200 Correlation ID: 63388e7e-03cb-4aec-8699-805084425a4d Timestamp: 2025-09-19 14:49:17Z - Correlation ID: 63388e7e-03cb-4aec-8699-805084425a4d - Trace ID: e3df4ece-739c-48d4-b4bc-dd6455e6a200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 20:19:19:1919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 20:19:19:1919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 20:19:19:1919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 20:19:19:1919"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 20:19:21:1921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 20:19:49:1949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 20:19:51:1951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 20:20:17:2017"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 20:20:17:2017"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:20:22:2022"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:20:34:2034"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:20:42:2042"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:24:42:2442"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:24:51:2451"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:24:56:2456"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:29:03:293"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 20:36:33:3633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 20:36:33:3633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 20:36:33:3633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 20:36:33:3633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 20:36:34:3634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 20:36:35:3635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 20:36:37:3637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 20:36:37:3637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 20:36:41:3641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized with real client\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 20:36:50:3650"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:06:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 05240824-850a-4a62-beb2-8ca097af3d00 Correlation ID: c981bd64-fa6f-4834-87ff-2074e024192d Timestamp: 2025-09-19 15:06:55Z - Correlation ID: c981bd64-fa6f-4834-87ff-2074e024192d - Trace ID: 05240824-850a-4a62-beb2-8ca097af3d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:06:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 05240824-850a-4a62-beb2-8ca097af3d00 Correlation ID: c981bd64-fa6f-4834-87ff-2074e024192d Timestamp: 2025-09-19 15:06:55Z - Correlation ID: c981bd64-fa6f-4834-87ff-2074e024192d - Trace ID: 05240824-850a-4a62-beb2-8ca097af3d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 20:36:55:3655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 20:36:55:3655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 20:36:55:3655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 20:36:55:3655"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 20:36:58:3658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 20:37:23:3723"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 20:37:24:3724"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 20:38:34:3834"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 20:38:34:3834"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 20:38:34:3834"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 20:38:34:3834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 20:38:35:3835"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 20:38:36:3836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 20:38:36:3836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 20:38:36:3836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 20:38:37:3837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 20:38:37:3837"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 20:38:40:3840"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracted base endpoint: https://aivabot.openai.azure.com\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized with real client\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 20:38:48:3848"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:08:52Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e48c20e1-290c-415b-b259-f6b4f3706200 Correlation ID: 3476b9b2-4144-468c-8bad-8058e529a4a2 Timestamp: 2025-09-19 15:08:52Z - Correlation ID: 3476b9b2-4144-468c-8bad-8058e529a4a2 - Trace ID: e48c20e1-290c-415b-b259-f6b4f3706200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:08:52Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e48c20e1-290c-415b-b259-f6b4f3706200 Correlation ID: 3476b9b2-4144-468c-8bad-8058e529a4a2 Timestamp: 2025-09-19 15:08:52Z - Correlation ID: 3476b9b2-4144-468c-8bad-8058e529a4a2 - Trace ID: e48c20e1-290c-415b-b259-f6b4f3706200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 20:38:53:3853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 20:38:53:3853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 20:38:53:3853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 20:38:53:3853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 20:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 20:39:22:3922"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 20:42:16:4216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 20:42:16:4216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 20:42:16:4216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 20:42:16:4216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 20:44:45:4445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 20:44:45:4445"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 20:51:19:5119"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 20:51:19:5119"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mNo valid workspaceId provided for user user1\u001b[39m","timestamp":"2025-09-19 20:51:23:5123"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 20:51:24:5124"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 21:00:08:08"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 21:00:09:09"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 21:00:09:09"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 21:00:09:09"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 21:00:10:010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 21:00:11:011"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the database connection issue.\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This appears to be a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Azure services: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mContinuing with available mock services\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 21:00:13:013"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:30:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a1a2eea2-b278-41fd-9d95-26210ddc9a00 Correlation ID: bbaf0bae-20db-48ba-bf5a-d335c8d5f81e Timestamp: 2025-09-19 15:30:18Z - Correlation ID: bbaf0bae-20db-48ba-bf5a-d335c8d5f81e - Trace ID: a1a2eea2-b278-41fd-9d95-26210ddc9a00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:30:18Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: a1a2eea2-b278-41fd-9d95-26210ddc9a00 Correlation ID: bbaf0bae-20db-48ba-bf5a-d335c8d5f81e Timestamp: 2025-09-19 15:30:18Z - Correlation ID: bbaf0bae-20db-48ba-bf5a-d335c8d5f81e - Trace ID: a1a2eea2-b278-41fd-9d95-26210ddc9a00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 21:00:19:019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 21:00:19:019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 21:00:19:019"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 21:00:19:019"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ö†Ô∏è  This is a firewall issue. You need to add your IP address to the Azure SQL Database firewall.\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mSteps to fix:\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m1. Go to Azure Portal\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m2. Navigate to your SQL Server (aivaserver)\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m3. Go to \"Firewalls and virtual networks\"\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m4. Add your current IP address to the firewall rules\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m5. Save the changes and wait a few minutes for the changes to take effect\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mYour current IP address appears to be: 152.59.205.141\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed and MOCK_DATABASE is disabled. Please fix the firewall issue.\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTo temporarily use mock database for development, set MOCK_DATABASE=true in your .env file\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 21:00:21:021"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.59.203.5' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 21:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 21:01:22:122"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 21:01:34:134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 21:01:35:135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 21:01:35:135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 21:01:35:135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 21:01:36:136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 21:01:37:137"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 21:01:39:139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized with real client\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 21:01:49:149"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:31:53Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd73a5200 Correlation ID: 7224a498-8a01-4ef9-868a-f23a83d41626 Timestamp: 2025-09-19 15:31:53Z - Correlation ID: 7224a498-8a01-4ef9-868a-f23a83d41626 - Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd73a5200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:31:53Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd73a5200 Correlation ID: 7224a498-8a01-4ef9-868a-f23a83d41626 Timestamp: 2025-09-19 15:31:53Z - Correlation ID: 7224a498-8a01-4ef9-868a-f23a83d41626 - Trace ID: 6ffef88b-3211-4ec6-a0b7-a0fcd73a5200\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 21:01:54:154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 21:01:54:154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 21:01:54:154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 21:01:54:154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 21:01:56:156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 21:02:23:223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 21:02:24:224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 21:02:44:244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 21:02:44:244"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mNo valid workspaceId provided for user user1\u001b[39m","timestamp":"2025-09-19 21:02:49:249"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 21:02:51:251"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized. Environment variables:\u001b[39m","timestamp":"2025-09-19 21:07:31:731"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_ID:\u001b[39m","timestamp":"2025-09-19 21:07:31:731"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_CLIENT_SECRET:\u001b[39m","timestamp":"2025-09-19 21:07:31:731"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mAZURE_TENANT_ID:\u001b[39m","timestamp":"2025-09-19 21:07:31:731"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI client\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 21:07:32:732"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 21:07:33:733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 21:07:33:733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 21:07:33:733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 21:07:34:734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 21:07:34:734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database connected with SQL authentication\u001b[39m","timestamp":"2025-09-19 21:07:37:737"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized with real client\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 21:07:46:746"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:37:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecdd6a9c0e00 Correlation ID: 78ff7504-1c59-486b-a6eb-dc5b2be2bea8 Timestamp: 2025-09-19 15:37:50Z - Correlation ID: 78ff7504-1c59-486b-a6eb-dc5b2be2bea8 - Trace ID: cd764138-5186-44ee-91d4-ecdd6a9c0e00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 15:37:50Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecdd6a9c0e00 Correlation ID: 78ff7504-1c59-486b-a6eb-dc5b2be2bea8 Timestamp: 2025-09-19 15:37:50Z - Correlation ID: 78ff7504-1c59-486b-a6eb-dc5b2be2bea8 - Trace ID: cd764138-5186-44ee-91d4-ecdd6a9c0e00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 21:07:51:751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 21:07:51:751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 21:07:51:751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 21:07:51:751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 21:07:53:753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 21:08:18:818"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock cache service\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 21:08:19:819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated last login for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-19 21:09:24:924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in successfully: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-19 21:09:24:924"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mNo valid workspaceId provided for user user1\u001b[39m","timestamp":"2025-09-19 21:09:28:928"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 21:09:29:929"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 21:57:30:5730"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 21:57:32:5732"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 21:57:33:5733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 21:57:33:5733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 21:57:33:5733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 21:57:34:5734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 21:57:35:5735"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:27:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b50450f6700 Correlation ID: 1368cab0-c40a-4d9f-bb60-040c7d518b6a Timestamp: 2025-09-19 16:27:39Z - Correlation ID: 1368cab0-c40a-4d9f-bb60-040c7d518b6a - Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b50450f6700\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:27:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b50450f6700 Correlation ID: 1368cab0-c40a-4d9f-bb60-040c7d518b6a Timestamp: 2025-09-19 16:27:39Z - Correlation ID: 1368cab0-c40a-4d9f-bb60-040c7d518b6a - Trace ID: 4a5b09b7-4cd0-4d97-a54a-6b50450f6700\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 21:57:40:5740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 21:57:40:5740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 21:57:40:5740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 21:57:40:5740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 21:57:40:5740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 21:57:42:5742"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 21:57:40:5740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 21:57:41:5741"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 21:57:42:5742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 21:57:42:5742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 21:57:42:5742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 21:57:43:5743"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:27:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-4164cc836f00 Correlation ID: a2f0c832-d357-418f-ad83-11b0c3c59a2a Timestamp: 2025-09-19 16:27:46Z - Correlation ID: a2f0c832-d357-418f-ad83-11b0c3c59a2a - Trace ID: 9aee1cfe-8ff4-4218-8433-4164cc836f00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:27:46Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-4164cc836f00 Correlation ID: a2f0c832-d357-418f-ad83-11b0c3c59a2a Timestamp: 2025-09-19 16:27:46Z - Correlation ID: a2f0c832-d357-418f-ad83-11b0c3c59a2a - Trace ID: 9aee1cfe-8ff4-4218-8433-4164cc836f00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 21:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 21:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 21:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 21:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 21:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 21:57:49:5749"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 21:59:00:590"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 21:59:01:591"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 21:59:02:592"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 21:59:02:592"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 21:59:02:592"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 21:59:02:592"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 21:59:03:593"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:29:07Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7d039634-3ee2-451b-b10e-48d9e4fd5c00 Correlation ID: 5dfa2c25-4a74-4aef-a0bf-271fd70f582d Timestamp: 2025-09-19 16:29:07Z - Correlation ID: 5dfa2c25-4a74-4aef-a0bf-271fd70f582d - Trace ID: 7d039634-3ee2-451b-b10e-48d9e4fd5c00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:29:07Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7d039634-3ee2-451b-b10e-48d9e4fd5c00 Correlation ID: 5dfa2c25-4a74-4aef-a0bf-271fd70f582d Timestamp: 2025-09-19 16:29:07Z - Correlation ID: 5dfa2c25-4a74-4aef-a0bf-271fd70f582d - Trace ID: 7d039634-3ee2-451b-b10e-48d9e4fd5c00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 21:59:07:597"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 21:59:07:597"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 21:59:07:597"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 21:59:07:597"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 21:59:07:597"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:29:48:2948"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:29:49:2949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:29:50:2950"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:59:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 71a10f45-c8ff-4385-9d2b-6f3da28b7600 Correlation ID: 50318801-37bd-4c6a-84d3-2433e7251545 Timestamp: 2025-09-19 16:59:55Z - Correlation ID: 50318801-37bd-4c6a-84d3-2433e7251545 - Trace ID: 71a10f45-c8ff-4385-9d2b-6f3da28b7600\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 16:59:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 71a10f45-c8ff-4385-9d2b-6f3da28b7600 Correlation ID: 50318801-37bd-4c6a-84d3-2433e7251545 Timestamp: 2025-09-19 16:59:55Z - Correlation ID: 50318801-37bd-4c6a-84d3-2433e7251545 - Trace ID: 71a10f45-c8ff-4385-9d2b-6f3da28b7600\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:29:55:2955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:29:55:2955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:29:55:2955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:29:55:2955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:29:55:2955"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:29:58:2958"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":18,"message":"\u001b[31m‚ùå Failed to initialize database schema: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 22:30:07:307"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:31:00:310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:31:01:311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:31:02:312"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:31:02:312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:31:03:313"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:31:04:314"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:01:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 07b5257c-5677-473d-a32e-dce264647300 Correlation ID: 28196a32-3985-4a04-9014-9a564aa52f3b Timestamp: 2025-09-19 17:01:08Z - Correlation ID: 28196a32-3985-4a04-9014-9a564aa52f3b - Trace ID: 07b5257c-5677-473d-a32e-dce264647300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:01:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 07b5257c-5677-473d-a32e-dce264647300 Correlation ID: 28196a32-3985-4a04-9014-9a564aa52f3b Timestamp: 2025-09-19 17:01:08Z - Correlation ID: 28196a32-3985-4a04-9014-9a564aa52f3b - Trace ID: 07b5257c-5677-473d-a32e-dce264647300\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:31:08:318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:31:08:318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:31:08:318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:31:08:318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:31:08:318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:31:12:3112"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":18,"message":"\u001b[31m‚ùå Failed to initialize database schema: Incorrect syntax near 'ACTION'.\u001b[39m","name":"RequestError","number":102,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":18,"message":"Incorrect syntax near 'ACTION'.","name":"ERROR","number":102,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[{"class":15,"code":"EREQUEST","lineNumber":10,"name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"procName":"","serverName":"aivaserver","state":1}],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near 'ACTION'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 22:31:20:3120"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:35:19:3519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:35:20:3520"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:35:22:3522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:35:23:3523"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:05:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec6928b0-4f09-4135-9fd2-3a3dd8056b00 Correlation ID: 327ccca5-0d4b-441e-bda2-28d1b494ca82 Timestamp: 2025-09-19 17:05:28Z - Correlation ID: 327ccca5-0d4b-441e-bda2-28d1b494ca82 - Trace ID: ec6928b0-4f09-4135-9fd2-3a3dd8056b00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:05:28Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec6928b0-4f09-4135-9fd2-3a3dd8056b00 Correlation ID: 327ccca5-0d4b-441e-bda2-28d1b494ca82 Timestamp: 2025-09-19 17:05:28Z - Correlation ID: 327ccca5-0d4b-441e-bda2-28d1b494ca82 - Trace ID: ec6928b0-4f09-4135-9fd2-3a3dd8056b00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:35:28:3528"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:35:30:3530"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":10,"message":"\u001b[31m‚ùå Failed to initialize database schema: Incorrect syntax near the keyword 'database'.\u001b[39m","name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near the keyword 'database'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 22:35:40:3540"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":10,"message":"\u001b[31m‚ùå Database connection failed: Incorrect syntax near the keyword 'database'.\u001b[39m","name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near the keyword 'database'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 22:35:40:3540"}
{"class":15,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":10,"message":"\u001b[31mFailed to load configurations from database: Incorrect syntax near the keyword 'database'.\u001b[39m","name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near the keyword 'database'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 22:35:40:3540"}
{"class":15,"code":"EREQUEST","level":"\u001b[33mwarn\u001b[39m","lineNumber":10,"message":"\u001b[33mFailed to load configurations from database, using environment variables: Incorrect syntax near the keyword 'database'.\u001b[39m","name":"RequestError","number":156,"originalError":{"info":{"class":15,"handlerName":"onErrorMessage","lineNumber":10,"message":"Incorrect syntax near the keyword 'database'.","name":"ERROR","number":156,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Incorrect syntax near the keyword 'database'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 22:35:40:3540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:39:23:3923"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:39:25:3925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:39:26:3926"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:09:31Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc1d9927100 Correlation ID: 90409fca-e9f3-427d-a6b8-15d11412b4ba Timestamp: 2025-09-19 17:09:31Z - Correlation ID: 90409fca-e9f3-427d-a6b8-15d11412b4ba - Trace ID: 77c9db1d-23a7-4a08-8524-9dc1d9927100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:09:31Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc1d9927100 Correlation ID: 90409fca-e9f3-427d-a6b8-15d11412b4ba Timestamp: 2025-09-19 17:09:31Z - Correlation ID: 90409fca-e9f3-427d-a6b8-15d11412b4ba - Trace ID: 77c9db1d-23a7-4a08-8524-9dc1d9927100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:39:31:3931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:39:31:3931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:39:31:3931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:39:31:3931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:39:31:3931"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:39:33:3933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 22:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 22:40:01:401"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:43:05:435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:43:07:437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:43:09:439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:43:10:4310"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:13:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3caa54a100 Correlation ID: 475fa156-70b3-40f9-93f6-bce2e1b1dc38 Timestamp: 2025-09-19 17:13:16Z - Correlation ID: 475fa156-70b3-40f9-93f6-bce2e1b1dc38 - Trace ID: 69887750-fdcc-4e10-866e-9a3caa54a100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:13:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 69887750-fdcc-4e10-866e-9a3caa54a100 Correlation ID: 475fa156-70b3-40f9-93f6-bce2e1b1dc38 Timestamp: 2025-09-19 17:13:16Z - Correlation ID: 475fa156-70b3-40f9-93f6-bce2e1b1dc38 - Trace ID: 69887750-fdcc-4e10-866e-9a3caa54a100\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:43:16:4316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:43:16:4316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:43:16:4316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:43:16:4316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:43:16:4316"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:43:18:4318"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:44:54:4454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:44:55:4455"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:15:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d54640fb-9277-45c0-bfac-7c8d95236d00 Correlation ID: 10aad53a-5d5b-4c15-ae45-16e75f05c61a Timestamp: 2025-09-19 17:15:00Z - Correlation ID: 10aad53a-5d5b-4c15-ae45-16e75f05c61a - Trace ID: d54640fb-9277-45c0-bfac-7c8d95236d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:15:00Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d54640fb-9277-45c0-bfac-7c8d95236d00 Correlation ID: 10aad53a-5d5b-4c15-ae45-16e75f05c61a Timestamp: 2025-09-19 17:15:00Z - Correlation ID: 10aad53a-5d5b-4c15-ae45-16e75f05c61a - Trace ID: d54640fb-9277-45c0-bfac-7c8d95236d00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:45:03:453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 22:45:32:4532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 22:45:33:4533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 22:47:15:4715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (150 tokens)\u001b[39m","timestamp":"2025-09-19 22:47:18:4718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat 8ff60595-92a9-43ac-bcf5-e17d1aa81a73\u001b[39m","timestamp":"2025-09-19 22:47:19:4719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 22:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (150 tokens)\u001b[39m","timestamp":"2025-09-19 22:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat defe607f-54ae-4c8d-ad6a-51a870eefc7e\u001b[39m","timestamp":"2025-09-19 22:48:15:4815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 22:48:52:4852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (159 tokens)\u001b[39m","timestamp":"2025-09-19 22:48:53:4853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat 2d1e65e8-5b0c-475d-b8fc-272540ac0535\u001b[39m","timestamp":"2025-09-19 22:48:54:4854"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:50:37:5037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:50:37:5037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:50:37:5037"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:50:37:5037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:50:37:5037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:50:37:5037"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:50:38:5038"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:20:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-4164ea5c7100 Correlation ID: 37b00906-5b10-4e94-823c-b36ef2f85eb2 Timestamp: 2025-09-19 17:20:44Z - Correlation ID: 37b00906-5b10-4e94-823c-b36ef2f85eb2 - Trace ID: 9aee1cfe-8ff4-4218-8433-4164ea5c7100\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:20:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-4164ea5c7100 Correlation ID: 37b00906-5b10-4e94-823c-b36ef2f85eb2 Timestamp: 2025-09-19 17:20:44Z - Correlation ID: 37b00906-5b10-4e94-823c-b36ef2f85eb2 - Trace ID: 9aee1cfe-8ff4-4218-8433-4164ea5c7100\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:50:47:5047"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:52:32:5232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:52:33:5233"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:52:34:5234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock SQL Database\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock Blob Storage client\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock OpenAI client\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:52:35:5235"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:22:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263255ebc00 Correlation ID: 676eed43-1d60-41a3-aea9-e05b36f193d8 Timestamp: 2025-09-19 17:22:40Z - Correlation ID: 676eed43-1d60-41a3-aea9-e05b36f193d8 - Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263255ebc00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:22:40Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263255ebc00 Correlation ID: 676eed43-1d60-41a3-aea9-e05b36f193d8 Timestamp: 2025-09-19 17:22:40Z - Correlation ID: 676eed43-1d60-41a3-aea9-e05b36f193d8 - Trace ID: 0dd4b1ee-8549-46c2-b9c5-9263255ebc00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:52:40:5240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:52:44:5244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 22:53:11:5311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDevelopment environment detected - using mock storage mode\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized in mock mode\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock storage container 'blob' ready\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 22:53:12:5312"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:55:49:5549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:55:50:5550"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:55:51:5551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:55:52:5552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:55:52:5552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 22:56:01:561"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:56:01:561"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:02Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea27d587800 Correlation ID: fb0a7320-8606-46ba-aca3-861cca3e70bd Timestamp: 2025-09-19 17:26:02Z - Correlation ID: fb0a7320-8606-46ba-aca3-861cca3e70bd - Trace ID: cf59a05b-667a-4e3d-8981-4ea27d587800"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:02Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea27d587800 Correlation ID: fb0a7320-8606-46ba-aca3-861cca3e70bd Timestamp: 2025-09-19 17:26:02Z - Correlation ID: fb0a7320-8606-46ba-aca3-861cca3e70bd - Trace ID: cf59a05b-667a-4e3d-8981-4ea27d587800,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:02Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cf59a05b-667a-4e3d-8981-4ea27d587800 Correlation ID: fb0a7320-8606-46ba-aca3-861cca3e70bd Timestamp: 2025-09-19 17:26:02Z - Correlation ID: fb0a7320-8606-46ba-aca3-861cca3e70bd - Trace ID: cf59a05b-667a-4e3d-8981-4ea27d587800,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:56:02:562"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:06Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20301385-8f12-4ed0-a20c-6ac44335c000 Correlation ID: b7bb4201-0c4e-4079-8446-6cbdab73df3c Timestamp: 2025-09-19 17:26:06Z - Correlation ID: b7bb4201-0c4e-4079-8446-6cbdab73df3c - Trace ID: 20301385-8f12-4ed0-a20c-6ac44335c000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:06Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 20301385-8f12-4ed0-a20c-6ac44335c000 Correlation ID: b7bb4201-0c4e-4079-8446-6cbdab73df3c Timestamp: 2025-09-19 17:26:06Z - Correlation ID: b7bb4201-0c4e-4079-8446-6cbdab73df3c - Trace ID: 20301385-8f12-4ed0-a20c-6ac44335c000\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:56:06:566"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:56:06:566"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:56:06:566"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:56:06:566"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:56:06:566"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:56:08:568"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 22:56:36:5636"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 22:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 22:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 22:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 22:56:37:5637"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:37Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: da7b357b-9d35-46a5-aaf7-ca778e675d00 Correlation ID: 93811e56-ba62-4b0f-99dd-99ccc44aa964 Timestamp: 2025-09-19 17:26:37Z - Correlation ID: 93811e56-ba62-4b0f-99dd-99ccc44aa964 - Trace ID: da7b357b-9d35-46a5-aaf7-ca778e675d00"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:37Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: da7b357b-9d35-46a5-aaf7-ca778e675d00 Correlation ID: 93811e56-ba62-4b0f-99dd-99ccc44aa964 Timestamp: 2025-09-19 17:26:37Z - Correlation ID: 93811e56-ba62-4b0f-99dd-99ccc44aa964 - Trace ID: da7b357b-9d35-46a5-aaf7-ca778e675d00,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:26:37Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: da7b357b-9d35-46a5-aaf7-ca778e675d00 Correlation ID: 93811e56-ba62-4b0f-99dd-99ccc44aa964 Timestamp: 2025-09-19 17:26:37Z - Correlation ID: 93811e56-ba62-4b0f-99dd-99ccc44aa964 - Trace ID: da7b357b-9d35-46a5-aaf7-ca778e675d00,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 22:56:38:5638"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 22:57:52:5752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 22:57:53:5753"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 22:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 22:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 22:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 22:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 22:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 22:58:03:583"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 22:58:03:583"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:04Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 214bec12-b792-4450-85ea-8f960ced0500 Correlation ID: 37056279-2c56-4666-8511-fe558a7ad50c Timestamp: 2025-09-19 17:28:04Z - Correlation ID: 37056279-2c56-4666-8511-fe558a7ad50c - Trace ID: 214bec12-b792-4450-85ea-8f960ced0500"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:04Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 214bec12-b792-4450-85ea-8f960ced0500 Correlation ID: 37056279-2c56-4666-8511-fe558a7ad50c Timestamp: 2025-09-19 17:28:04Z - Correlation ID: 37056279-2c56-4666-8511-fe558a7ad50c - Trace ID: 214bec12-b792-4450-85ea-8f960ced0500,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:04Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 214bec12-b792-4450-85ea-8f960ced0500 Correlation ID: 37056279-2c56-4666-8511-fe558a7ad50c Timestamp: 2025-09-19 17:28:04Z - Correlation ID: 37056279-2c56-4666-8511-fe558a7ad50c - Trace ID: 214bec12-b792-4450-85ea-8f960ced0500,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 22:58:04:584"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 2d26d4be-977b-4576-8202-020a53f38400 Correlation ID: 55465213-f70f-4cda-89fa-28659137f5fe Timestamp: 2025-09-19 17:28:08Z - Correlation ID: 55465213-f70f-4cda-89fa-28659137f5fe - Trace ID: 2d26d4be-977b-4576-8202-020a53f38400\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 2d26d4be-977b-4576-8202-020a53f38400 Correlation ID: 55465213-f70f-4cda-89fa-28659137f5fe Timestamp: 2025-09-19 17:28:08Z - Correlation ID: 55465213-f70f-4cda-89fa-28659137f5fe - Trace ID: 2d26d4be-977b-4576-8202-020a53f38400\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 22:58:08:588"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 22:58:08:588"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 22:58:08:588"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 22:58:08:588"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 22:58:08:588"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 22:58:10:5810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 22:58:33:5833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 22:58:34:5834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 22:58:34:5834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 22:58:34:5834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 22:58:34:5834"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 788f342f-3e20-4c49-a8ae-f53ef3da0700 Correlation ID: f5b24c8b-abaf-401a-a3a6-bfe2ae8e8931 Timestamp: 2025-09-19 17:28:34Z - Correlation ID: f5b24c8b-abaf-401a-a3a6-bfe2ae8e8931 - Trace ID: 788f342f-3e20-4c49-a8ae-f53ef3da0700"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 788f342f-3e20-4c49-a8ae-f53ef3da0700 Correlation ID: f5b24c8b-abaf-401a-a3a6-bfe2ae8e8931 Timestamp: 2025-09-19 17:28:34Z - Correlation ID: f5b24c8b-abaf-401a-a3a6-bfe2ae8e8931 - Trace ID: 788f342f-3e20-4c49-a8ae-f53ef3da0700,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:28:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 788f342f-3e20-4c49-a8ae-f53ef3da0700 Correlation ID: f5b24c8b-abaf-401a-a3a6-bfe2ae8e8931 Timestamp: 2025-09-19 17:28:34Z - Correlation ID: f5b24c8b-abaf-401a-a3a6-bfe2ae8e8931 - Trace ID: 788f342f-3e20-4c49-a8ae-f53ef3da0700,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 22:58:35:5835"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 23:01:27:127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 23:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEnvironment: development\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_DATABASE: false\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_DATABASE === 'true': false\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSQL_SERVER: SET\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSQL_DATABASE: SET\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSQL_USERNAME: SET\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSQL_PASSWORD: SET\u001b[39m","timestamp":"2025-09-19 23:01:30:130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 23:01:38:138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 23:01:38:138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_STORAGE: false\u001b[39m","timestamp":"2025-09-19 23:01:38:138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_STORAGE === 'true': false\u001b[39m","timestamp":"2025-09-19 23:01:38:138"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_STORAGE_ACCOUNT_NAME: SET\u001b[39m","timestamp":"2025-09-19 23:01:38:138"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:31:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f74b63be-2ee1-4e8f-87b8-6a0ca8ae4d00 Correlation ID: 667fc210-cc1f-46e2-9724-6deaf229acbf Timestamp: 2025-09-19 17:31:39Z - Correlation ID: 667fc210-cc1f-46e2-9724-6deaf229acbf - Trace ID: f74b63be-2ee1-4e8f-87b8-6a0ca8ae4d00"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:31:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f74b63be-2ee1-4e8f-87b8-6a0ca8ae4d00 Correlation ID: 667fc210-cc1f-46e2-9724-6deaf229acbf Timestamp: 2025-09-19 17:31:39Z - Correlation ID: 667fc210-cc1f-46e2-9724-6deaf229acbf - Trace ID: f74b63be-2ee1-4e8f-87b8-6a0ca8ae4d00,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:31:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f74b63be-2ee1-4e8f-87b8-6a0ca8ae4d00 Correlation ID: 667fc210-cc1f-46e2-9724-6deaf229acbf Timestamp: 2025-09-19 17:31:39Z - Correlation ID: 667fc210-cc1f-46e2-9724-6deaf229acbf - Trace ID: f74b63be-2ee1-4e8f-87b8-6a0ca8ae4d00,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: NOT SET\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_OPENAI: false\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_OPENAI === 'true': false\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_OPENAI_ENDPOINT: SET\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_OPENAI_API_KEY: SET\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 23:01:40:140"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:31:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead038b9bd00 Correlation ID: 80b44883-9996-472f-b1ee-dc37fc96008e Timestamp: 2025-09-19 17:31:44Z - Correlation ID: 80b44883-9996-472f-b1ee-dc37fc96008e - Trace ID: d9f34b73-3436-469a-be4f-ead038b9bd00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:31:44Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead038b9bd00 Correlation ID: 80b44883-9996-472f-b1ee-dc37fc96008e Timestamp: 2025-09-19 17:31:44Z - Correlation ID: 80b44883-9996-472f-b1ee-dc37fc96008e - Trace ID: d9f34b73-3436-469a-be4f-ead038b9bd00\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 23:01:45:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 23:01:45:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 23:01:45:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 23:01:45:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 23:01:45:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:01:47:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:02:15:215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:32:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909fb286b00 Correlation ID: 2ccff08d-a5ba-432e-8a15-7256f1a82cdc Timestamp: 2025-09-19 17:32:16Z - Correlation ID: 2ccff08d-a5ba-432e-8a15-7256f1a82cdc - Trace ID: 6e87afe4-2552-4067-8fa2-a909fb286b00"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:32:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909fb286b00 Correlation ID: 2ccff08d-a5ba-432e-8a15-7256f1a82cdc Timestamp: 2025-09-19 17:32:16Z - Correlation ID: 2ccff08d-a5ba-432e-8a15-7256f1a82cdc - Trace ID: 6e87afe4-2552-4067-8fa2-a909fb286b00,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:32:16Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 6e87afe4-2552-4067-8fa2-a909fb286b00 Correlation ID: 2ccff08d-a5ba-432e-8a15-7256f1a82cdc Timestamp: 2025-09-19 17:32:16Z - Correlation ID: 2ccff08d-a5ba-432e-8a15-7256f1a82cdc - Trace ID: 6e87afe4-2552-4067-8fa2-a909fb286b00,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 23:02:16:216"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 23:09:27:927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 23:09:28:928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 23:09:29:929"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 23:09:30:930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:09:30:930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 23:09:38:938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 23:09:38:938"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:39:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1615e377-e687-44e2-9ae9-85986cc48600 Correlation ID: 27fcd899-600e-415e-bd67-359004238960 Timestamp: 2025-09-19 17:39:39Z - Correlation ID: 27fcd899-600e-415e-bd67-359004238960 - Trace ID: 1615e377-e687-44e2-9ae9-85986cc48600"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:39:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1615e377-e687-44e2-9ae9-85986cc48600 Correlation ID: 27fcd899-600e-415e-bd67-359004238960 Timestamp: 2025-09-19 17:39:39Z - Correlation ID: 27fcd899-600e-415e-bd67-359004238960 - Trace ID: 1615e377-e687-44e2-9ae9-85986cc48600,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:39:39Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 1615e377-e687-44e2-9ae9-85986cc48600 Correlation ID: 27fcd899-600e-415e-bd67-359004238960 Timestamp: 2025-09-19 17:39:39Z - Correlation ID: 27fcd899-600e-415e-bd67-359004238960 - Trace ID: 1615e377-e687-44e2-9ae9-85986cc48600,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: NOT SET\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing mock App Configuration client\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 23:09:39:939"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:39:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 94a99f77-3deb-4b78-843d-60af21fc7200 Correlation ID: df583258-1b35-4416-8955-9edb61910a27 Timestamp: 2025-09-19 17:39:43Z - Correlation ID: df583258-1b35-4416-8955-9edb61910a27 - Trace ID: 94a99f77-3deb-4b78-843d-60af21fc7200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:39:43Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 94a99f77-3deb-4b78-843d-60af21fc7200 Correlation ID: df583258-1b35-4416-8955-9edb61910a27 Timestamp: 2025-09-19 17:39:43Z - Correlation ID: df583258-1b35-4416-8955-9edb61910a27 - Trace ID: 94a99f77-3deb-4b78-843d-60af21fc7200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 23:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 23:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 23:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded successfully\u001b[39m","timestamp":"2025-09-19 23:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing database credentials from Key Vault\u001b[39m","timestamp":"2025-09-19 23:09:44:944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:09:46:946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:10:12:1012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 23:10:13:1013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 23:10:13:1013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 23:10:13:1013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 23:10:13:1013"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:40:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d0659376-4ca5-44eb-be09-3de73eb57900 Correlation ID: 1ae7ca2e-e501-49af-8f3b-6f73bf924c98 Timestamp: 2025-09-19 17:40:13Z - Correlation ID: 1ae7ca2e-e501-49af-8f3b-6f73bf924c98 - Trace ID: d0659376-4ca5-44eb-be09-3de73eb57900"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:40:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d0659376-4ca5-44eb-be09-3de73eb57900 Correlation ID: 1ae7ca2e-e501-49af-8f3b-6f73bf924c98 Timestamp: 2025-09-19 17:40:13Z - Correlation ID: 1ae7ca2e-e501-49af-8f3b-6f73bf924c98 - Trace ID: d0659376-4ca5-44eb-be09-3de73eb57900,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:40:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d0659376-4ca5-44eb-be09-3de73eb57900 Correlation ID: 1ae7ca2e-e501-49af-8f3b-6f73bf924c98 Timestamp: 2025-09-19 17:40:13Z - Correlation ID: 1ae7ca2e-e501-49af-8f3b-6f73bf924c98 - Trace ID: d0659376-4ca5-44eb-be09-3de73eb57900,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:10:13:1013"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 23:18:09:189"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 23:18:10:1810"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 23:18:11:1811"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 23:18:11:1811"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 23:18:11:1811"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 23:18:12:1812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 23:18:13:1813"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:18:13:1813"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 23:18:25:1825"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 23:18:25:1825"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:48:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f7573897c00 Correlation ID: 32a8fc95-d42b-4d84-86fb-9219adb2a216 Timestamp: 2025-09-19 17:48:25Z - Correlation ID: 32a8fc95-d42b-4d84-86fb-9219adb2a216 - Trace ID: dfab1b57-df92-4064-bf79-5f7573897c00"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:48:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f7573897c00 Correlation ID: 32a8fc95-d42b-4d84-86fb-9219adb2a216 Timestamp: 2025-09-19 17:48:25Z - Correlation ID: 32a8fc95-d42b-4d84-86fb-9219adb2a216 - Trace ID: dfab1b57-df92-4064-bf79-5f7573897c00,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:48:25Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: dfab1b57-df92-4064-bf79-5f7573897c00 Correlation ID: 32a8fc95-d42b-4d84-86fb-9219adb2a216 Timestamp: 2025-09-19 17:48:25Z - Correlation ID: 32a8fc95-d42b-4d84-86fb-9219adb2a216 - Trace ID: dfab1b57-df92-4064-bf79-5f7573897c00,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize App Configuration: Invalid connection string. Valid connection strings should match the regex 'Endpoint=(.*);Id=(.*);Secret=(.*)'. To mitigate the issue, please refer to the troubleshooting guide here at https://aka.ms/azsdk/js/app-configuration/troubleshoot.\u001b[39m","stack":"Error: Invalid connection string. Valid connection strings should match the regex 'Endpoint=(.*);Id=(.*);Secret=(.*)'. To mitigate the issue, please refer to the troubleshooting guide here at https://aka.ms/azsdk/js/app-configuration/troubleshoot.\n    at new AppConfigurationClient (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\app-configuration\\src\\appConfigurationClient.ts:174:15)\n    at initializeAppConfiguration (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:258:25)\n    at initializeAzureServices (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:25:11)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\index.ts:110:5)","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock App Configuration\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock App Configuration initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 23:18:26:1826"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:48:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecdd32551300 Correlation ID: b9c5031f-3f44-4680-9507-0ef0c36fe576 Timestamp: 2025-09-19 17:48:32Z - Correlation ID: b9c5031f-3f44-4680-9507-0ef0c36fe576 - Trace ID: cd764138-5186-44ee-91d4-ecdd32551300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:48:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecdd32551300 Correlation ID: b9c5031f-3f44-4680-9507-0ef0c36fe576 Timestamp: 2025-09-19 17:48:32Z - Correlation ID: b9c5031f-3f44-4680-9507-0ef0c36fe576 - Trace ID: cd764138-5186-44ee-91d4-ecdd32551300\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 23:18:32:1832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 23:18:32:1832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 23:18:32:1832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 23:18:32:1832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:18:34:1834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:19:00:190"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 23:19:01:191"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 23:19:01:191"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 23:19:01:191"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 23:19:01:191"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:49:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecddb9591300 Correlation ID: 82dd3e52-fccb-4a63-aaac-f3acfa4b02c5 Timestamp: 2025-09-19 17:49:01Z - Correlation ID: 82dd3e52-fccb-4a63-aaac-f3acfa4b02c5 - Trace ID: cd764138-5186-44ee-91d4-ecddb9591300"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:49:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecddb9591300 Correlation ID: 82dd3e52-fccb-4a63-aaac-f3acfa4b02c5 Timestamp: 2025-09-19 17:49:01Z - Correlation ID: 82dd3e52-fccb-4a63-aaac-f3acfa4b02c5 - Trace ID: cd764138-5186-44ee-91d4-ecddb9591300,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:49:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecddb9591300 Correlation ID: 82dd3e52-fccb-4a63-aaac-f3acfa4b02c5 Timestamp: 2025-09-19 17:49:01Z - Correlation ID: 82dd3e52-fccb-4a63-aaac-f3acfa4b02c5 - Trace ID: cd764138-5186-44ee-91d4-ecddb9591300,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:19:01:191"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 23:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 23:20:00:200"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 23:20:01:201"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 23:20:01:201"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 23:20:01:201"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 23:20:01:201"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 23:20:02:202"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:20:02:202"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 23:20:11:2011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 23:20:11:2011"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f2729c9f-7886-4305-a88a-f01be2cab800 Correlation ID: 1a434d5e-fcb6-4832-a940-e5d7a47db8b4 Timestamp: 2025-09-19 17:50:11Z - Correlation ID: 1a434d5e-fcb6-4832-a940-e5d7a47db8b4 - Trace ID: f2729c9f-7886-4305-a88a-f01be2cab800"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f2729c9f-7886-4305-a88a-f01be2cab800 Correlation ID: 1a434d5e-fcb6-4832-a940-e5d7a47db8b4 Timestamp: 2025-09-19 17:50:11Z - Correlation ID: 1a434d5e-fcb6-4832-a940-e5d7a47db8b4 - Trace ID: f2729c9f-7886-4305-a88a-f01be2cab800,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:11Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f2729c9f-7886-4305-a88a-f01be2cab800 Correlation ID: 1a434d5e-fcb6-4832-a940-e5d7a47db8b4 Timestamp: 2025-09-19 17:50:11Z - Correlation ID: 1a434d5e-fcb6-4832-a940-e5d7a47db8b4 - Trace ID: f2729c9f-7886-4305-a88a-f01be2cab800,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:20:11:2011"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 23:20:12:2012"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4653cc87-1dc8-4f49-a883-84989f847200 Correlation ID: b7735721-8d33-49b0-8af1-55af5e75ef84 Timestamp: 2025-09-19 17:50:15Z - Correlation ID: b7735721-8d33-49b0-8af1-55af5e75ef84 - Trace ID: 4653cc87-1dc8-4f49-a883-84989f847200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4653cc87-1dc8-4f49-a883-84989f847200 Correlation ID: b7735721-8d33-49b0-8af1-55af5e75ef84 Timestamp: 2025-09-19 17:50:15Z - Correlation ID: b7735721-8d33-49b0-8af1-55af5e75ef84 - Trace ID: 4653cc87-1dc8-4f49-a883-84989f847200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 23:20:15:2015"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 23:20:15:2015"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 23:20:15:2015"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 23:20:15:2015"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:20:46:2046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bca3dc05-a468-44eb-a03e-199905055700 Correlation ID: 654c8778-965e-46de-95e6-bc0725ad68b4 Timestamp: 2025-09-19 17:50:47Z - Correlation ID: 654c8778-965e-46de-95e6-bc0725ad68b4 - Trace ID: bca3dc05-a468-44eb-a03e-199905055700"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bca3dc05-a468-44eb-a03e-199905055700 Correlation ID: 654c8778-965e-46de-95e6-bc0725ad68b4 Timestamp: 2025-09-19 17:50:47Z - Correlation ID: 654c8778-965e-46de-95e6-bc0725ad68b4 - Trace ID: bca3dc05-a468-44eb-a03e-199905055700,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:50:47Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bca3dc05-a468-44eb-a03e-199905055700 Correlation ID: 654c8778-965e-46de-95e6-bc0725ad68b4 Timestamp: 2025-09-19 17:50:47Z - Correlation ID: 654c8778-965e-46de-95e6-bc0725ad68b4 - Trace ID: bca3dc05-a468-44eb-a03e-199905055700,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 23:20:47:2047"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 23:21:34:2134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 23:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 23:22:45:2245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 23:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 23:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:52:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f9776928200 Correlation ID: 779821c6-8049-4e2b-934f-5fc202a02019 Timestamp: 2025-09-19 17:52:55Z - Correlation ID: 779821c6-8049-4e2b-934f-5fc202a02019 - Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f9776928200"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:52:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f9776928200 Correlation ID: 779821c6-8049-4e2b-934f-5fc202a02019 Timestamp: 2025-09-19 17:52:55Z - Correlation ID: 779821c6-8049-4e2b-934f-5fc202a02019 - Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f9776928200,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:52:55Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f9776928200 Correlation ID: 779821c6-8049-4e2b-934f-5fc202a02019 Timestamp: 2025-09-19 17:52:55Z - Correlation ID: 779821c6-8049-4e2b-934f-5fc202a02019 - Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f9776928200,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 23:22:55:2255"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:52:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecdde57f1300 Correlation ID: 559537ea-d659-4790-96b7-1316c2d0abcd Timestamp: 2025-09-19 17:52:59Z - Correlation ID: 559537ea-d659-4790-96b7-1316c2d0abcd - Trace ID: cd764138-5186-44ee-91d4-ecdde57f1300\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:52:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: cd764138-5186-44ee-91d4-ecdde57f1300 Correlation ID: 559537ea-d659-4790-96b7-1316c2d0abcd Timestamp: 2025-09-19 17:52:59Z - Correlation ID: 559537ea-d659-4790-96b7-1316c2d0abcd - Trace ID: cd764138-5186-44ee-91d4-ecdde57f1300\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 23:23:00:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 23:23:00:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 23:23:00:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 23:23:00:230"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:23:02:232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:23:28:2328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:53:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f973d968200 Correlation ID: 5e9312ea-3b58-4c2d-a237-9c4b6a05860c Timestamp: 2025-09-19 17:53:30Z - Correlation ID: 5e9312ea-3b58-4c2d-a237-9c4b6a05860c - Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f973d968200"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:53:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f973d968200 Correlation ID: 5e9312ea-3b58-4c2d-a237-9c4b6a05860c Timestamp: 2025-09-19 17:53:30Z - Correlation ID: 5e9312ea-3b58-4c2d-a237-9c4b6a05860c - Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f973d968200,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 17:53:30Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f973d968200 Correlation ID: 5e9312ea-3b58-4c2d-a237-9c4b6a05860c Timestamp: 2025-09-19 17:53:30Z - Correlation ID: 5e9312ea-3b58-4c2d-a237-9c4b6a05860c - Trace ID: ec4a47e6-e5f0-47eb-b8b2-8f973d968200,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 23:23:30:2330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-09-19 23:24:49:2449"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:25:01:251"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:25:08:258"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:25:13:2513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: b382a12a-63e4-4826-9835-6b3a4f29b742 for user: user1 in workspace: 14dd8650-30e9-4e0b-979a-f680c79b4322\u001b[39m","timestamp":"2025-09-19 23:25:29:2529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: b9307137-badb-4c81-8e3e-0b434335a673 for user: user1 in workspace: 14dd8650-30e9-4e0b-979a-f680c79b4322\u001b[39m","timestamp":"2025-09-19 23:25:32:2532"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:25:36:2536"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-19 23:25:38:2538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat b9307137-badb-4c81-8e3e-0b434335a673\u001b[39m","timestamp":"2025-09-19 23:25:40:2540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (730 tokens)\u001b[39m","timestamp":"2025-09-19 23:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat b9307137-badb-4c81-8e3e-0b434335a673\u001b[39m","timestamp":"2025-09-19 23:25:59:2559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 9a813d2b-1400-4a8a-864f-9161b80a0284 user: user1\u001b[39m","timestamp":"2025-09-19 23:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 9a813d2b-1400-4a8a-864f-9161b80a0284 user: user1\u001b[39m","timestamp":"2025-09-19 23:26:13:2613"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 9a813d2b-1400-4a8a-864f-9161b80a0284\u001b[39m","timestamp":"2025-09-19 23:26:13:2613"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-09-19 23:45:36:4536"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet chat history error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user bookmarks: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet bookmarks error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet liked messages error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet disliked messages error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase pool error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet workspaces error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:43:4543"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:54:4554"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet chat history error: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - read ECONNRESET\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at Socket.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-19 23:45:54:4554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 23:45:54:4554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:46:03:463"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:46:45:4645"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:46:52:4652"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:47:09:479"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:47:24:4724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-19 23:47:34:4734"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-19 23:47:52:4752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-19 23:47:53:4753"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-19 23:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-19 23:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-19 23:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-19 23:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-19 23:47:55:4755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:47:55:4755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-19 23:48:08:488"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-19 23:48:08:488"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bca3dc05-a468-44eb-a03e-19992c075800 Correlation ID: cea2f2b9-8e39-4365-82bd-6e5eb2502bb9 Timestamp: 2025-09-19 18:18:08Z - Correlation ID: cea2f2b9-8e39-4365-82bd-6e5eb2502bb9 - Trace ID: bca3dc05-a468-44eb-a03e-19992c075800"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bca3dc05-a468-44eb-a03e-19992c075800 Correlation ID: cea2f2b9-8e39-4365-82bd-6e5eb2502bb9 Timestamp: 2025-09-19 18:18:08Z - Correlation ID: cea2f2b9-8e39-4365-82bd-6e5eb2502bb9 - Trace ID: bca3dc05-a468-44eb-a03e-19992c075800,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:08Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: bca3dc05-a468-44eb-a03e-19992c075800 Correlation ID: cea2f2b9-8e39-4365-82bd-6e5eb2502bb9 Timestamp: 2025-09-19 18:18:08Z - Correlation ID: cea2f2b9-8e39-4365-82bd-6e5eb2502bb9 - Trace ID: bca3dc05-a468-44eb-a03e-19992c075800,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-19 23:48:09:489"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8dfaf546-4791-44c4-80d8-153c49126900 Correlation ID: 602509a3-59d3-4884-a683-971cfabe990f Timestamp: 2025-09-19 18:18:15Z - Correlation ID: 602509a3-59d3-4884-a683-971cfabe990f - Trace ID: 8dfaf546-4791-44c4-80d8-153c49126900\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:15Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 8dfaf546-4791-44c4-80d8-153c49126900 Correlation ID: 602509a3-59d3-4884-a683-971cfabe990f Timestamp: 2025-09-19 18:18:15Z - Correlation ID: 602509a3-59d3-4884-a683-971cfabe990f - Trace ID: 8dfaf546-4791-44c4-80d8-153c49126900\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-19 23:48:16:4816"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-19 23:48:16:4816"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-19 23:48:16:4816"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-19 23:48:16:4816"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-19 23:48:19:4819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-19 23:48:58:4858"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-19 23:48:59:4859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-19 23:48:59:4859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-19 23:48:59:4859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-19 23:48:59:4859"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a6a056200 Correlation ID: b7be311e-17d2-4076-a5f5-d25d3029b434 Timestamp: 2025-09-19 18:18:59Z - Correlation ID: b7be311e-17d2-4076-a5f5-d25d3029b434 - Trace ID: e365dfa3-2f31-4283-bd31-484a6a056200"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a6a056200 Correlation ID: b7be311e-17d2-4076-a5f5-d25d3029b434 Timestamp: 2025-09-19 18:18:59Z - Correlation ID: b7be311e-17d2-4076-a5f5-d25d3029b434 - Trace ID: e365dfa3-2f31-4283-bd31-484a6a056200,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 18:18:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e365dfa3-2f31-4283-bd31-484a6a056200 Correlation ID: b7be311e-17d2-4076-a5f5-d25d3029b434 Timestamp: 2025-09-19 18:18:59Z - Correlation ID: b7be311e-17d2-4076-a5f5-d25d3029b434 - Trace ID: e365dfa3-2f31-4283-bd31-484a6a056200,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-19 23:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: test@example.com\u001b[39m","timestamp":"2025-09-19 23:49:25:4925"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:49:43:4943"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:50:33:5033"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-19 23:50:56:5056"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 4910a27a-6c7e-4d93-990a-cdae085c4428 for user: user1 in workspace: 14dd8650-30e9-4e0b-979a-f680c79b4322\u001b[39m","timestamp":"2025-09-19 23:51:05:515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: f87f012e-10bc-4dc0-8639-86bbba076065 for user: user1 in workspace: 14dd8650-30e9-4e0b-979a-f680c79b4322\u001b[39m","timestamp":"2025-09-19 23:51:08:518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:51:14:5114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-19 23:51:18:5118"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat f87f012e-10bc-4dc0-8639-86bbba076065\u001b[39m","timestamp":"2025-09-19 23:51:19:5119"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:51:32:5132"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (176 tokens)\u001b[39m","timestamp":"2025-09-19 23:51:33:5133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat f87f012e-10bc-4dc0-8639-86bbba076065\u001b[39m","timestamp":"2025-09-19 23:51:36:5136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:51:56:5156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (286 tokens)\u001b[39m","timestamp":"2025-09-19 23:51:58:5158"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat f87f012e-10bc-4dc0-8639-86bbba076065\u001b[39m","timestamp":"2025-09-19 23:51:59:5159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:52:26:5226"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (409 tokens)\u001b[39m","timestamp":"2025-09-19 23:52:28:5228"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat f87f012e-10bc-4dc0-8639-86bbba076065\u001b[39m","timestamp":"2025-09-19 23:52:31:5231"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:53:03:533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (546 tokens)\u001b[39m","timestamp":"2025-09-19 23:53:05:535"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat f87f012e-10bc-4dc0-8639-86bbba076065\u001b[39m","timestamp":"2025-09-19 23:53:07:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-19 23:53:43:5343"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (706 tokens)\u001b[39m","timestamp":"2025-09-19 23:53:45:5345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user user1 in chat f87f012e-10bc-4dc0-8639-86bbba076065\u001b[39m","timestamp":"2025-09-19 23:53:47:5347"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:42:5442"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:43:5443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:43:5443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:43:5443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:43:5443"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:44:5444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:46:5446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf\u001b[39m","timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:46:5446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:46:5446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:47:5447"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:47:5447"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:47:5447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:54:49:5449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: user1, message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf\u001b[39m","timestamp":"2025-09-19 23:54:49:5449"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:49:5449"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, like).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:54:49:5449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:55:39:5539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:55:39:5539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf user: user1\u001b[39m","timestamp":"2025-09-19 23:55:42:5542"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: user1, message: 2a82911e-7c5f-4f5d-8e8b-0337613b7cbf\u001b[39m","timestamp":"2025-09-19 23:55:42:5542"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError adding message action: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, dislike).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:55:43:5543"}
{"class":14,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mAdd message action error: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, dislike).\u001b[39m","name":"RequestError","number":2627,"originalError":{"info":{"class":14,"handlerName":"onErrorMessage","lineNumber":2,"message":"Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, dislike).","name":"ERROR","number":2627,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: Violation of UNIQUE KEY constraint 'UQ__MessageA__E073948C67E39057'. Cannot insert duplicate key in object 'dbo.MessageActions'. The duplicate key value is (2a82911e-7c5f-4f5d-8e8b-0337613b7cbf, user1, dislike).\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-19 23:55:43:5543"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: bookmark for message: 1304f0e3-e5a0-4e10-9399-46771b385e7a user: user1\u001b[39m","timestamp":"2025-09-19 23:56:00:560"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: bookmark for user: user1, message: 1304f0e3-e5a0-4e10-9399-46771b385e7a\u001b[39m","timestamp":"2025-09-19 23:56:00:560"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-20 00:09:02:92"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 00:37:23:3723"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 00:37:24:3724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 00:37:25:3725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 00:37:25:3725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:37:25:3725"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:37:29:3729"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Azure services: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:37:29:3729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mContinuing with available mock services\u001b[39m","timestamp":"2025-09-20 00:37:29:3729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 00:37:29:3729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 00:37:29:3729"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:07:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e323df67-09d8-4e51-894e-40b4dc00a200 Correlation ID: be88a558-2c04-4169-91d3-f171a30b55eb Timestamp: 2025-09-19 19:07:32Z - Correlation ID: be88a558-2c04-4169-91d3-f171a30b55eb - Trace ID: e323df67-09d8-4e51-894e-40b4dc00a200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:07:32Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: e323df67-09d8-4e51-894e-40b4dc00a200 Correlation ID: be88a558-2c04-4169-91d3-f171a30b55eb Timestamp: 2025-09-19 19:07:32Z - Correlation ID: be88a558-2c04-4169-91d3-f171a30b55eb - Trace ID: e323df67-09d8-4e51-894e-40b4dc00a200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-20 00:37:33:3733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 00:37:33:3733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 00:37:33:3733"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 00:37:33:3733"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:37:35:3735"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:37:35:3735"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:07:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a25f056-1697-4309-bb45-4805ed8e8300 Correlation ID: 9c5286ee-6e83-4304-8105-3b1d0d18c70d Timestamp: 2025-09-19 19:07:34Z - Correlation ID: 9c5286ee-6e83-4304-8105-3b1d0d18c70d - Trace ID: 4a25f056-1697-4309-bb45-4805ed8e8300"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:07:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a25f056-1697-4309-bb45-4805ed8e8300 Correlation ID: 9c5286ee-6e83-4304-8105-3b1d0d18c70d Timestamp: 2025-09-19 19:07:34Z - Correlation ID: 9c5286ee-6e83-4304-8105-3b1d0d18c70d - Trace ID: 4a25f056-1697-4309-bb45-4805ed8e8300,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:07:34Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 4a25f056-1697-4309-bb45-4805ed8e8300 Correlation ID: 9c5286ee-6e83-4304-8105-3b1d0d18c70d Timestamp: 2025-09-19 19:07:34Z - Correlation ID: 9c5286ee-6e83-4304-8105-3b1d0d18c70d - Trace ID: 4a25f056-1697-4309-bb45-4805ed8e8300,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 00:37:35:3735"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:29)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-09-20 00:38:38:3838"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by ID: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:311:37\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:38:38:3838"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification error: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:311:37\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:38:38:3838"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by ID: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:311:37\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:39:16:3916"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification error: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:311:37\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:39:16:3916"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by ID: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:311:37\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:39:37:3937"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification error: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:311:37\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:39:37:3937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 00:40:59:4059"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 00:41:00:410"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 00:41:01:411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 00:41:02:412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:41:02:412"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:41:06:416"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Azure services: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mContinuing with available mock services\u001b[39m","timestamp":"2025-09-20 00:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 00:41:06:416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 00:41:06:416"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:11:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7d039634-3ee2-451b-b10e-48d906936200 Correlation ID: cf9a07d1-a37b-4e66-83c4-524f80481ba5 Timestamp: 2025-09-19 19:11:10Z - Correlation ID: cf9a07d1-a37b-4e66-83c4-524f80481ba5 - Trace ID: 7d039634-3ee2-451b-b10e-48d906936200\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:11:10Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7d039634-3ee2-451b-b10e-48d906936200 Correlation ID: cf9a07d1-a37b-4e66-83c4-524f80481ba5 Timestamp: 2025-09-19 19:11:10Z - Correlation ID: cf9a07d1-a37b-4e66-83c4-524f80481ba5 - Trace ID: 7d039634-3ee2-451b-b10e-48d906936200\n    at handleMsalError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-20 00:41:10:4110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 00:41:10:4110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 00:41:10:4110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 00:41:10:4110"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:41:12:4112"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:41:12:4112"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:41:12:4112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-20 00:41:12:4112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 00:41:12:4112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:11:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-416474377500 Correlation ID: 795b4e79-f330-482c-abcf-67a1e83e589b Timestamp: 2025-09-19 19:11:12Z - Correlation ID: 795b4e79-f330-482c-abcf-67a1e83e589b - Trace ID: 9aee1cfe-8ff4-4218-8433-416474377500"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:11:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-416474377500 Correlation ID: 795b4e79-f330-482c-abcf-67a1e83e589b Timestamp: 2025-09-19 19:11:12Z - Correlation ID: 795b4e79-f330-482c-abcf-67a1e83e589b - Trace ID: 9aee1cfe-8ff4-4218-8433-416474377500,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:11:12Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9aee1cfe-8ff4-4218-8433-416474377500 Correlation ID: 795b4e79-f330-482c-abcf-67a1e83e589b Timestamp: 2025-09-19 19:11:12Z - Correlation ID: 795b4e79-f330-482c-abcf-67a1e83e589b - Trace ID: 9aee1cfe-8ff4-4218-8433-416474377500,\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 00:41:13:4113"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by ID: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:312:39\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:41:47:4147"}
{"code":"ECONNCLOSED","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mDatabase not available, returning mock user data: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:312:39\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:41:47:4147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mToken verification failed: jwt malformed\u001b[39m","name":"JsonWebTokenError","stack":"JsonWebTokenError: jwt malformed\n    at Object.module.exports [as verify] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:30:29)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-09-20 00:42:07:427"}
{"code":"ECONNCLOSED","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError getting user by ID: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:312:39\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:42:07:427"}
{"code":"ECONNCLOSED","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mDatabase not available, returning mock user data: Connection is closed.\u001b[39m","name":"ConnectionError","stack":"ConnectionError: Connection is closed.\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:497:37)\n    at Request._query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:363:11)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:461:12\n    at new Promise (<anonymous>)\n    at Request.query (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\base\\request.js:460:12)\n    at getUserById (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:437:8)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\auth.ts:312:39\n    at Layer.handle [as handle_request] (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at authenticateToken (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\middleware\\auth.ts:49:12)","timestamp":"2025-09-20 00:42:07:427"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 00:44:50:4450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 00:44:51:4451"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 00:44:52:4452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 00:44:52:4452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 00:44:52:4452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 00:44:52:4452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 00:44:53:4453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:44:53:4453"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize SQL Database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:44:55:4455"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Azure services: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mContinuing with available mock services\u001b[39m","timestamp":"2025-09-20 00:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 00:44:55:4455"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 00:44:55:4455"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:14:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-214166d97000 Correlation ID: a58a363f-a044-49b9-a079-9602c7be3ca6 Timestamp: 2025-09-19 19:14:59Z - Correlation ID: a58a363f-a044-49b9-a079-9602c7be3ca6 - Trace ID: 9e97f75f-799d-467f-a84c-214166d97000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:14:59Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-214166d97000 Correlation ID: a58a363f-a044-49b9-a079-9602c7be3ca6 Timestamp: 2025-09-19 19:14:59Z - Correlation ID: a58a363f-a044-49b9-a079-9602c7be3ca6 - Trace ID: 9e97f75f-799d-467f-a84c-214166d97000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-20 00:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 00:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 00:45:00:450"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 00:45:00:450"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:45:02:452"}
{"code":"ELOGIN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:45:02:452"}
{"code":"ELOGIN","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\u001b[39m","name":"ConnectionError","originalError":{"code":"ELOGIN"},"stack":"ConnectionError: Cannot open server 'aivaserver' requested by the login. Client with IP address '152.57.159.42' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.\n    at connectListener (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:3407:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 18 configurations from environment\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:15:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-21419bd97000 Correlation ID: b1e7dcbb-606c-492c-ba9d-c1607941ec47 Timestamp: 2025-09-19 19:15:01Z - Correlation ID: b1e7dcbb-606c-492c-ba9d-c1607941ec47 - Trace ID: 9e97f75f-799d-467f-a84c-21419bd97000"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:15:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-21419bd97000 Correlation ID: b1e7dcbb-606c-492c-ba9d-c1607941ec47 Timestamp: 2025-09-19 19:15:01Z - Correlation ID: b1e7dcbb-606c-492c-ba9d-c1607941ec47 - Trace ID: 9e97f75f-799d-467f-a84c-21419bd97000,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:15:01Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-21419bd97000 Correlation ID: b1e7dcbb-606c-492c-ba9d-c1607941ec47 Timestamp: 2025-09-19 19:15:01Z - Correlation ID: b1e7dcbb-606c-492c-ba9d-c1607941ec47 - Trace ID: 9e97f75f-799d-467f-a84c-21419bd97000,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 00:45:02:452"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 00:46:24:4624"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 00:46:25:4625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 00:46:25:4625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 00:46:25:4625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 00:46:25:4625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 00:46:26:4626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:46:26:4626"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 00:46:38:4638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 00:46:38:4638"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:16:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036efcb17900 Correlation ID: f0cb48fb-b55b-482f-a661-46cf919270dc Timestamp: 2025-09-19 19:16:38Z - Correlation ID: f0cb48fb-b55b-482f-a661-46cf919270dc - Trace ID: f0e3b283-68fd-48fa-a682-036efcb17900"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:16:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036efcb17900 Correlation ID: f0cb48fb-b55b-482f-a661-46cf919270dc Timestamp: 2025-09-19 19:16:38Z - Correlation ID: f0cb48fb-b55b-482f-a661-46cf919270dc - Trace ID: f0e3b283-68fd-48fa-a682-036efcb17900,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:16:38Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: f0e3b283-68fd-48fa-a682-036efcb17900 Correlation ID: f0cb48fb-b55b-482f-a661-46cf919270dc Timestamp: 2025-09-19 19:16:38Z - Correlation ID: f0cb48fb-b55b-482f-a661-46cf919270dc - Trace ID: f0e3b283-68fd-48fa-a682-036efcb17900,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 00:46:39:4639"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:16:42Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-2141b0e67000 Correlation ID: 52503a01-e9e6-49e1-9553-3b6325388e05 Timestamp: 2025-09-19 19:16:42Z - Correlation ID: 52503a01-e9e6-49e1-9553-3b6325388e05 - Trace ID: 9e97f75f-799d-467f-a84c-2141b0e67000\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:16:42Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 9e97f75f-799d-467f-a84c-2141b0e67000 Correlation ID: 52503a01-e9e6-49e1-9553-3b6325388e05 Timestamp: 2025-09-19 19:16:42Z - Correlation ID: 52503a01-e9e6-49e1-9553-3b6325388e05 - Trace ID: 9e97f75f-799d-467f-a84c-2141b0e67000\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-20 00:46:42:4642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 00:46:42:4642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 00:46:42:4642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 00:46:42:4642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 00:46:45:4645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 00:47:12:4712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 00:47:13:4713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 00:47:13:4713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 00:47:13:4713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 00:47:13:4713"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:17:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b382dcd6-bcc2-4d5d-ac15-10f77bed2600 Correlation ID: fbe85392-103b-4142-ae61-1133266bc6b8 Timestamp: 2025-09-19 19:17:13Z - Correlation ID: fbe85392-103b-4142-ae61-1133266bc6b8 - Trace ID: b382dcd6-bcc2-4d5d-ac15-10f77bed2600"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:17:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b382dcd6-bcc2-4d5d-ac15-10f77bed2600 Correlation ID: fbe85392-103b-4142-ae61-1133266bc6b8 Timestamp: 2025-09-19 19:17:13Z - Correlation ID: fbe85392-103b-4142-ae61-1133266bc6b8 - Trace ID: b382dcd6-bcc2-4d5d-ac15-10f77bed2600,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:17:13Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: b382dcd6-bcc2-4d5d-ac15-10f77bed2600 Correlation ID: fbe85392-103b-4142-ae61-1133266bc6b8 Timestamp: 2025-09-19 19:17:13Z - Correlation ID: fbe85392-103b-4142-ae61-1133266bc6b8 - Trace ID: b382dcd6-bcc2-4d5d-ac15-10f77bed2600,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-20 00:47:31:4731"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 00:48:12:4812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 00:48:14:4814"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 00:48:15:4815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 00:48:15:4815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:48:15:4815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 00:48:29:4829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 00:48:29:4829"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:18:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0974dc100 Correlation ID: dd3b656a-5b84-4d37-8f6b-81d57d904a42 Timestamp: 2025-09-19 19:18:29Z - Correlation ID: dd3b656a-5b84-4d37-8f6b-81d57d904a42 - Trace ID: d9f34b73-3436-469a-be4f-ead0974dc100"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:18:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0974dc100 Correlation ID: dd3b656a-5b84-4d37-8f6b-81d57d904a42 Timestamp: 2025-09-19 19:18:29Z - Correlation ID: dd3b656a-5b84-4d37-8f6b-81d57d904a42 - Trace ID: d9f34b73-3436-469a-be4f-ead0974dc100,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:18:29Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: d9f34b73-3436-469a-be4f-ead0974dc100 Correlation ID: dd3b656a-5b84-4d37-8f6b-81d57d904a42 Timestamp: 2025-09-19 19:18:29Z - Correlation ID: dd3b656a-5b84-4d37-8f6b-81d57d904a42 - Trace ID: d9f34b73-3436-469a-be4f-ead0974dc100,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 00:48:30:4830"}
{"getTokenOptions":{"enableCae":true,"requestOptions":{},"tenantId":"53be55ec-4183-4a38-8c83-8e6e12e2318a","tracingOptions":{"tracingContext":{"_contextMap":{}}}},"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:18:33Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7bc6c1ef-984a-411e-b455-d5ffb40f6d00 Correlation ID: 48b4e190-c0f8-4cb6-abcf-aa91a0f90622 Timestamp: 2025-09-19 19:18:33Z - Correlation ID: 48b4e190-c0f8-4cb6-abcf-aa91a0f90622 - Trace ID: 7bc6c1ef-984a-411e-b455-d5ffb40f6d00\u001b[39m","name":"AuthenticationRequiredError","scopes":["https://vault.azure.net/.default"],"stack":"AuthenticationRequiredError: invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:18:33Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 7bc6c1ef-984a-411e-b455-d5ffb40f6d00 Correlation ID: 48b4e190-c0f8-4cb6-abcf-aa91a0f90622 Timestamp: 2025-09-19 19:18:33Z - Correlation ID: 48b4e190-c0f8-4cb6-abcf-aa91a0f90622 - Trace ID: 7bc6c1ef-984a-411e-b455-d5ffb40f6d00\n    at handleMsalError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\utils.ts:222:10)\n    at Object.getTokenByClientSecret (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\msal\\nodeFlows\\msalClient.ts:569:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:73:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\tokenCycler.ts:84:35)\n    at async handleChallenge (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:176:25)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-common\\src\\keyVaultAuthenticationPolicy.ts:252:16)\n    at async sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\sendRequest.ts:42:22)\n    at async Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:119:13)","timestamp":"2025-09-20 00:48:33:4833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 00:48:33:4833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 00:48:33:4833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 00:48:33:4833"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 00:48:36:4836"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 00:49:08:498"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 00:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 00:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 00:49:09:499"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 00:49:09:499"}
{"errorResponse":{"error":"EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.","errorDescription":"invalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:19:09Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc15f2e7600 Correlation ID: aead700f-9a49-4ec3-94d8-83b5aa12f80e Timestamp: 2025-09-19 19:19:09Z - Correlation ID: aead700f-9a49-4ec3-94d8-83b5aa12f80e - Trace ID: 77c9db1d-23a7-4a08-8524-9dc15f2e7600"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\u001b[39m\n\u001b[31mMore details:\u001b[39m\n\u001b[31minvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:19:09Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc15f2e7600 Correlation ID: aead700f-9a49-4ec3-94d8-83b5aa12f80e Timestamp: 2025-09-19 19:19:09Z - Correlation ID: aead700f-9a49-4ec3-94d8-83b5aa12f80e - Trace ID: 77c9db1d-23a7-4a08-8524-9dc15f2e7600,\u001b[39m","name":"AuthenticationError","stack":"AuthenticationError: EnvironmentCredential authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot. Status code: 400\nMore details:\ninvalid_client: Error(s): 7000215 - Timestamp: 2025-09-19 19:19:09Z - Description: AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '613e41ad-ed10-491c-8788-b42f488aaa29'. Trace ID: 77c9db1d-23a7-4a08-8524-9dc15f2e7600 Correlation ID: aead700f-9a49-4ec3-94d8-83b5aa12f80e Timestamp: 2025-09-19 19:19:09Z - Correlation ID: aead700f-9a49-4ec3-94d8-83b5aa12f80e - Trace ID: 77c9db1d-23a7-4a08-8524-9dc15f2e7600,\n    at C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\environmentCredential.ts:161:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:79:21\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async DefaultAzureCredential.getToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\identity\\src\\credentials\\chainedTokenCredential.ts:61:23)\n    at async tryGetAccessToken (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:71:26)\n    at async beginRefresh (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\util\\tokenCycler.ts:82:35)\n    at async Object.defaultAuthorizeRequest [as authorizeRequest] (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:141:23)\n    at async Object.sendRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-rest-pipeline\\src\\policies\\bearerTokenAuthenticationPolicy.ts:228:7)","statusCode":400,"timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 00:49:10:4910"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 00:50:05:505"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 00:50:24:5024"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 00:50:36:5036"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: a533291c-2e4c-4b98-b8db-91274dca1c57 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 00:50:43:5043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 00:50:54:5054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-20 00:50:57:5057"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat a533291c-2e4c-4b98-b8db-91274dca1c57\u001b[39m","timestamp":"2025-09-20 00:50:58:5058"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 00:51:26:5126"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (184 tokens)\u001b[39m","timestamp":"2025-09-20 00:51:27:5127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat a533291c-2e4c-4b98-b8db-91274dca1c57\u001b[39m","timestamp":"2025-09-20 00:51:29:5129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 00:52:19:5219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (328 tokens)\u001b[39m","timestamp":"2025-09-20 00:52:21:5221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 2212374c-2654-4fe9-bcc9-e37c98de8cdf user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 00:52:22:5222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat a533291c-2e4c-4b98-b8db-91274dca1c57\u001b[39m","timestamp":"2025-09-20 00:52:23:5223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 2212374c-2654-4fe9-bcc9-e37c98de8cdf user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 00:52:25:5225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD, message: 2212374c-2654-4fe9-bcc9-e37c98de8cdf\u001b[39m","timestamp":"2025-09-20 00:52:25:5225"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: like for message: 1643bebb-63aa-4343-ba53-7a92cf127754 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 00:52:48:5248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for message: 1643bebb-63aa-4343-ba53-7a92cf127754 user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 00:52:50:5250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: dislike for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD, message: 1643bebb-63aa-4343-ba53-7a92cf127754\u001b[39m","timestamp":"2025-09-20 00:52:50:5250"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 01:22:32:2232"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 01:22:33:2233"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 01:22:34:2234"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 01:22:35:2235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 01:22:35:2235"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 01:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 01:22:44:2244"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 01:22:44:2244"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Fri, 19 Sep 2025 19:52:45 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:4ce03532-301e-003d-719e-29dbc2000000\nTime:2025-09-19T19:52:45.6806745Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"addfbb2b-01f4-42d0-a142-5641385e7919","x-ms-request-id":"4ce03532-301e-003d-719e-29dbc2000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Failed to initialize Blob Storage: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:4ce03532-301e-003d-719e-29dbc2000000\u001b[39m\n\u001b[31mTime:2025-09-19T19:52:45.6806745Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:4ce03532-301e-003d-719e-29dbc2000000\nTime:2025-09-19T19:52:45.6806745Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async initializeBlobStorage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\azure.ts:270:5)","statusCode":409,"timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock Blob Storage\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Mock Blob Storage initialized as fallback\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 01:22:46:2246"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 01:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 01:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 01:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 01:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 01:22:53:2253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 01:23:17:2317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 01:23:18:2318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 01:23:18:2318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 01:23:18:2318"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 01:23:18:2318"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Fri, 19 Sep 2025 19:53:18 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:4ce087a5-301e-003d-0f9f-29dbc2000000\nTime:2025-09-19T19:53:18.0890861Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"93c3455c-4fae-4167-af0a-8b5a7ee1f5b9","x-ms-request-id":"4ce087a5-301e-003d-0f9f-29dbc2000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:4ce087a5-301e-003d-0f9f-29dbc2000000\u001b[39m\n\u001b[31mTime:2025-09-19T19:53:18.0890861Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:4ce087a5-301e-003d-0f9f-29dbc2000000\nTime:2025-09-19T19:53:18.0890861Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.initializeContainer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:93:7)","statusCode":409,"timestamp":"2025-09-20 01:23:18:2318"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 01:23:50:2350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 01:23:51:2351"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 01:23:52:2352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 01:23:52:2352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 01:23:52:2352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 01:23:53:2353"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 01:23:54:2354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 01:23:54:2354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 01:24:05:245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 01:24:05:245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 01:24:05:245"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 01:24:07:247"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 01:24:11:2411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 01:24:11:2411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 01:24:11:2411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 01:24:11:2411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 01:24:12:2412"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 01:24:37:2437"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 01:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 01:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 01:24:38:2438"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 01:24:38:2438"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Fri, 19 Sep 2025 19:54:37 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:5f051726-301e-005b-6b9f-296998000000\nTime:2025-09-19T19:54:38.1838174Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"4b0795fa-2475-4d57-84c9-fb5186281b7e","x-ms-request-id":"5f051726-301e-005b-6b9f-296998000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:5f051726-301e-005b-6b9f-296998000000\u001b[39m\n\u001b[31mTime:2025-09-19T19:54:38.1838174Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:5f051726-301e-005b-6b9f-296998000000\nTime:2025-09-19T19:54:38.1838174Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.initializeContainer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:93:7)","statusCode":409,"timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 01:24:39:2439"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 01:25:10:2510"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 01:25:11:2511"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 01:25:12:2512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 01:25:12:2512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 01:25:12:2512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 01:25:12:2512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 01:25:13:2513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 01:25:13:2513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 01:25:23:2523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 01:25:23:2523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 01:25:23:2523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 01:25:25:2525"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 01:25:29:2529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 01:25:29:2529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 01:25:29:2529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 01:25:29:2529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 01:25:31:2531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 01:25:56:2556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Fri, 19 Sep 2025 19:55:57 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:6a0882b6-e01e-0016-249f-29af7a000000\nTime:2025-09-19T19:55:57.6495335Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"daee9b50-a2d8-47b2-993b-7a11ab172ee4","x-ms-request-id":"6a0882b6-e01e-0016-249f-29af7a000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:6a0882b6-e01e-0016-249f-29af7a000000\u001b[39m\n\u001b[31mTime:2025-09-19T19:55:57.6495335Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:6a0882b6-e01e-0016-249f-29af7a000000\nTime:2025-09-19T19:55:57.6495335Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.initializeContainer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:93:7)","statusCode":409,"timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 01:25:58:2558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 01:28:08:288"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 01:28:23:2823"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 01:28:29:2829"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: f58b2816-8684-470f-9ad7-bd2c01fcb617 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 01:28:34:2834"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 01:28:42:2842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (129 tokens)\u001b[39m","timestamp":"2025-09-20 01:28:44:2844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat f58b2816-8684-470f-9ad7-bd2c01fcb617\u001b[39m","timestamp":"2025-09-20 01:28:45:2845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 01:28:53:2853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (158 tokens)\u001b[39m","timestamp":"2025-09-20 01:28:53:2853"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat f58b2816-8684-470f-9ad7-bd2c01fcb617\u001b[39m","timestamp":"2025-09-20 01:28:54:2854"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/c6e2791d-dfbd-49d8-9fc8-91136f6b8bd4-Screenshot 2025-05-09 165639.png by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 01:29:24:2924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 01:29:46:2946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (217 tokens)\u001b[39m","timestamp":"2025-09-20 01:29:46:2946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat f58b2816-8684-470f-9ad7-bd2c01fcb617\u001b[39m","timestamp":"2025-09-20 01:29:47:2947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/28d4a02f-056e-42e6-bf6b-633e7a54ad15-Screenshot 2025-05-09 165244.png by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 01:30:43:3043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 01:31:09:319"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (291 tokens)\u001b[39m","timestamp":"2025-09-20 01:31:10:3110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat f58b2816-8684-470f-9ad7-bd2c01fcb617\u001b[39m","timestamp":"2025-09-20 01:31:11:3111"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 12:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 12:19:58:1958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 12:19:58:1958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 12:19:58:1958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 12:19:58:1958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 12:19:58:1958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 12:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 12:20:00:200"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 12:20:01:201"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:20:01:201"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 12:20:16:2016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 12:20:16:2016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 12:20:16:2016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 12:20:18:2018"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 12:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 12:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 12:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 12:20:25:2025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 12:20:27:2027"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 12:20:59:2059"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Sat, 20 Sep 2025 06:51:01 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:7ca88e59-a01e-0033-65fa-2937c9000000\nTime:2025-09-20T06:51:01.4608872Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"30d7d716-0315-414e-ba23-10a10717fbe3","x-ms-request-id":"7ca88e59-a01e-0033-65fa-2937c9000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:7ca88e59-a01e-0033-65fa-2937c9000000\u001b[39m\n\u001b[31mTime:2025-09-20T06:51:01.4608872Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:7ca88e59-a01e-0033-65fa-2937c9000000\nTime:2025-09-20T06:51:01.4608872Z\n    at handleErrorResponse (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.initializeContainer (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:93:7)","statusCode":409,"timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 12:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 12:25:04:254"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 63cea9aa-f37c-4d41-bd91-01a920defe24 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 12:25:16:2516"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 12:25:26:2526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (129 tokens)\u001b[39m","timestamp":"2025-09-20 12:25:29:2529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 63cea9aa-f37c-4d41-bd91-01a920defe24\u001b[39m","timestamp":"2025-09-20 12:25:30:2530"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/7db2fb3d-b5f2-4943-bfb2-9f02c6aed488-Screenshot 2025-05-09 165244.png by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 12:25:52:2552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/95e7a3eb-358d-45e6-8bb4-c78a2ebd2238-Screenshot 2025-05-09 165244.png by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 12:26:11:2611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 12:26:51:2651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (211 tokens)\u001b[39m","timestamp":"2025-09-20 12:26:52:2652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 63cea9aa-f37c-4d41-bd91-01a920defe24\u001b[39m","timestamp":"2025-09-20 12:26:54:2654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/5d669652-2d71-4cea-a5fc-697db2d1cf28-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 12:29:32:2932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 12:29:59:2959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (266 tokens)\u001b[39m","timestamp":"2025-09-20 12:30:02:302"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 63cea9aa-f37c-4d41-bd91-01a920defe24\u001b[39m","timestamp":"2025-09-20 12:30:03:303"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 12:35:50:3550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 12:35:51:3551"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 12:35:52:3552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 12:35:52:3552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 12:35:52:3552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 12:35:53:3553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 12:35:54:3554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:35:54:3554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 12:36:08:368"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 12:36:08:368"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 12:36:08:368"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 12:36:11:3611"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 12:36:17:3617"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 12:36:17:3617"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 12:36:17:3617"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 12:36:17:3617"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 12:36:19:3619"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 12:36:54:3654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Sat, 20 Sep 2025 07:06:55 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:6d119f06-101e-0047-59fd-29b18f000000\nTime:2025-09-20T07:06:56.2506794Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"27c0227a-79e9-41ab-b013-9584763d82f5","x-ms-request-id":"6d119f06-101e-0047-59fd-29b18f000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:6d119f06-101e-0047-59fd-29b18f000000\u001b[39m\n\u001b[31mTime:2025-09-20T07:06:56.2506794Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:6d119f06-101e-0047-59fd-29b18f000000\nTime:2025-09-20T07:06:56.2506794Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.initializeContainer (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:93:7)","statusCode":409,"timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 12:36:56:3656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 12:39:43:3943"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 12:39:44:3944"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 12:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 12:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 12:39:45:3945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 12:39:46:3946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 12:39:46:3946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:39:46:3946"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 12:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 12:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 12:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 12:40:02:402"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 12:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 12:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 12:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 12:40:08:408"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 12:40:10:4010"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 12:40:44:4044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"code":"PublicAccessNotPermitted","details":{"code":"PublicAccessNotPermitted","content-length":"248","content-type":"application/xml","date":"Sat, 20 Sep 2025 07:10:45 GMT","errorCode":"PublicAccessNotPermitted","message":"Public access is not permitted on this storage account.\nRequestId:f7c69c8e-701e-005c-3efd-299f1d000000\nTime:2025-09-20T07:10:46.4758950Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"79394878-2f7c-48b1-8a33-36fb3b46ddf5","x-ms-request-id":"f7c69c8e-701e-005c-3efd-299f1d000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to initialize storage container: Public access is not permitted on this storage account.\u001b[39m\n\u001b[31mRequestId:f7c69c8e-701e-005c-3efd-299f1d000000\u001b[39m\n\u001b[31mTime:2025-09-20T07:10:46.4758950Z\u001b[39m","name":"RestError","stack":"RestError: Public access is not permitted on this storage account.\nRequestId:f7c69c8e-701e-005c-3efd-299f1d000000\nTime:2025-09-20T07:10:46.4758950Z\n    at handleErrorResponse (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:765:9\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:786:23\n    at async Object.withSpan (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.initializeContainer (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:93:7)","statusCode":409,"timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFalling back to mock storage mode\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 12:40:46:4046"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 12:50:23:5023"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 12:50:25:5025"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 12:50:26:5026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 12:50:26:5026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 12:50:26:5026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 12:50:28:5028"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 12:50:30:5030"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:50:30:5030"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 12:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 12:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 12:50:44:5044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 12:50:46:5046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSIGINT received, shutting down gracefully\u001b[39m","timestamp":"2025-09-20 12:50:49:5049"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 12:50:51:5051"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 12:50:51:5051"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 12:50:51:5051"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 12:50:51:5051"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 12:50:53:5053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 12:51:28:5128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 12:51:29:5129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 12:51:29:5129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 12:51:29:5129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 12:51:29:5129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 12:51:30:5130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 12:54:52:5452"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 5ffa7af8-2300-444b-9259-02bb797fee47 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 12:55:03:553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 12:55:17:5517"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-20 12:55:19:5519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 5ffa7af8-2300-444b-9259-02bb797fee47\u001b[39m","timestamp":"2025-09-20 12:55:21:5521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/653c69e7-1108-483b-8047-51f10b7dc204-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 12:56:00:560"}
{"errors":["Body: \"files\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 12:56:00:560","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/7ebdd4e9-6670-498a-bd22-f731a91f59e1-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 12:58:27:5827"}
{"errors":["Body: \"files\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 12:58:27:5827","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 13:09:32:932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 13:09:34:934"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 13:09:35:935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 13:09:35:935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 13:09:35:935"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 13:09:36:936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 13:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 13:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 13:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 13:09:49:949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 13:09:51:951"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 13:09:56:956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 13:09:56:956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 13:09:56:956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 13:09:56:956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 13:09:58:958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 13:10:31:1031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 13:10:32:1032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 13:10:32:1032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 13:10:32:1032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 13:10:32:1032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 13:10:33:1033"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 13:22:20:2220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 13:22:22:2222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 13:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 13:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 13:22:23:2223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 13:22:24:2224"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 13:22:26:2226"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 13:22:26:2226"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:22:26:2226"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 13:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 13:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 13:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 13:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 13:22:41:2241"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 13:22:42:2242"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 13:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 13:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 13:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 13:22:48:2248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 13:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 13:23:23:2323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 13:23:25:2325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 13:28:08:288"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 13:28:09:289"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 13:28:10:2810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 13:28:10:2810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 13:28:10:2810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 13:28:11:2811"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 13:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 13:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:28:12:2812"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 13:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 13:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 13:28:30:2830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 13:28:32:2832"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 13:28:49:2849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 13:28:49:2849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 13:28:49:2849"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 13:28:49:2849"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Connection lost - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Connection lost - read ECONNRESET\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1764:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:530:35)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2313:12)\n    at Socket.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-20 13:28:57:2857"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Connection lost - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Connection lost - read ECONNRESET\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1764:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:530:35)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2313:12)\n    at Socket.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-20 13:28:57:2857"}
{"code":"ESOCKET","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Connection lost - read ECONNRESET\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Connection lost - read ECONNRESET\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1764:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:530:35)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2313:12)\n    at Socket.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1995:42)\n    at Socket.emit (node:events:530:35)\n    at Socket.emit (node:domain:489:12)","timestamp":"2025-09-20 13:28:57:2857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 19 configurations from environment\u001b[39m","timestamp":"2025-09-20 13:28:57:2857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 13:28:57:2857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 13:28:57:2857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 13:29:00:290"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAnalyzing file: test.txt for user: test-user-id\u001b[39m","timestamp":"2025-09-20 13:33:45:3345"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAnalyzing file: test.txt\u001b[39m","timestamp":"2025-09-20 13:33:45:3345"}
{"code":"BlobNotFound","details":{"code":"BlobNotFound","content-length":"215","content-type":"application/xml","date":"Sat, 20 Sep 2025 08:03:46 GMT","errorCode":"BlobNotFound","message":"The specified blob does not exist.\nRequestId:636c92bc-401e-0010-0105-2a5802000000\nTime:2025-09-20T08:03:47.3695049Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"dffd3b20-2058-44a1-9822-4f20cec393e5","x-ms-request-id":"636c92bc-401e-0010-0105-2a5802000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFile content read error: The specified blob does not exist.\u001b[39m\n\u001b[31mRequestId:636c92bc-401e-0010-0105-2a5802000000\u001b[39m\n\u001b[31mTime:2025-09-20T08:03:47.3695049Z\u001b[39m","name":"RestError","stack":"RestError: The specified blob does not exist.\nRequestId:636c92bc-401e-0010-0105-2a5802000000\nTime:2025-09-20T08:03:47.3695049Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\Clients.ts:1251:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.getFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:189:32)\n    at async FileAnalysisService.analyzeFile (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:48:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\fileAnalysis.ts:30:20","statusCode":404,"timestamp":"2025-09-20 13:33:47:3347"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to analyze file test.txt: Failed to read file content\u001b[39m","stack":"Error: Failed to read file content\n    at StorageService.getFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:194:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async FileAnalysisService.analyzeFile (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:48:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\fileAnalysis.ts:30:20","timestamp":"2025-09-20 13:33:47:3347"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFile analysis error: Failed to analyze file: Failed to read file content\u001b[39m","stack":"Error: Failed to analyze file: Failed to read file content\n    at FileAnalysisService.analyzeFile (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:79:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\fileAnalysis.ts:30:20","timestamp":"2025-09-20 13:33:47:3347"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 13:35:00:350"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 13:35:02:352"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 13:35:03:353"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 13:35:03:353"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 13:35:03:353"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 13:35:04:354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 13:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 13:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:35:05:355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 13:35:18:3518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 13:35:18:3518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 13:35:18:3518"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 13:35:21:3521"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 13:35:26:3526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 13:35:26:3526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 13:35:26:3526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 13:35:26:3526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 13:35:29:3529"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 13:36:00:360"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 13:36:02:362"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 13:36:48:3648"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError creating file record: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 13:37:25:3725"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mFile upload error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 13:37:25:3725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 39275f2e-d078-4f0d-b661-f1768cf82696 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 13:37:42:3742"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: e6e8eb8e-595c-401d-96a9-fab5c4c2d95e for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 13:37:45:3745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/02ab32a0-9f64-488c-ac1a-44398cee7e35-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 13:38:10:3810"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/9008e203-634c-474d-a714-e2a4b5d17409-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 13:38:11:3811"}
{"errors":["Body: \"files\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 13:38:11:3811","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 13:38:27:3827"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-20 13:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat e6e8eb8e-595c-401d-96a9-fab5c4c2d95e\u001b[39m","timestamp":"2025-09-20 13:38:32:3832"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 13:46:37:4637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 13:46:39:4639"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 13:46:41:4641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 13:46:41:4641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 13:46:41:4641"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 13:46:43:4643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 13:46:45:4645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 13:46:45:4645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:46:45:4645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 13:46:58:4658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 13:46:58:4658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 13:46:58:4658"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 13:47:01:471"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 13:47:06:476"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 13:47:06:476"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 13:47:06:476"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 13:47:06:476"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 13:47:08:478"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 13:47:39:4739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 13:47:40:4740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 13:47:40:4740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 13:47:40:4740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 13:47:40:4740"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 13:47:41:4741"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 13:48:12:4812"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mError creating file record: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 13:49:24:4924"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mFile upload error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Files__chatId__1332DBDC\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 13:49:24:4924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 1f1942ba-db2d-44ed-a0dd-d116b918d055 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 13:49:45:4945"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 06779418-4b2f-480c-9d08-8072b070ded4 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 13:49:49:4949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/6d898b9e-5cce-4f0c-a469-a5407654ed93-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 13:50:16:5016"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/f6122df9-11b1-4fe8-a8db-536e54b1a29c-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 13:50:17:5017"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 13:50:21:5021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (480 tokens)\u001b[39m","timestamp":"2025-09-20 13:50:24:5024"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 06779418-4b2f-480c-9d08-8072b070ded4\u001b[39m","timestamp":"2025-09-20 13:50:26:5026"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: 3d962fce-f2f8-4dbf-a44f-367b6a1fd0fd user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 13:56:19:5619"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: 3d962fce-f2f8-4dbf-a44f-367b6a1fd0fd user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 13:56:21:5621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD, message: 3d962fce-f2f8-4dbf-a44f-367b6a1fd0fd\u001b[39m","timestamp":"2025-09-20 13:56:21:5621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 13:56:48:5648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 13:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 13:56:52:5652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 13:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 13:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 13:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 13:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 13:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 13:57:13:5713"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 13:57:19:5719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 13:57:19:5719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 13:57:19:5719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 13:57:19:5719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 13:57:21:5721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 13:57:53:5753"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 13:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 13:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 13:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 13:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 13:57:55:5755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 13:58:52:5852"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 13:59:03:593"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 13:59:12:5912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: ed67621c-042e-4dad-988e-0a3ce1dbc775 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 13:59:18:5918"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 13:59:28:5928"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-20 13:59:30:5930"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat ed67621c-042e-4dad-988e-0a3ce1dbc775\u001b[39m","timestamp":"2025-09-20 13:59:32:5932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/e71af41d-50c5-44c6-a4be-502cbc158793-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 14:00:10:010"}
{"errors":["Body: \"files[0].fileName\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 14:00:10:010","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 3a1b7f0d-d62a-4e96-9f93-3b6608d92bc8 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 14:00:21:021"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 6ee47742-6414-487b-9f7c-02fe644004d5 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 14:00:25:025"}
{"code":"ENOTFOUND","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFile upload error: getaddrinfo ENOTFOUND storageaiva.blob.core.windows.net\u001b[39m","name":"RestError","stack":"RestError: getaddrinfo ENOTFOUND storageaiva.blob.core.windows.net\n    at ClientRequest.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@typespec\\ts-http-runtime\\src\\nodeHttpClient.ts:242:11)\n    at Object.onceWrapper (node:events:633:26)\n    at ClientRequest.emit (node:events:518:28)\n    at ClientRequest.emit (node:domain:489:12)\n    at emitErrorEvent (node:_http_client:104:11)\n    at TLSSocket.socketErrorListener (node:_http_client:518:5)\n    at TLSSocket.emit (node:events:518:28)\n    at TLSSocket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-09-20 14:01:05:15"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 14:07:02:72"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 14:07:03:73"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 14:07:04:74"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 14:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 14:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:07:05:75"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 14:07:22:722"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 14:07:22:722"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 14:07:22:722"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 14:07:24:724"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 14:07:31:731"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 14:07:31:731"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 14:07:31:731"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 14:07:31:731"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 14:07:34:734"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 14:08:07:87"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 14:08:08:88"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 14:08:08:88"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 14:08:08:88"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 14:08:08:88"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 14:08:09:89"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 14:12:17:1217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 14:12:18:1218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 14:12:18:1218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 14:12:18:1218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 14:12:18:1218"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 14:12:36:1236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 14:12:36:1236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 14:12:36:1236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 14:12:39:1239"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 14:12:53:1253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 14:12:53:1253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 14:12:53:1253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 14:12:53:1253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 14:12:56:1256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 14:15:23:1523"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 14:15:38:1538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 4b7f0af9-5830-4204-a2e4-ae9db5b1743b for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 14:15:45:1545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 14:15:53:1553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-20 14:15:56:1556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 4b7f0af9-5830-4204-a2e4-ae9db5b1743b\u001b[39m","timestamp":"2025-09-20 14:15:58:1558"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/52df5adf-12c7-4321-a1fd-982f0937d066-tt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 14:16:47:1647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracting content from file: undefined\u001b[39m","timestamp":"2025-09-20 14:16:51:1651"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFile content read error: Cannot read properties of undefined (reading 'split')\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'split')\n    at EscapePath (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\utils\\utils.common.ts:920:26)\n    at ContainerClient.getBlobClient (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\ContainerClient.ts:840:63)\n    at StorageService.getFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:187:42)\n    at FileAnalysisService.extractFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:171:53)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\chat.ts:428:53\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 14:16:51:1651"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to extract content from file undefined: Failed to read file content\u001b[39m","stack":"Error: Failed to read file content\n    at StorageService.getFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:194:13)\n    at FileAnalysisService.extractFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:171:53)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\chat.ts:428:53\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-20 14:16:51:1651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to read content for file tt.txt: Failed to extract file content: Failed to read file content\u001b[39m","stack":"Error: Failed to extract file content: Failed to read file content\n    at FileAnalysisService.extractFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:185:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\chat.ts:428:27","timestamp":"2025-09-20 14:16:51:1651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 14:16:53:1653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (245 tokens)\u001b[39m","timestamp":"2025-09-20 14:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 4b7f0af9-5830-4204-a2e4-ae9db5b1743b\u001b[39m","timestamp":"2025-09-20 14:16:56:1656"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 14:22:49:2249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 14:22:51:2251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 14:22:52:2252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 14:22:53:2253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 14:22:53:2253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:22:53:2253"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 14:23:08:238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 14:23:08:238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 14:23:08:238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 14:23:11:2311"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 14:23:17:2317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 14:23:17:2317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 14:23:17:2317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 14:23:17:2317"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 14:23:20:2320"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 14:23:54:2354"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 14:23:55:2355"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 14:36:21:3621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 14:36:24:3624"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 14:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 14:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 14:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 14:36:27:3627"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 14:36:28:3628"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 14:36:28:3628"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:36:28:3628"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 14:36:40:3640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 14:36:40:3640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 14:36:40:3640"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 14:36:42:3642"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 14:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 14:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 14:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 14:36:47:3647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 14:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 14:37:19:3719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 14:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 14:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 14:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 14:37:21:3721"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 14:37:21:3721"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 14:38:24:3824"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 14:38:26:3826"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 14:38:28:3828"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 14:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 14:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:38:30:3830"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 14:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 14:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 14:38:45:3845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 14:38:47:3847"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 14:38:52:3852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 14:38:52:3852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 14:38:52:3852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 14:38:52:3852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 14:38:54:3854"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 14:39:24:3924"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 14:39:25:3925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 14:39:25:3925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 14:39:25:3925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 14:39:25:3925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 14:39:26:3926"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 15:44:44:4444"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 15:44:46:4446"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 15:44:47:4447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 15:44:47:4447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 15:44:47:4447"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 15:44:48:4448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 15:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 15:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 15:44:49:4449"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 15:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 15:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 15:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 15:45:15:4515"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 15:45:22:4522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 15:45:22:4522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 15:45:22:4522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 15:45:22:4522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 15:45:26:4526"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 15:46:10:4610"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 15:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 15:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 15:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 15:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 15:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 15:47:38:4738"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 15:47:39:4739"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 0af881d5-bc7d-4968-8dde-e1d37137988d for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 15:47:47:4747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 15:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (129 tokens)\u001b[39m","timestamp":"2025-09-20 15:47:58:4758"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat 0af881d5-bc7d-4968-8dde-e1d37137988d\u001b[39m","timestamp":"2025-09-20 15:48:01:481"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/0d60834a-e434-4b69-94b9-7aee71bafc95-denom.txt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 15:48:41:4841"}
{"errors":["Body: \"files[0].fileName\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 15:48:41:4841","url":"/message"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 0c0eeee5-bcbc-4eba-a46d-e72dc7e01414 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 15:48:55:4855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 19db92be-2692-4477-a844-df4f4f1ef498 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 15:48:55:4855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 584de117-9037-4f71-a097-2e8bcb13dcd7 for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 15:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/7522008d-bde2-4283-8fae-d5c54cab346f-denom.txt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 15:49:31:4931"}
{"errors":["Body: \"files[0].fileName\" is not allowed"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 15:49:31:4931","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 15:56:50:5650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 15:56:51:5651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 15:56:52:5652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 15:56:52:5652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 15:56:52:5652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 15:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 15:56:54:5654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 15:57:09:579"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 15:57:09:579"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 15:57:09:579"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 15:57:11:5711"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 15:57:16:5716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 15:57:16:5716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 15:57:16:5716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 15:57:16:5716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 15:57:19:5719"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 15:57:54:5754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 15:57:56:5756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 15:57:56:5756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 15:57:56:5756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 15:57:56:5756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 15:57:56:5756"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 15:59:49:5949"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 15:59:50:5950"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 15:59:51:5951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 15:59:51:5951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 15:59:51:5951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 15:59:52:5952"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 15:59:54:5954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 15:59:54:5954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 15:59:54:5954"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:00:07:07"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:00:07:07"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:00:07:07"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:00:13:013"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:00:18:018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:00:18:018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:00:18:018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:00:18:018"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:00:20:020"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:00:53:053"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3000\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3000/health\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3000/api\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 16:00:54:054"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:01:08:18"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:01:09:19"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:01:10:110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:01:10:110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:01:10:110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:01:11:111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:01:12:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:01:12:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:01:12:112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:01:26:126"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:01:26:126"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:01:26:126"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:01:29:129"}
{"code":"EHOSTUNREACH","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions:\u001b[39m","name":"RestError","stack":"RestError\n    at ClientRequest.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\nodeHttpClient.ts:242:11)\n    at Object.onceWrapper (node:events:633:26)\n    at ClientRequest.emit (node:events:518:28)\n    at ClientRequest.emit (node:domain:489:12)\n    at emitErrorEvent (node:_http_client:104:11)\n    at TLSSocket.socketErrorListener (node:_http_client:518:5)\n    at TLSSocket.emit (node:events:518:28)\n    at TLSSocket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:02:03:23"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå Database connection failed: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2098:37\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-20 16:02:03:23"}
{"code":"ESOCKET","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to load configurations from database: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2098:37\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-20 16:02:03:23"}
{"code":"ESOCKET","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFailed to load configurations from database, using environment variables: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\u001b[39m","name":"ConnectionError","originalError":{"code":"ESOCKET"},"stack":"ConnectionError: Failed to connect to aivaserver.database.windows.net:1433 - getaddrinfo ENOTFOUND aivaserver.database.windows.net\n    at connectListener (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17)\n    at Connection.onConnect (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1759:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at Connection.socketError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2309:12)\n    at c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:2098:37\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 19 configurations from environment\u001b[39m","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:02:03:23"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:02:28:228"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:05:17:517"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:05:19:519"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:05:20:520"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:05:22:522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:05:22:522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:05:22:522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:05:37:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:05:37:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:05:37:537"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:05:39:539"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:05:45:545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:05:45:545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:05:45:545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:05:45:545"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:05:48:548"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:06:20:620"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:06:21:621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:06:21:621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:06:21:621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:06:21:621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:06:22:622"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:20:40:2040"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:20:42:2042"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:20:43:2043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:20:43:2043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:20:43:2043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:20:45:2045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:20:46:2046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:20:46:2046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:20:46:2046"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:21:04:214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:21:04:214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:21:04:214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:21:07:217"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:21:12:2112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:21:12:2112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:21:12:2112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:21:12:2112"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:21:15:2115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:21:50:2150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:21:52:2152"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:21:53:2153"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:34:28:3428"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:34:29:3429"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:34:30:3430"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:34:30:3430"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:34:30:3430"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:34:31:3431"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:34:32:3432"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:34:32:3432"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:34:32:3432"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:34:46:3446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:34:46:3446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:34:46:3446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:34:48:3448"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:34:53:3453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:34:53:3453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:34:53:3453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:34:53:3453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:34:56:3456"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:35:31:3531"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 16:35:33:3533"}
{"body":{"files":[{"fileName":"test-file.txt","id":"test-file-id","mimeType":"text/plain","originalName":"test-file.txt","url":"https://example.com/test-file.txt"}],"message":"Please analyze this file"},"errors":["Body: \"files[0].id\" must be a valid GUID at files.0.id","Body: \"files[0].fileName\" is not allowed at files.0.fileName"],"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mValidation failed:\u001b[39m","method":"POST","timestamp":"2025-09-20 16:37:34:3734","url":"/message"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:38:41:3841"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:38:44:3844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:38:44:3844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:38:44:3844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:38:55:3855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:38:56:3856"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:39:01:391"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:39:01:391"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:39:01:391"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:39:01:391"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:39:04:394"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:39:32:3932"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:39:33:3933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:39:33:3933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:39:33:3933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:39:33:3933"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:39:33:3933"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:41:08:418"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:41:09:419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:41:10:4110"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:41:11:4111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:41:11:4111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:41:11:4111"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:41:22:4122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:41:22:4122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:41:22:4122"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:41:24:4124"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:41:28:4128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:41:28:4128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:41:28:4128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:41:28:4128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:41:30:4130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:41:59:4159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 16:42:00:420"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 16:42:42:4242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 16:42:42:4242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mProcessing 1 files\u001b[39m","timestamp":"2025-09-20 16:42:42:4242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile 0:\u001b[39m","timestamp":"2025-09-20 16:42:42:4242"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreated default workspace 4db179d9-a8d9-4411-ac9d-1aacd35285d7 for user test-user-id\u001b[39m","timestamp":"2025-09-20 16:42:48:4248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mProcessing file: {\"id\":\"550e8400-e29b-41d4-a716-446655440000\",\"originalName\":\"test-file.txt\",\"fileName\":\"test-file.txt\",\"url\":\"https://example.com/test-file.txt\",\"mimeType\":\"text/plain\"}\u001b[39m","timestamp":"2025-09-20 16:42:48:4248"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracting content from file: test-file.txt\u001b[39m","timestamp":"2025-09-20 16:42:48:4248"}
{"code":"BlobNotFound","details":{"code":"BlobNotFound","content-length":"215","content-type":"application/xml","date":"Sat, 20 Sep 2025 11:12:48 GMT","errorCode":"BlobNotFound","message":"The specified blob does not exist.\nRequestId:bb10ef74-c01e-0089-151f-2ad7c0000000\nTime:2025-09-20T11:12:49.4712921Z","server":"Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0","x-ms-client-request-id":"9b86329d-782e-42d3-948a-552c767bea2f","x-ms-request-id":"bb10ef74-c01e-0089-151f-2ad7c0000000","x-ms-version":"2025-07-05"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFile content read error: The specified blob does not exist.\u001b[39m\n\u001b[31mRequestId:bb10ef74-c01e-0089-151f-2ad7c0000000\u001b[39m\n\u001b[31mTime:2025-09-20T11:12:49.4712921Z\u001b[39m","name":"RestError","stack":"RestError: The specified blob does not exist.\nRequestId:bb10ef74-c01e-0089-151f-2ad7c0000000\nTime:2025-09-20T11:12:49.4712921Z\n    at handleErrorResponse (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:255:17)\n    at deserializeResponseBody (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\deserializationPolicy.ts:159:43)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-client\\src\\serviceClient.ts:206:27)\n    at async StorageContextClient.sendOperationRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-http-compat\\src\\extendedClient.ts:99:23)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\storage-blob\\src\\Clients.ts:1251:9\n    at async Object.withSpan (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\@azure\\core-tracing\\src\\tracingClient.ts:70:22)\n    at async StorageService.getFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:189:32)\n    at async FileAnalysisService.extractFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:171:27)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\chat.ts:523:29","statusCode":404,"timestamp":"2025-09-20 16:42:49:4249"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to extract content from file test-file.txt: Failed to read file content\u001b[39m","stack":"Error: Failed to read file content\n    at StorageService.getFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\storage.ts:194:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async FileAnalysisService.extractFileContent (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\services\\fileAnalysisService.ts:171:27)\n    at async c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\src\\routes\\chat.ts:523:29","timestamp":"2025-09-20 16:42:49:4249"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 16:42:50:4250"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (237 tokens)\u001b[39m","timestamp":"2025-09-20 16:42:52:4252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user test-user-id in chat 0cf8f6ba-590c-44a2-a1ec-4c13cdbd8050\u001b[39m","timestamp":"2025-09-20 16:42:54:4254"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:45:38:4538"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:45:39:4539"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:45:40:4540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:45:41:4541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:45:41:4541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:45:41:4541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:45:53:4553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:45:53:4553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:45:53:4553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:45:55:4555"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:45:59:4559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:45:59:4559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:45:59:4559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:45:59:4559"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:46:01:461"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:46:30:4630"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:46:31:4631"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:46:31:4631"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:46:31:4631"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:46:31:4631"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 16:46:32:4632"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUser logged in: sudhenreddym@gmail.com\u001b[39m","timestamp":"2025-09-20 16:46:52:4652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 16:46:59:4659"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 16:46:59:4659"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 16:47:01:471"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: b93c75ab-2953-4646-be51-10179aa3a4ad for user: 7FC8F24A-5494-426C-93F2-61471A72D6AD in workspace: 655d3602-db1f-435e-91f7-d90866e6fdaa\u001b[39m","timestamp":"2025-09-20 16:47:07:477"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 16:47:12:4712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 16:47:12:4712"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 16:47:14:4714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (145 tokens)\u001b[39m","timestamp":"2025-09-20 16:47:17:4717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat b93c75ab-2953-4646-be51-10179aa3a4ad\u001b[39m","timestamp":"2025-09-20 16:47:18:4718"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 16:47:23:4723"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 16:47:23:4723"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 16:47:27:4727"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (202 tokens)\u001b[39m","timestamp":"2025-09-20 16:47:28:4728"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat b93c75ab-2953-4646-be51-10179aa3a4ad\u001b[39m","timestamp":"2025-09-20 16:47:29:4729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/526b924b-3285-4195-ac56-ee8474a81df2-ravi is a student in rgukt sklm and.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 16:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 16:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 16:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mProcessing 1 files\u001b[39m","timestamp":"2025-09-20 16:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile 0:\u001b[39m","timestamp":"2025-09-20 16:47:51:4751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mProcessing file: {\"id\":\"526b924b-3285-4195-ac56-ee8474a81df2\",\"originalName\":\"ravi is a student in rgukt sklm and.txt\",\"url\":\"https://storageaiva.blob.core.windows.net/blob/7FC8F24A-5494-426C-93F2-61471A72D6AD/526b924b-3285-4195-ac56-ee8474a81df2-ravi%20is%20a%20student%20in%20rgukt%20sklm%20and.txt\",\"mimeType\":\"text/plain\",\"fileName\":\"7FC8F24A-5494-426C-93F2-61471A72D6AD/526b924b-3285-4195-ac56-ee8474a81df2-ravi is a student in rgukt sklm and.txt\"}\u001b[39m","timestamp":"2025-09-20 16:47:52:4752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracting content from file: 7FC8F24A-5494-426C-93F2-61471A72D6AD/526b924b-3285-4195-ac56-ee8474a81df2-ravi is a student in rgukt sklm and.txt\u001b[39m","timestamp":"2025-09-20 16:47:52:4752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 16:47:54:4754"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (377 tokens)\u001b[39m","timestamp":"2025-09-20 16:47:55:4755"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat b93c75ab-2953-4646-be51-10179aa3a4ad\u001b[39m","timestamp":"2025-09-20 16:47:56:4756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile uploaded: 7FC8F24A-5494-426C-93F2-61471A72D6AD/fa58b3bf-09ba-4bef-b33e-52298f7f1545-denom.txt.txt by user: 7FC8F24A-5494-426C-93F2-61471A72D6AD\u001b[39m","timestamp":"2025-09-20 16:48:52:4852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 16:48:52:4852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 16:48:52:4852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mProcessing 1 files\u001b[39m","timestamp":"2025-09-20 16:48:52:4852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFile 0:\u001b[39m","timestamp":"2025-09-20 16:48:52:4852"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mProcessing file: {\"id\":\"fa58b3bf-09ba-4bef-b33e-52298f7f1545\",\"originalName\":\"denom.txt.txt\",\"url\":\"https://storageaiva.blob.core.windows.net/blob/7FC8F24A-5494-426C-93F2-61471A72D6AD/fa58b3bf-09ba-4bef-b33e-52298f7f1545-denom.txt.txt\",\"mimeType\":\"text/plain\",\"fileName\":\"7FC8F24A-5494-426C-93F2-61471A72D6AD/fa58b3bf-09ba-4bef-b33e-52298f7f1545-denom.txt.txt\"}\u001b[39m","timestamp":"2025-09-20 16:48:56:4856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mExtracting content from file: 7FC8F24A-5494-426C-93F2-61471A72D6AD/fa58b3bf-09ba-4bef-b33e-52298f7f1545-denom.txt.txt\u001b[39m","timestamp":"2025-09-20 16:48:56:4856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 16:48:58:4858"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (645 tokens)\u001b[39m","timestamp":"2025-09-20 16:49:00:490"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 7FC8F24A-5494-426C-93F2-61471A72D6AD in chat b93c75ab-2953-4646-be51-10179aa3a4ad\u001b[39m","timestamp":"2025-09-20 16:49:01:491"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Microsoft Authentication not initialized: Missing environment variables\u001b[39m","timestamp":"2025-09-20 16:54:33:5433"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:54:34:5434"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:54:35:5435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:54:35:5435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:54:35:5435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:54:35:5435"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:54:36:5436"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:54:36:5436"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:54:36:5436"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:54:46:5446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:54:46:5446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:54:46:5446"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:54:48:5448"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:54:53:5453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:54:53:5453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:54:53:5453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:54:53:5453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:55:21:5521"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:55:22:5522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:55:22:5522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:55:22:5522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:55:22:5522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:55:22:5522"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Microsoft Authentication initialized\u001b[39m","timestamp":"2025-09-20 16:56:34:5634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:56:35:5635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:56:36:5636"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:56:37:5637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:56:47:5647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:56:47:5647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:56:47:5647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:56:49:5649"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:56:53:5653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:56:56:5656"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Users_Email' already exists on table 'Users'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Users_Email' already exists on table 'Users'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Users_Email' already exists on table 'Users'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:06:576"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Users_Provider' already exists on table 'Users'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Users_Provider' already exists on table 'Users'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Users_Provider' already exists on table 'Users'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:07:577"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Chats_UserId' already exists on table 'Chats'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Chats_UserId' already exists on table 'Chats'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Chats_UserId' already exists on table 'Chats'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:07:577"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Chats_WorkspaceId' already exists on table 'Chats'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Chats_WorkspaceId' already exists on table 'Chats'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Chats_WorkspaceId' already exists on table 'Chats'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:08:578"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Chats_LastMessageAt' already exists on table 'Chats'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Chats_LastMessageAt' already exists on table 'Chats'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Chats_LastMessageAt' already exists on table 'Chats'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:09:579"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Messages_ChatId' already exists on table 'Messages'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Messages_ChatId' already exists on table 'Messages'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Messages_ChatId' already exists on table 'Messages'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:09:579"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Messages_UserId' already exists on table 'Messages'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Messages_UserId' already exists on table 'Messages'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Messages_UserId' already exists on table 'Messages'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:10:5710"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Messages_CreatedAt' already exists on table 'Messages'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Messages_CreatedAt' already exists on table 'Messages'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Messages_CreatedAt' already exists on table 'Messages'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:11:5711"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_MessageActions_MessageId' already exists on table 'MessageActions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_MessageActions_MessageId' already exists on table 'MessageActions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_MessageActions_MessageId' already exists on table 'MessageActions'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:11:5711"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_MessageActions_UserId' already exists on table 'MessageActions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_MessageActions_UserId' already exists on table 'MessageActions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_MessageActions_UserId' already exists on table 'MessageActions'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:12:5712"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Files_UserId' already exists on table 'Files'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Files_UserId' already exists on table 'Files'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Files_UserId' already exists on table 'Files'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:13:5713"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Files_ChatId' already exists on table 'Files'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Files_ChatId' already exists on table 'Files'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Files_ChatId' already exists on table 'Files'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:13:5713"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Sessions_UserId' already exists on table 'Sessions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Sessions_UserId' already exists on table 'Sessions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Sessions_UserId' already exists on table 'Sessions'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:14:5714"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Sessions_Token' already exists on table 'Sessions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Sessions_Token' already exists on table 'Sessions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Sessions_Token' already exists on table 'Sessions'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:14:5714"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Sessions_ExpiresAt' already exists on table 'Sessions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Sessions_ExpiresAt' already exists on table 'Sessions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Sessions_ExpiresAt' already exists on table 'Sessions'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:15:5715"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_AuditLogs_UserId' already exists on table 'AuditLogs'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_AuditLogs_UserId' already exists on table 'AuditLogs'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_AuditLogs_UserId' already exists on table 'AuditLogs'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:16:5716"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_AuditLogs_CreatedAt' already exists on table 'AuditLogs'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_AuditLogs_CreatedAt' already exists on table 'AuditLogs'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_AuditLogs_CreatedAt' already exists on table 'AuditLogs'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:16:5716"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_DatabaseConnections_UserId' already exists on table 'DatabaseConnections'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_DatabaseConnections_UserId' already exists on table 'DatabaseConnections'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_DatabaseConnections_UserId' already exists on table 'DatabaseConnections'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:17:5717"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Type' already exists on table 'DatabaseConnections'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_DatabaseConnections_Type' already exists on table 'DatabaseConnections'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Type' already exists on table 'DatabaseConnections'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:18:5718"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Status' already exists on table 'DatabaseConnections'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_DatabaseConnections_Status' already exists on table 'DatabaseConnections'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Status' already exists on table 'DatabaseConnections'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:18:5718"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_UserId' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_UserId' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_UserId' already exists on table 'Feedback'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:19:5719"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_Category' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_Category' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_Category' already exists on table 'Feedback'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:19:5719"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_Status' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_Status' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_Status' already exists on table 'Feedback'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:20:5720"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_Priority' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_Priority' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_Priority' already exists on table 'Feedback'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:21:5721"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_CreatedAt' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_CreatedAt' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_CreatedAt' already exists on table 'Feedback'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:21:5721"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_WorkspaceId' already exists on table 'WorkspaceUsers'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_WorkspaceUsers_WorkspaceId' already exists on table 'WorkspaceUsers'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_WorkspaceId' already exists on table 'WorkspaceUsers'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:22:5722"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_UserId' already exists on table 'WorkspaceUsers'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_WorkspaceUsers_UserId' already exists on table 'WorkspaceUsers'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_UserId' already exists on table 'WorkspaceUsers'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:22:5722"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_AccessLevel' already exists on table 'WorkspaceUsers'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_WorkspaceUsers_AccessLevel' already exists on table 'WorkspaceUsers'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_AccessLevel' already exists on table 'WorkspaceUsers'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:23:5723"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Users_Role' already exists on table 'Users'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Users_Role' already exists on table 'Users'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Users_Role' already exists on table 'Users'.\n    at handleError (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (c:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:57:24:5724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:57:24:5724"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:57:25:5725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:57:25:5725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:57:25:5725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:57:25:5725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:57:25:5725"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Microsoft Authentication initialized\u001b[39m","timestamp":"2025-09-20 16:58:44:5844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mOpenAI Service Configuration:\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- endpoint: SET\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- apiKey: SET\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- deploymentName: gpt-4o\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m- mockOpenAI: false\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mInitializing Azure OpenAI client with endpoint:\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAzure OpenAI client initialized successfully\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ OpenAI service initialized\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service initialized\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mFABRIC_WORKSPACE_ID not configured. Some features may not work.\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Fabric Data Agent service initialized\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ AI Data service initialized\u001b[39m","timestamp":"2025-09-20 16:58:45:5845"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Admin Data Service initialized\u001b[39m","timestamp":"2025-09-20 16:58:46:5846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ File Analysis service initialized\u001b[39m","timestamp":"2025-09-20 16:58:46:5846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Initializing Azure services...\u001b[39m","timestamp":"2025-09-20 16:58:46:5846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure SQL Database with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:58:46:5846"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database tables created/verified\u001b[39m","timestamp":"2025-09-20 16:58:57:5857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ SQL Database initialized\u001b[39m","timestamp":"2025-09-20 16:58:57:5857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Azure Blob Storage with connection string\u001b[39m","timestamp":"2025-09-20 16:58:57:5857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Blob Storage initialized\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG: false\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMOCK_APP_CONFIG === 'true': false\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAZURE_APP_CONFIG_CONNECTION_STRING: SET\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ App Configuration initialized\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing real Azure OpenAI with dotenv configuration\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEndpoint: https://aivabot.openai.azure.com/\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure OpenAI initialized\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All Azure services initialized successfully\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure services initialized\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUsing Service Principal authentication for Key Vault from environment\u001b[39m","timestamp":"2025-09-20 16:58:59:5859"}
{"code":"Forbidden","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m‚ö†Ô∏è Key Vault connection test failed, but client initialized. Check permissions: Pagination failed with unexpected statusCode 403\u001b[39m","name":"RestError","stack":"RestError: Pagination failed with unexpected statusCode 403\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts:27:10)\n    at createRestError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\node_modules\\@azure-rest\\core-client\\src\\restError.ts:25:30)\n    at checkPagingRequest (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:269:26)\n    at Object.getPage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\node_modules\\@azure\\keyvault-secrets\\src\\generated\\static-helpers\\pagingHelpers.ts:121:7)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":403,"timestamp":"2025-09-20 16:59:04:594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Azure Key Vault Service initialized with URL: https://aivakeys.vault.azure.net/\u001b[39m","timestamp":"2025-09-20 16:59:04:594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Key Vault integration enabled\u001b[39m","timestamp":"2025-09-20 16:59:04:594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDatabase configuration loaded from environment variables\u001b[39m","timestamp":"2025-09-20 16:59:04:594"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database connected successfully\u001b[39m","timestamp":"2025-09-20 16:59:07:597"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Users_Email' already exists on table 'Users'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Users_Email' already exists on table 'Users'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Users_Email' already exists on table 'Users'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:18:5918"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Users_Provider' already exists on table 'Users'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Users_Provider' already exists on table 'Users'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Users_Provider' already exists on table 'Users'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:18:5918"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Chats_UserId' already exists on table 'Chats'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Chats_UserId' already exists on table 'Chats'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Chats_UserId' already exists on table 'Chats'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:19:5919"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Chats_WorkspaceId' already exists on table 'Chats'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Chats_WorkspaceId' already exists on table 'Chats'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Chats_WorkspaceId' already exists on table 'Chats'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:20:5920"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Chats_LastMessageAt' already exists on table 'Chats'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Chats_LastMessageAt' already exists on table 'Chats'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Chats_LastMessageAt' already exists on table 'Chats'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:20:5920"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Messages_ChatId' already exists on table 'Messages'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Messages_ChatId' already exists on table 'Messages'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Messages_ChatId' already exists on table 'Messages'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:21:5921"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Messages_UserId' already exists on table 'Messages'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Messages_UserId' already exists on table 'Messages'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Messages_UserId' already exists on table 'Messages'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:22:5922"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Messages_CreatedAt' already exists on table 'Messages'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Messages_CreatedAt' already exists on table 'Messages'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Messages_CreatedAt' already exists on table 'Messages'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:23:5923"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_MessageActions_MessageId' already exists on table 'MessageActions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_MessageActions_MessageId' already exists on table 'MessageActions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_MessageActions_MessageId' already exists on table 'MessageActions'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:23:5923"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_MessageActions_UserId' already exists on table 'MessageActions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_MessageActions_UserId' already exists on table 'MessageActions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_MessageActions_UserId' already exists on table 'MessageActions'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:24:5924"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Files_UserId' already exists on table 'Files'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Files_UserId' already exists on table 'Files'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Files_UserId' already exists on table 'Files'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:25:5925"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Files_ChatId' already exists on table 'Files'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Files_ChatId' already exists on table 'Files'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Files_ChatId' already exists on table 'Files'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:25:5925"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Sessions_UserId' already exists on table 'Sessions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Sessions_UserId' already exists on table 'Sessions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Sessions_UserId' already exists on table 'Sessions'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:26:5926"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Sessions_Token' already exists on table 'Sessions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Sessions_Token' already exists on table 'Sessions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Sessions_Token' already exists on table 'Sessions'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:27:5927"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Sessions_ExpiresAt' already exists on table 'Sessions'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Sessions_ExpiresAt' already exists on table 'Sessions'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Sessions_ExpiresAt' already exists on table 'Sessions'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:27:5927"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_AuditLogs_UserId' already exists on table 'AuditLogs'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_AuditLogs_UserId' already exists on table 'AuditLogs'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_AuditLogs_UserId' already exists on table 'AuditLogs'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:28:5928"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_AuditLogs_CreatedAt' already exists on table 'AuditLogs'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_AuditLogs_CreatedAt' already exists on table 'AuditLogs'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_AuditLogs_CreatedAt' already exists on table 'AuditLogs'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:29:5929"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_DatabaseConnections_UserId' already exists on table 'DatabaseConnections'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_DatabaseConnections_UserId' already exists on table 'DatabaseConnections'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_DatabaseConnections_UserId' already exists on table 'DatabaseConnections'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:29:5929"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Type' already exists on table 'DatabaseConnections'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_DatabaseConnections_Type' already exists on table 'DatabaseConnections'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Type' already exists on table 'DatabaseConnections'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:30:5930"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Status' already exists on table 'DatabaseConnections'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_DatabaseConnections_Status' already exists on table 'DatabaseConnections'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_DatabaseConnections_Status' already exists on table 'DatabaseConnections'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:31:5931"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_UserId' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_UserId' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_UserId' already exists on table 'Feedback'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:31:5931"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_Category' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_Category' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_Category' already exists on table 'Feedback'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:32:5932"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_Status' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_Status' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_Status' already exists on table 'Feedback'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:33:5933"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_Priority' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_Priority' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_Priority' already exists on table 'Feedback'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:33:5933"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Feedback_CreatedAt' already exists on table 'Feedback'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Feedback_CreatedAt' already exists on table 'Feedback'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Feedback_CreatedAt' already exists on table 'Feedback'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:34:5934"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_WorkspaceId' already exists on table 'WorkspaceUsers'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_WorkspaceUsers_WorkspaceId' already exists on table 'WorkspaceUsers'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_WorkspaceId' already exists on table 'WorkspaceUsers'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:34:5934"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_UserId' already exists on table 'WorkspaceUsers'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_WorkspaceUsers_UserId' already exists on table 'WorkspaceUsers'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_UserId' already exists on table 'WorkspaceUsers'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:35:5935"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_AccessLevel' already exists on table 'WorkspaceUsers'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_WorkspaceUsers_AccessLevel' already exists on table 'WorkspaceUsers'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_WorkspaceUsers_AccessLevel' already exists on table 'WorkspaceUsers'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:35:5935"}
{"class":16,"code":"EREQUEST","level":"\u001b[37mdebug\u001b[39m","lineNumber":1,"message":"\u001b[37mIndex creation skipped: The operation failed because an index or statistics with name 'IX_Users_Role' already exists on table 'Users'.\u001b[39m","name":"RequestError","number":1913,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":1,"message":"The operation failed because an index or statistics with name 'IX_Users_Role' already exists on table 'Users'.","name":"ERROR","number":1913,"procName":"","serverName":"aivaserver","state":1}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The operation failed because an index or statistics with name 'IX_Users_Role' already exists on table 'Users'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","state":1,"timestamp":"2025-09-20 16:59:36:5936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Database schema initialized\u001b[39m","timestamp":"2025-09-20 16:59:36:5936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 0 configurations from database\u001b[39m","timestamp":"2025-09-20 16:59:37:5937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized\u001b[39m","timestamp":"2025-09-20 16:59:37:5937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Configuration Manager initialized with Key Vault integration\u001b[39m","timestamp":"2025-09-20 16:59:37:5937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service initialized\u001b[39m","timestamp":"2025-09-20 16:59:37:5937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage container 'blob' ready\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Storage service ready\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Cache service ready\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ AIVA Backend API running on port 3001\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:3001/health\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìö API info: http://localhost:3001/api\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-20 16:59:38:5938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 17:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 17:01:15:115"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 17:01:17:117"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 17:01:23:123"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 17:01:23:123"}
{"class":16,"code":"EREQUEST","level":"\u001b[31merror\u001b[39m","lineNumber":2,"message":"\u001b[31mSend message error: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\u001b[39m","name":"RequestError","number":547,"originalError":{"info":{"class":16,"handlerName":"onErrorMessage","lineNumber":2,"message":"The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.","name":"ERROR","number":547,"procName":"","serverName":"aivaserver","state":0}},"precedingErrors":[],"procName":"","serverName":"aivaserver","stack":"RequestError: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK__Messages__chatId__06CD04F7\". The conflict occurred in database \"aivadb\", table \"dbo.Chats\", column 'id'.\n    at handleError (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at Connection.emit (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\connection.ts:1902:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\handler.ts:388:21)\n    at Readable.<anonymous> (C:\\Users\\sudhe\\Downloads\\aiva-main0\\aiva-main\\web-app\\server\\node_modules\\mssql\\node_modules\\tedious\\src\\token\\token-stream-parser.ts:22:55)\n    at Readable.emit (node:events:518:28)\n    at Readable.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)","timestamp":"2025-09-20 17:01:26:126"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: fb10e961-6384-4ff7-ad07-e7d35dda5717 for user: 45F04D58-FA50-49AA-8820-CD548D25CD39 in workspace: 5cdd71b2-3c65-4e17-8ca0-b20afdb32b6f\u001b[39m","timestamp":"2025-09-20 17:01:31:131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 17:01:39:139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 17:01:39:139"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 17:01:42:142"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (160 tokens)\u001b[39m","timestamp":"2025-09-20 17:01:44:144"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 45F04D58-FA50-49AA-8820-CD548D25CD39 in chat fb10e961-6384-4ff7-ad07-e7d35dda5717\u001b[39m","timestamp":"2025-09-20 17:01:46:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 17:01:51:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 17:01:51:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 17:01:54:154"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (178 tokens)\u001b[39m","timestamp":"2025-09-20 17:01:55:155"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 45F04D58-FA50-49AA-8820-CD548D25CD39 in chat fb10e961-6384-4ff7-ad07-e7d35dda5717\u001b[39m","timestamp":"2025-09-20 17:01:56:156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action removed: dislike for message: fbaf0fe1-55c8-46aa-b75c-0a58ca51f3d1 user: 45F04D58-FA50-49AA-8820-CD548D25CD39\u001b[39m","timestamp":"2025-09-20 17:01:59:159"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for message: fbaf0fe1-55c8-46aa-b75c-0a58ca51f3d1 user: 45F04D58-FA50-49AA-8820-CD548D25CD39\u001b[39m","timestamp":"2025-09-20 17:02:01:21"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage action added: like for user: 45F04D58-FA50-49AA-8820-CD548D25CD39, message: fbaf0fe1-55c8-46aa-b75c-0a58ca51f3d1\u001b[39m","timestamp":"2025-09-20 17:02:01:21"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mChat created: 5ea693ec-a479-49c1-85ce-cca6c7df42d4 for user: 45F04D58-FA50-49AA-8820-CD548D25CD39 in workspace: 5cdd71b2-3c65-4e17-8ca0-b20afdb32b6f\u001b[39m","timestamp":"2025-09-20 17:02:04:24"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived message request body:\u001b[39m","timestamp":"2025-09-20 17:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRequest headers:\u001b[39m","timestamp":"2025-09-20 17:02:09:29"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mSending request to Azure OpenAI (gpt-4o)\u001b[39m","timestamp":"2025-09-20 17:02:11:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived response from Azure OpenAI (128 tokens)\u001b[39m","timestamp":"2025-09-20 17:02:12:212"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMessage processed for user 45F04D58-FA50-49AA-8820-CD548D25CD39 in chat 5ea693ec-a479-49c1-85ce-cca6c7df42d4\u001b[39m","timestamp":"2025-09-20 17:02:13:213"}
